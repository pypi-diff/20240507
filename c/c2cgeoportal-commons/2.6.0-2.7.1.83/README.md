# Comparing `tmp/c2cgeoportal_commons-2.6.0-py3-none-any.whl.zip` & `tmp/c2cgeoportal_commons-2.7.1.83-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,78 +1,82 @@
-Zip file size: 122464 bytes, number of entries: 76
--rw-r--r--  2.0 unx     2145 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/__init__.py
--rwxr-xr-x  2.0 unx     4522 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/env.py
--rw-r--r--  2.0 unx     2814 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/028477929d13_add_technical_roles.py
--rw-r--r--  2.0 unx     9009 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/116b9b79fc4d_internal_and_external_layer_tables_.py
--rw-r--r--  2.0 unx     1944 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/1418cb05921b_merge_1_6_and_master_branches.py
--rw-r--r--  2.0 unx     2158 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/164ac0819a61_add_image_format_to_wmts_layer.py
--rw-r--r--  2.0 unx    11249 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/166ff2dcc48d_create_database.py
--rw-r--r--  2.0 unx     2184 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/16e43f8c0330_remove_old_metadata_column.py
--rw-r--r--  2.0 unx     2724 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/1d5d4abfebd1_add_restricted_theme.py
--rw-r--r--  2.0 unx     3330 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/1de20166b274_remove_v1_artifacts.py
--rw-r--r--  2.0 unx     3499 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/20137477bd02_update_icons_url.py
--rw-r--r--  2.0 unx     2732 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/21f11066f8ec_trigger_on_role_updates_user_in_static.py
--rw-r--r--  2.0 unx     2354 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/22e6dfb556de_add_description_tree_.py
--rw-r--r--  2.0 unx     1944 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/29f2a32859ec_merge_1_6_and_master_branches.py
--rw-r--r--  2.0 unx     2216 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/2b8ed8c1df94_set_layergroup_treeitem_is_as_a_primary_.py
--rw-r--r--  2.0 unx     2757 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/32527659d57b_move_exclude_properties_from_layerv1_to_.py
--rw-r--r--  2.0 unx     1956 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/32b21aa1d0ed_merge_e004f76e951a_and_e004f76e951a_.py
--rw-r--r--  2.0 unx     2778 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/338b57593823_remove_trigger_on_role_name_change.py
--rw-r--r--  2.0 unx    16186 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/415746eb9f6_changes_for_v2.py
--rw-r--r--  2.0 unx     2512 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/5109242131ce_add_column_time_widget.py
--rw-r--r--  2.0 unx     2943 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/53ba1a68d5fe_add_theme_to_fulltextsearch.py
--rw-r--r--  2.0 unx     3576 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/54645a535ad6_add_ordering_in_relation.py
--rw-r--r--  2.0 unx     2299 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/56dc90838d90_fix_removing_layerv1.py
--rw-r--r--  2.0 unx     2435 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/596ba21e3833_separate_local_internal.py
--rw-r--r--  2.0 unx     2381 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/678f88c7ad5e_add_vector_tiles_layers_table.py
--rw-r--r--  2.0 unx     2441 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/6a412d9437b1_rename_serverogc_to_ogcserver.py
--rw-r--r--  2.0 unx     2649 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/6d87fdad275a_convert_metadata_to_the_right_case.py
--rw-r--r--  2.0 unx     2732 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/7530011a66a7_trigger_on_role_updates_user_in_static.py
--rw-r--r--  2.0 unx     5168 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/78fd093c8393_add_api_s_intrfaces.py
--rw-r--r--  2.0 unx     2391 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/7d271f4527cd_add_layer_column_in_layerv1_table.py
--rw-r--r--  2.0 unx     2198 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/809650bd04c3_add_dimension_field.py
--rw-r--r--  2.0 unx     2918 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/8117bb9bba16_use_dimension_on_all_the_layers.py
--rw-r--r--  2.0 unx     9301 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/87f8330ed64e_add_missing_delete_cascades.py
--rw-r--r--  2.0 unx     2714 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/9268a1dffac0_add_trigger_to_be_able_to_correctly_.py
--rw-r--r--  2.0 unx     1939 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/94db7e7e5b21_merge_2_2_and_master_branches.py
--rw-r--r--  2.0 unx     6756 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/951ff84bd8ec_be_able_to_delete_a_wms_layer_in_sql.py
--rw-r--r--  2.0 unx     2346 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/a00109812f89_add_field_layer_wms_valid.py
--rw-r--r--  2.0 unx     1942 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/a4f1aac9bda_merge_1_6_and_master_branches.py
--rw-r--r--  2.0 unx     2137 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/b60f2a505f42_remame_uimetadata_to_metadata.py
--rw-r--r--  2.0 unx     2367 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/c75124553bf3_remove_deprecated_columns.py
--rw-r--r--  2.0 unx     2468 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/d48a63b348f1_change_mapserver_url_for_docker.py
--rw-r--r--  2.0 unx     3428 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/d8ef99bc227e_be_able_to_delete_a_linked_functionality.py
--rw-r--r--  2.0 unx     1944 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/daf738d5bae4_merge_2_0_and_master_branches.py
--rw-r--r--  2.0 unx     1931 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/dba87f2647f9_merge_2_2_on_2_3.py
--rw-r--r--  2.0 unx     4416 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/e004f76e951a_add_missing_not_null.py
--rw-r--r--  2.0 unx     3080 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/e7e03dedade3_put_the_default_wms_server_in_the_.py
--rw-r--r--  2.0 unx     3271 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/e85afd327ab3_cascade_deletes_to_tsearch.py
--rw-r--r--  2.0 unx     2947 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/ec82a8906649_add_missing_on_delete_cascade_on_layer_.py
--rw-r--r--  2.0 unx     2293 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/ee25d267bf46_main_interface_desktop.py
--rw-r--r--  2.0 unx     1940 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/main/eeb345672454_merge_2_4_and_master_branches.py
--rw-r--r--  2.0 unx     2248 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/static/0c640a58a09a_add_opt_key_column.py
--rw-r--r--  2.0 unx     2696 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/static/107b81f5b9fe_add_missing_delete_cascades.py
--rw-r--r--  2.0 unx     2600 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/static/1857owc78a07_add_last_login_and_expiration_date.py
--rw-r--r--  2.0 unx     6170 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/static/1da396a88908_move_user_table_to_static_schema.py
--rw-r--r--  2.0 unx     2048 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/static/3f89a7d71a5e_alter_column_url_to_remove_limitation.py
--rw-r--r--  2.0 unx     2665 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/static/53d671b17b20_add_timezone_on_datetime_fields.py
--rw-r--r--  2.0 unx     2218 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/static/5472fbc19f39_add_temp_password_column.py
--rw-r--r--  2.0 unx     4057 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/static/7ef947f30f20_add_oauth2_tables.py
--rw-r--r--  2.0 unx     3571 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/static/ae5e88f35669_add_table_user_role.py
--rw-r--r--  2.0 unx     2094 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/alembic/static/bd029dbfc11a_fill_tech_data_column.py
--rw-r--r--  2.0 unx        0 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/lib/__init__.py
--rw-r--r--  2.0 unx     3439 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/lib/email_.py
--rw-r--r--  2.0 unx     5031 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/lib/url.py
--rw-r--r--  2.0 unx     1838 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/lib/validators.py
--rw-r--r--  2.0 unx     2577 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/models/__init__.py
--rw-r--r--  2.0 unx    36942 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/models/main.py
--rw-r--r--  2.0 unx     2802 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/models/sqlalchemy.py
--rw-r--r--  2.0 unx    11125 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/models/static.py
--rw-r--r--  2.0 unx     3698 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/testing/__init__.py
--rw-r--r--  2.0 unx     3045 b- defN 21-Jul-06 10:47 c2cgeoportal_commons/testing/initializedb.py
--rw-r--r--  2.0 unx        0 b- defN 21-Jul-06 10:47 tests/__init__.py
--rw-r--r--  2.0 unx     1474 b- defN 21-Jul-06 10:47 tests/conftest.py
--rw-r--r--  2.0 unx     1731 b- defN 21-Jul-06 11:29 c2cgeoportal_commons-2.6.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 21-Jul-06 11:29 c2cgeoportal_commons-2.6.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       27 b- defN 21-Jul-06 11:29 c2cgeoportal_commons-2.6.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     9437 b- defN 21-Jul-06 11:29 c2cgeoportal_commons-2.6.0.dist-info/RECORD
-76 files, 285989 bytes uncompressed, 106336 bytes compressed:  62.8%
+Zip file size: 133842 bytes, number of entries: 80
+-rw-r--r--  2.0 unx     2053 b- defN 24-May-07 15:28 c2cgeoportal_commons/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-07 15:28 c2cgeoportal_commons/py.typed
+-rwxr-xr-x  2.0 unx     4940 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/env.py
+-rw-r--r--  2.0 unx     2881 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/028477929d13_add_technical_roles.py
+-rw-r--r--  2.0 unx     2269 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/04f05bfbb05e_remove_the_old_is_expanded_column.py
+-rw-r--r--  2.0 unx     9071 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/116b9b79fc4d_internal_and_external_layer_tables_.py
+-rw-r--r--  2.0 unx     2013 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/1418cb05921b_merge_1_6_and_master_branches.py
+-rw-r--r--  2.0 unx     2220 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/164ac0819a61_add_image_format_to_wmts_layer.py
+-rw-r--r--  2.0 unx    11246 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/166ff2dcc48d_create_database.py
+-rw-r--r--  2.0 unx     2251 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/16e43f8c0330_remove_old_metadata_column.py
+-rw-r--r--  2.0 unx     2868 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/1d5d4abfebd1_add_restricted_theme.py
+-rw-r--r--  2.0 unx     3397 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/1de20166b274_remove_v1_artifacts.py
+-rw-r--r--  2.0 unx     3561 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/20137477bd02_update_icons_url.py
+-rw-r--r--  2.0 unx     2794 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/21f11066f8ec_trigger_on_role_updates_user_in_static.py
+-rw-r--r--  2.0 unx     2416 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/22e6dfb556de_add_description_tree_.py
+-rw-r--r--  2.0 unx     2013 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/29f2a32859ec_merge_1_6_and_master_branches.py
+-rw-r--r--  2.0 unx     2278 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/2b8ed8c1df94_set_layergroup_treeitem_is_as_a_primary_.py
+-rw-r--r--  2.0 unx     2819 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/32527659d57b_move_exclude_properties_from_layerv1_to_.py
+-rw-r--r--  2.0 unx     2025 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/32b21aa1d0ed_merge_e004f76e951a_and_e004f76e951a_.py
+-rw-r--r--  2.0 unx     2798 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/338b57593823_remove_trigger_on_role_name_change.py
+-rw-r--r--  2.0 unx    16243 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/415746eb9f6_changes_for_v2.py
+-rw-r--r--  2.0 unx     2518 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/5109242131ce_add_column_time_widget.py
+-rw-r--r--  2.0 unx     2261 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/52916d8fde8b_add_sql_fields_to_vector_tiles.py
+-rw-r--r--  2.0 unx     3005 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/53ba1a68d5fe_add_theme_to_fulltextsearch.py
+-rw-r--r--  2.0 unx     3638 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/54645a535ad6_add_ordering_in_relation.py
+-rw-r--r--  2.0 unx     2336 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/56dc90838d90_fix_removing_layerv1.py
+-rw-r--r--  2.0 unx     2497 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/596ba21e3833_separate_local_internal.py
+-rw-r--r--  2.0 unx     2448 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/678f88c7ad5e_add_vector_tiles_layers_table.py
+-rw-r--r--  2.0 unx     2535 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/6a412d9437b1_rename_serverogc_to_ogcserver.py
+-rw-r--r--  2.0 unx     2528 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/6d87fdad275a_convert_metadata_to_the_right_case.py
+-rw-r--r--  2.0 unx     2794 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/7530011a66a7_trigger_on_role_updates_user_in_static.py
+-rw-r--r--  2.0 unx     5235 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/78fd093c8393_add_api_s_intrfaces.py
+-rw-r--r--  2.0 unx     2453 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/7d271f4527cd_add_layer_column_in_layerv1_table.py
+-rw-r--r--  2.0 unx     2260 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/809650bd04c3_add_dimension_field.py
+-rw-r--r--  2.0 unx     3012 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/8117bb9bba16_use_dimension_on_all_the_layers.py
+-rw-r--r--  2.0 unx     9368 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/87f8330ed64e_add_missing_delete_cascades.py
+-rw-r--r--  2.0 unx     2734 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/9268a1dffac0_add_trigger_to_be_able_to_correctly_.py
+-rw-r--r--  2.0 unx     2013 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/94db7e7e5b21_merge_2_2_and_master_branches.py
+-rw-r--r--  2.0 unx     6818 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/951ff84bd8ec_be_able_to_delete_a_wms_layer_in_sql.py
+-rw-r--r--  2.0 unx     2413 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/a00109812f89_add_field_layer_wms_valid.py
+-rw-r--r--  2.0 unx     2011 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/a4f1aac9bda_merge_1_6_and_master_branches.py
+-rw-r--r--  2.0 unx     2199 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/b60f2a505f42_remame_uimetadata_to_metadata.py
+-rw-r--r--  2.0 unx     2434 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/c75124553bf3_remove_deprecated_columns.py
+-rw-r--r--  2.0 unx     2535 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/d48a63b348f1_change_mapserver_url_for_docker.py
+-rw-r--r--  2.0 unx     3434 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/d8ef99bc227e_be_able_to_delete_a_linked_functionality.py
+-rw-r--r--  2.0 unx     2013 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/daf738d5bae4_merge_2_0_and_master_branches.py
+-rw-r--r--  2.0 unx     2000 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/dba87f2647f9_merge_2_2_on_2_3.py
+-rw-r--r--  2.0 unx     4408 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/e004f76e951a_add_missing_not_null.py
+-rw-r--r--  2.0 unx     3142 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/e7e03dedade3_put_the_default_wms_server_in_the_.py
+-rw-r--r--  2.0 unx     3338 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/e85afd327ab3_cascade_deletes_to_tsearch.py
+-rw-r--r--  2.0 unx     2977 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/ec82a8906649_add_missing_on_delete_cascade_on_layer_.py
+-rw-r--r--  2.0 unx     2355 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/ee25d267bf46_main_interface_desktop.py
+-rw-r--r--  2.0 unx     2014 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/main/eeb345672454_merge_2_4_and_master_branches.py
+-rw-r--r--  2.0 unx     2315 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/static/0c640a58a09a_add_opt_key_column.py
+-rw-r--r--  2.0 unx     2763 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/static/107b81f5b9fe_add_missing_delete_cascades.py
+-rw-r--r--  2.0 unx     2660 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/static/1857owc78a07_add_last_login_and_expiration_date.py
+-rw-r--r--  2.0 unx     6242 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/static/1da396a88908_move_user_table_to_static_schema.py
+-rw-r--r--  2.0 unx     2100 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/static/3f89a7d71a5e_alter_column_url_to_remove_limitation.py
+-rw-r--r--  2.0 unx     2727 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/static/53d671b17b20_add_timezone_on_datetime_fields.py
+-rw-r--r--  2.0 unx     2280 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/static/5472fbc19f39_add_temp_password_column.py
+-rw-r--r--  2.0 unx     4090 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/static/7ef947f30f20_add_oauth2_tables.py
+-rw-r--r--  2.0 unx     3633 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/static/ae5e88f35669_add_table_user_role.py
+-rw-r--r--  2.0 unx     2119 b- defN 24-May-07 15:28 c2cgeoportal_commons/alembic/static/bd029dbfc11a_fill_tech_data_column.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-07 15:28 c2cgeoportal_commons/lib/__init__.py
+-rw-r--r--  2.0 unx     3485 b- defN 24-May-07 15:28 c2cgeoportal_commons/lib/email_.py
+-rw-r--r--  2.0 unx     2036 b- defN 24-May-07 15:28 c2cgeoportal_commons/lib/literal.py
+-rw-r--r--  2.0 unx     8304 b- defN 24-May-07 15:28 c2cgeoportal_commons/lib/url.py
+-rw-r--r--  2.0 unx     1830 b- defN 24-May-07 15:28 c2cgeoportal_commons/lib/validators.py
+-rw-r--r--  2.0 unx     2553 b- defN 24-May-07 15:28 c2cgeoportal_commons/models/__init__.py
+-rw-r--r--  2.0 unx    58452 b- defN 24-May-07 15:28 c2cgeoportal_commons/models/main.py
+-rw-r--r--  2.0 unx     2834 b- defN 24-May-07 15:28 c2cgeoportal_commons/models/sqlalchemy.py
+-rw-r--r--  2.0 unx    15162 b- defN 24-May-07 15:28 c2cgeoportal_commons/models/static.py
+-rw-r--r--  2.0 unx     3807 b- defN 24-May-07 15:28 c2cgeoportal_commons/testing/__init__.py
+-rw-r--r--  2.0 unx     3155 b- defN 24-May-07 15:28 c2cgeoportal_commons/testing/initializedb.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-07 15:28 tests/__init__.py
+-rw-r--r--  2.0 unx     1449 b- defN 24-May-07 15:28 tests/conftest.py
+-rw-r--r--  2.0 unx     1877 b- defN 24-May-07 16:10 c2cgeoportal_commons-2.7.1.83.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-07 16:10 c2cgeoportal_commons-2.7.1.83.dist-info/WHEEL
+-rw-r--r--  2.0 unx       27 b- defN 24-May-07 16:10 c2cgeoportal_commons-2.7.1.83.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     9901 b- defN 24-May-07 16:10 c2cgeoportal_commons-2.7.1.83.dist-info/RECORD
+80 files, 325775 bytes uncompressed, 116932 bytes compressed:  64.1%
```

## zipnote {}

```diff
@@ -1,16 +1,22 @@
 Filename: c2cgeoportal_commons/__init__.py
 Comment: 
 
+Filename: c2cgeoportal_commons/py.typed
+Comment: 
+
 Filename: c2cgeoportal_commons/alembic/env.py
 Comment: 
 
 Filename: c2cgeoportal_commons/alembic/main/028477929d13_add_technical_roles.py
 Comment: 
 
+Filename: c2cgeoportal_commons/alembic/main/04f05bfbb05e_remove_the_old_is_expanded_column.py
+Comment: 
+
 Filename: c2cgeoportal_commons/alembic/main/116b9b79fc4d_internal_and_external_layer_tables_.py
 Comment: 
 
 Filename: c2cgeoportal_commons/alembic/main/1418cb05921b_merge_1_6_and_master_branches.py
 Comment: 
 
 Filename: c2cgeoportal_commons/alembic/main/164ac0819a61_add_image_format_to_wmts_layer.py
@@ -54,14 +60,17 @@
 
 Filename: c2cgeoportal_commons/alembic/main/415746eb9f6_changes_for_v2.py
 Comment: 
 
 Filename: c2cgeoportal_commons/alembic/main/5109242131ce_add_column_time_widget.py
 Comment: 
 
+Filename: c2cgeoportal_commons/alembic/main/52916d8fde8b_add_sql_fields_to_vector_tiles.py
+Comment: 
+
 Filename: c2cgeoportal_commons/alembic/main/53ba1a68d5fe_add_theme_to_fulltextsearch.py
 Comment: 
 
 Filename: c2cgeoportal_commons/alembic/main/54645a535ad6_add_ordering_in_relation.py
 Comment: 
 
 Filename: c2cgeoportal_commons/alembic/main/56dc90838d90_fix_removing_layerv1.py
@@ -180,14 +189,17 @@
 
 Filename: c2cgeoportal_commons/lib/__init__.py
 Comment: 
 
 Filename: c2cgeoportal_commons/lib/email_.py
 Comment: 
 
+Filename: c2cgeoportal_commons/lib/literal.py
+Comment: 
+
 Filename: c2cgeoportal_commons/lib/url.py
 Comment: 
 
 Filename: c2cgeoportal_commons/lib/validators.py
 Comment: 
 
 Filename: c2cgeoportal_commons/models/__init__.py
@@ -210,20 +222,20 @@
 
 Filename: tests/__init__.py
 Comment: 
 
 Filename: tests/conftest.py
 Comment: 
 
-Filename: c2cgeoportal_commons-2.6.0.dist-info/METADATA
+Filename: c2cgeoportal_commons-2.7.1.83.dist-info/METADATA
 Comment: 
 
-Filename: c2cgeoportal_commons-2.6.0.dist-info/WHEEL
+Filename: c2cgeoportal_commons-2.7.1.83.dist-info/WHEEL
 Comment: 
 
-Filename: c2cgeoportal_commons-2.6.0.dist-info/top_level.txt
+Filename: c2cgeoportal_commons-2.7.1.83.dist-info/top_level.txt
 Comment: 
 
-Filename: c2cgeoportal_commons-2.6.0.dist-info/RECORD
+Filename: c2cgeoportal_commons-2.7.1.83.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## c2cgeoportal_commons/__init__.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2011-2020, Camptocamp SA
+# Copyright (c) 2011-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -24,23 +22,22 @@
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
 
-from typing import Optional  # noqa, pylint: disable=unused-import
-
 from c2c.template.config import config as configuration
 from pyramid.config import Configurator
 
 
 def includeme(config: Configurator) -> None:
     """
     Initialize the model for a Pyramid app.
+
     Activate this setup using ``config.include('c2cgeoportal_admin.commons')``.
     """
     settings = config.get_settings()
 
     configuration.init(settings.get("app.cfg"))
     # Update the settings object from the YAML application config file
     settings.update(configuration.get_config())
```

## c2cgeoportal_commons/alembic/env.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2014-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -24,89 +22,104 @@
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
 
+# pylint: disable=no-member
+
 import logging.config
-from typing import Dict
+from typing import Any, Dict, Union, cast
 
 import c2cwsgiutils.pyramid_logging
+import sqlalchemy
 from alembic import context
 from c2c.template.config import config
+from plaster.loaders import setup_logging
 from sqlalchemy import engine_from_config, pool
 
 LOG = logging.getLogger(__name__)
 
 
 # Interpret the config file for Python logging.
 # This line sets up loggers basically.
-c2cwsgiutils.pyramid_logging.init(context.config.config_file_name)
+setup_logging(context.config.config_file_name)
 
 
-def get_config():
+def get_config() -> Dict[str, Union[str, bool]]:
+    """Get the application configuration."""
     config.init(context.config.get_main_option("app.cfg"))
-    settings: Dict[str, str] = {}
+    settings: Dict[str, Union[str, bool]] = {}
     settings.update(config.get_config())
     alembic_name = context.config.get_main_option("type")
-    schema_config_name = "schema{}".format("_{}".format(alembic_name) if alembic_name != "main" else "")
+    schema_config_name = "schema{}".format(f"_{alembic_name}" if alembic_name != "main" else "")
+    script_location = context.config.get_main_option("script_location")
+    version_table = context.config.get_main_option("version_table")
+    version_locations = context.config.get_main_option("version_locations")
+    assert script_location
+    assert version_table
+    assert version_locations
     settings.update(
         {
-            "script_location": context.config.get_main_option("script_location"),
-            "version_table": context.config.get_main_option("version_table"),
-            "version_locations": context.config.get_main_option("version_locations"),
+            "script_location": script_location,
+            "version_table": version_table,
+            "version_locations": version_locations,
             "version_table_schema": config[schema_config_name],
         }
     )
     return settings
 
 
-def run_migrations_offline():  # pragma: no cover
+def run_migrations_offline() -> None:
     """
     Run migrations in 'offline' mode.
 
     This configures the context with just a URL
     and not an Engine, though an Engine is acceptable
     here as well.  By skipping the Engine creation
     we do not even need a DBAPI to be available.
 
     Calls to context.execute() here emit the given string to the
     script output.
-
     """
     conf = get_config()
-    context.configure(url=conf["sqlalchemy.url"], **conf)
+    context.configure(url=conf["sqlalchemy.url"], **conf)  # type: ignore
 
     with context.begin_transaction():
         context.run_migrations()
 
 
-def run_migrations_online():
+def run_migrations_online() -> None:
     """
     Run migrations in 'online' mode.
 
-    In this scenario we need to create an Engine
-    and associate a connection with the context.
-
+    In this scenario we need to create an Engine and associate a connection with the context.
     """
-    conf = get_config()
+    conf: Dict[str, Any] = get_config()
 
     # Autogenerate config
     alembic_name = context.config.get_main_option("type")
-    from c2cgeoportal_commons.models import main, static
+    from c2cgeoportal_commons.models import Base, main, static
 
-    Base = main.Base if alembic_name == "main" else static.Base  # nopep8
     _schema = main._schema if alembic_name == "main" else static._schema
 
-    def include_object(obj, name, type_, reflected, compare_to):  # pylint: disable=unused-argument
+    def include_object(
+        obj: sqlalchemy.ext.declarative.ConcreteBase,
+        name: str,
+        type_: str,
+        reflected: str,
+        compare_to: str,
+    ) -> bool:
+        del name, reflected, compare_to
+
         if type_ == "table":
-            return obj.schema == _schema
+            return cast(bool, obj.schema == _schema)
         else:
-            return obj.table.schema == _schema
+            return cast(bool, obj.table.schema == _schema)
 
     if _schema:
         conf.update(
             {"target_metadata": Base.metadata, "include_schemas": True, "include_object": include_object}
         )
 
     engine = engine_from_config(conf, prefix="sqlalchemy.", poolclass=pool.NullPool)
@@ -116,11 +129,11 @@
     try:
         with context.begin_transaction():
             context.run_migrations()
     finally:
         connection.close()
 
 
-if context.is_offline_mode():  # pragma: no cover
+if context.is_offline_mode():
     run_migrations_offline()
 else:
     run_migrations_online()
```

## c2cgeoportal_commons/alembic/main/028477929d13_add_technical_roles.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add technical roles
+# pylint: disable=no-member
+
+"""
+Add technical roles.
 
 Revision ID: 028477929d13
 Revises: eeb345672454
 Create Date: 2019-10-04 09:33:30.363888
 """
 
 from alembic import op
@@ -42,15 +43,16 @@
 # revision identifiers, used by Alembic.
 revision = "028477929d13"
 down_revision = "eeb345672454"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     role = Table("role", MetaData(), Column("name", Unicode), Column("description", Unicode), schema=schema)
     op.bulk_insert(
         role,
         [
             {"name": name, "description": description}
@@ -59,12 +61,13 @@
                 ("registered", "Used to define default functionalities for registered users"),
                 ("intranet", "Used to define default functionalities for accesses from the intranet"),
             )
         ],
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     for name in ("anonymous", "registered", "intranet"):
         op.execute('DELETE FROM {schema}."role" ' "WHERE name = '{name}'".format(name=name, schema=schema))
```

## c2cgeoportal_commons/alembic/main/116b9b79fc4d_internal_and_external_layer_tables_.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2015-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""internal and external layer tables refactoring, new ogc table
+# pylint: disable=no-member
+
+"""
+internal and external layer tables refactoring, new ogc table.
 
 Revision ID: 116b9b79fc4d
 Revises: 1418cb05921b
 Create Date: 2015-10-28 12:21:59.162238
 """
 
 from alembic import op
@@ -42,15 +43,16 @@
 # revision identifiers, used by Alembic.
 revision = "116b9b79fc4d"
 down_revision = "a4f1aac9bda"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     # Instructions
     op.create_table(
         "server_ogc",
         Column("id", Integer, primary_key=True),
         Column("name", Unicode, nullable=False),
@@ -156,15 +158,16 @@
     op.execute(
         "UPDATE %(schema)s.treeitem "
         "SET type='l_wms' "
         "WHERE type='l_int_wms' OR type='l_ext_wms'" % {"schema": schema}
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     # Instructions
 
     # recreate tables 'layer_internal_wms' and 'layer_external_wms'
     op.create_table(
         "layer_internal_wms",
```

## c2cgeoportal_commons/alembic/main/1418cb05921b_merge_1_6_and_master_branches.py

```diff
@@ -23,27 +23,30 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Merge 1.6 and master branches
+# pylint: disable=no-member
+
+"""
+Merge 1.6 and master branches.
 
 Revision ID: 1418cb05921b
 Revises: ('32527659d57b', '53ba1a68d5fe')
 Create Date: 2015-10-22 09:56:49.165417
 """
 
 # revision identifiers, used by Alembic.
 revision = "1418cb05921b"
 down_revision = ("32527659d57b", "53ba1a68d5fe")
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
-    pass
+def upgrade() -> None:
+    """Upgrade."""
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/alembic/main/164ac0819a61_add_image_format_to_wmts_layer.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2015-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add image format to WMTS layer
+# pylint: disable=no-member
+
+"""
+Add image format to WMTS layer.
 
 Revision ID: 164ac0819a61
 Revises: 20137477bd02
 Create Date: 2015-03-06 09:08:05.754746
 """
 
 from alembic import op
@@ -39,17 +40,19 @@
 from sqlalchemy import Column, Unicode
 
 # revision identifiers, used by Alembic.
 revision = "164ac0819a61"
 down_revision = "20137477bd02"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.add_column("layer_wmts", Column("image_type", Unicode(10)), schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.drop_column("layer_wmts", "image_type", schema=schema)
```

## c2cgeoportal_commons/alembic/main/166ff2dcc48d_create_database.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2014-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""create database
+# pylint: disable=no-member
+
+"""
+create database.
 
 Revision ID: 166ff2dcc48d
 Revises:
 Create Date: 2014-10-24 11:43:23.886123
 """
 
 from hashlib import sha1
@@ -42,32 +43,34 @@
 from sqlalchemy.types import Boolean, DateTime, Float, Integer, String, Unicode, UserDefinedType
 
 # revision identifiers, used by Alembic.
 revision = "166ff2dcc48d"
 down_revision = None
 
 
-class TsVector(UserDefinedType):
+class TsVector(UserDefinedType):  # type: ignore
     """A custom type for PostgreSQL's tsvector type."""
 
-    def get_col_spec(self):
+    def get_col_spec(self) -> str:
         return "TSVECTOR"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
     schema_static = config["schema_static"]
     parentschema = config.get("parentschema")
     srid = config.get("srid")
 
     engine = op.get_bind().engine
-    if type(engine).__name__ != "MockConnection" and op.get_context().dialect.has_table(
-        engine, "functionality", schema=schema
-    ):  # pragma: no cover
-        return
+    with engine.connect() as connection:
+        if type(engine).__name__ != "MockConnection" and op.get_context().dialect.has_table(  # type: ignore
+            connection, "functionality", schema=schema
+        ):
+            return
 
     op.create_table(
         "functionality",
         Column("id", Integer, primary_key=True),
         Column("name", Unicode, nullable=False),
         Column("value", Unicode, nullable=False),
         Column("description", Unicode),
@@ -187,23 +190,23 @@
         Column("username", Unicode, unique=True, nullable=False),
         Column("password", Unicode, nullable=False),
         Column("email", Unicode, nullable=False),
         Column("is_password_changed", Boolean, default=False),
         Column("role_id", Integer, ForeignKey(schema + ".role.id"), nullable=False),
         schema=schema,
     )
-    if parentschema is not None and parentschema != "":  # pragma: no cover
+    if parentschema is not None and parentschema != "":
         op.add_column(
             "user", Column("parent_role_id", Integer, ForeignKey(parentschema + ".role.id")), schema=schema
         )
     op.execute(
         "INSERT INTO %(schema)s.user (type, username, email, password, role_id) "
         "(SELECT 'user', 'admin', 'info@example.com', '%(pass)s', r.id "
         "FROM %(schema)s.role AS r "
-        "WHERE r.name = 'role_admin')" % {"schema": schema, "pass": sha1("admin".encode("utf-8")).hexdigest()}
+        "WHERE r.name = 'role_admin')" % {"schema": schema, "pass": sha1(b"admin").hexdigest()}  # nosec
     )
 
     op.create_table(
         "role_functionality",
         Column("role_id", Integer, ForeignKey(schema + ".role.id"), primary_key=True),
         Column("functionality_id", Integer, ForeignKey(schema + ".functionality.id"), primary_key=True),
         schema=schema,
@@ -246,27 +249,21 @@
     op.create_table(
         "theme_functionality",
         Column("theme_id", Integer, ForeignKey(schema + ".theme.id"), primary_key=True),
         Column("functionality_id", Integer, ForeignKey(schema + ".functionality.id"), primary_key=True),
         schema=schema,
     )
 
-    op.execute(
-        'INSERT INTO {schema}.treeitem (type, name, "order") '
-        "VALUES ('group', 'background', 0)".format(schema=schema)
-    )
-    op.execute(
-        "INSERT INTO {schema}.treegroup (id) SELECT id " "FROM {schema}.treeitem".format(schema=schema)
-    )
-    op.execute(
-        "INSERT INTO {schema}.layergroup (id) SELECT id " "FROM {schema}.treeitem".format(schema=schema)
-    )
+    op.execute(f'INSERT INTO {schema}.treeitem (type, name, "order") ' "VALUES ('group', 'background', 0)")
+    op.execute(f"INSERT INTO {schema}.treegroup (id) SELECT id FROM {schema}.treeitem")
+    op.execute(f"INSERT INTO {schema}.layergroup (id) SELECT id FROM {schema}.treeitem")
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
     schema_static = config["schema_static"]
 
     op.drop_table("theme_functionality", schema=schema)
     op.drop_table("theme", schema=schema)
     op.drop_table("layergroup_treeitem", schema=schema)
     op.drop_table("layer_restrictionarea", schema=schema)
```

## c2cgeoportal_commons/alembic/main/16e43f8c0330_remove_old_metadata_column.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Remove old metadata column
+# pylint: disable=no-member
+
+"""
+Remove old metadata column.
 
 Revision ID: 16e43f8c0330
 Revises: 678f88c7ad5e
 Create Date: 2019-12-13 16:52:03.846822
 """
 
 from alembic import op
@@ -41,17 +42,19 @@
 # revision identifiers, used by Alembic.
 revision = "16e43f8c0330"
 down_revision = "678f88c7ad5e"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.drop_column("treeitem", "metadata_url", schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.add_column("treeitem", Column("metadata_url", Unicode), schema=schema)
```

## c2cgeoportal_commons/alembic/main/1d5d4abfebd1_add_restricted_theme.py

```diff
@@ -21,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add restricted theme
+# pylint: disable=no-member
+
+"""
+Add restricted theme.
 
 Revision ID: 1d5d4abfebd1
 Revises: 54645a535ad6
 Create Date: 2014-11-25 16:51:51.567026
 """
 
 from alembic import op
@@ -38,30 +41,33 @@
 from sqlalchemy.types import Boolean, Integer
 
 # revision identifiers, used by Alembic.
 revision = "1d5d4abfebd1"
 down_revision = "54645a535ad6"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     engine = op.get_bind().engine
-    if type(engine).__name__ != "MockConnection" and op.get_context().dialect.has_table(
-        engine, "restricted_role_theme", schema=schema
-    ):  # pragma: no cover
-        return
+    with engine.connect() as connection:
+        if type(engine).__name__ != "MockConnection" and op.get_context().dialect.has_table(  # type: ignore
+            connection, "restricted_role_theme", schema=schema
+        ):
+            return
 
     op.add_column("theme", Column("public", Boolean, server_default="t", nullable=False), schema=schema)
     op.create_table(
         "restricted_role_theme",
         Column("role_id", Integer, ForeignKey(schema + ".role.id"), primary_key=True),
         Column("theme_id", Integer, ForeignKey(schema + ".theme.id"), primary_key=True),
         schema=schema,
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.drop_table("restricted_role_theme", schema=schema)
     op.drop_column("theme", "public", schema=schema)
```

## c2cgeoportal_commons/alembic/main/1de20166b274_remove_v1_artifacts.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Remove v1 artifacts
+# pylint: disable=no-member
+
+"""
+Remove v1 artifacts.
 
 Revision ID: 1de20166b274
 Revises: e85afd327ab3
 Create Date: 2019-05-01 12:09:04.929610
 """
 
 from alembic import op
@@ -42,21 +43,23 @@
 # revision identifiers, used by Alembic.
 revision = "1de20166b274"
 down_revision = "e85afd327ab3"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.drop_table("layerv1", schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.create_table(
         "layerv1",
         Column("id", Integer, ForeignKey(schema + ".layer.id", ondelete="cascade"), primary_key=True),
         Column("is_checked", Boolean, default=True),
         Column("icon", Unicode),
```

## c2cgeoportal_commons/alembic/main/20137477bd02_update_icons_url.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2014-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,30 +21,34 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Update icons url
+# pylint: disable=no-member
+
+"""
+Update icons url.
 
 Revision ID: 20137477bd02
 Revises: 415746eb9f6
 Create Date: 2014-12-10 17:50:36.176587
 """
 
 from alembic import op
 from c2c.template.config import config
 
 # revision identifiers, used by Alembic.
 revision = "20137477bd02"
 down_revision = "1d5d4abfebd1"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     updates = [
         "UPDATE %(schema)s.%(table)s SET %(column)s = 'static:///' || %(column)s "
         "WHERE (%(column)s IS NOT NULL) AND (NOT %(column)s = '') "
         "AND NOT (%(column)s LIKE 'http%%') "
         "AND NOT (%(column)s LIKE '/%%')",
@@ -57,15 +59,16 @@
     for update in updates:
         op.execute(update % {"schema": schema, "table": "theme", "column": "icon"})
         op.execute(update % {"schema": schema, "table": "layerv1", "column": "icon"})
         op.execute(update % {"schema": schema, "table": "layerv1", "column": "kml"})
         op.execute(update % {"schema": schema, "table": "layerv1", "column": "legend_image"})
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     updates = [
         "UPDATE %(schema)s.%(table)s SET %(column)s = substring(%(column)s from 11) "
         "WHERE %(column)s LIKE 'static:///%%'",
         "UPDATE %(schema)s.%(table)s SET %(column)s = substring(%(column)s from 10) "
         "WHERE %(column)s LIKE 'static://%%'",
```

## c2cgeoportal_commons/alembic/main/21f11066f8ec_trigger_on_role_updates_user_in_static.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2018-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""trigger_on_role_updates_user_in_static
+# pylint: disable=no-member
+
+"""
+trigger_on_role_updates_user_in_static.
 
 Revision ID: 21f11066f8ec
 Revises: d48a63b348f1
 Create Date: 2018-03-23 09:08:56.910629
 """
 
 from alembic import op
@@ -40,15 +41,16 @@
 # revision identifiers, used by Alembic.
 revision = "21f11066f8ec"
 down_revision = "d48a63b348f1"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
     staticschema = config["schema_static"]
 
     op.execute(
         """
 CREATE OR REPLACE FUNCTION {schema}.on_role_name_change()
 RETURNS trigger AS
@@ -62,15 +64,16 @@
 $$
 LANGUAGE plpgsql""".format(
             schema=schema, staticschema=staticschema
         )
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.execute(
         """
 CREATE OR REPLACE FUNCTION {schema}.on_role_name_change()
 RETURNS trigger AS
 $$
```

## c2cgeoportal_commons/alembic/main/22e6dfb556de_add_description_tree_.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2015-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add description column in the tree
+# pylint: disable=no-member
+
+"""
+Add description column in the tree.
 
 Revision ID: 22e6dfb556de
 Revises: 2b8ed8c1df94
 Create Date: 2015-12-04 13:44:42.475652
 """
 
 from alembic import op
@@ -39,21 +40,23 @@
 from sqlalchemy import Column, Unicode
 
 # revision identifiers, used by Alembic.
 revision = "22e6dfb556de"
 down_revision = "2b8ed8c1df94"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     # Instructions
     op.add_column("layergroup_treeitem", Column("description", Unicode), schema=schema)
     op.add_column("treeitem", Column("description", Unicode), schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     # Instructions
     op.drop_column("layergroup_treeitem", "description", schema=schema)
     op.drop_column("treeitem", "description", schema=schema)
```

## c2cgeoportal_commons/alembic/main/29f2a32859ec_merge_1_6_and_master_branches.py

```diff
@@ -23,27 +23,30 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Merge 1.6 and master branches
+# pylint: disable=no-member
+
+"""
+Merge 1.6 and master branches.
 
 Revision ID: 29f2a32859ec
 Revises: ('22e6dfb556de', '116b9b79fc4d')
 Create Date: 2015-12-16 14:10:56.704614
 """
 
 # revision identifiers, used by Alembic.
 revision = "29f2a32859ec"
 down_revision = ("22e6dfb556de", "116b9b79fc4d")
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
-    pass
+def upgrade() -> None:
+    """Upgrade."""
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/alembic/main/2b8ed8c1df94_set_layergroup_treeitem_is_as_a_primary_.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2015-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Set layergroup_treeitem.id as a primary key
+# pylint: disable=no-member
+
+"""
+Set layergroup_treeitem.id as a primary key.
 
 Revision ID: 2b8ed8c1df94
 Revises: 26a8c51827c6
 Create Date: 2015-10-29 16:11:24.760733
 """
 
 from alembic import op
@@ -40,17 +41,19 @@
 # revision identifiers, used by Alembic.
 revision = "2b8ed8c1df94"
 down_revision = "32527659d57b"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.create_primary_key("layergroup_treeitem_pkey", "layergroup_treeitem", ["id"], schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.drop_constraint("layergroup_treeitem_pkey", "layergroup_treeitem", schema=schema)
```

## c2cgeoportal_commons/alembic/main/32527659d57b_move_exclude_properties_from_layerv1_to_.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2015-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Move exclude_properties from LayerV1 to Layer
+# pylint: disable=no-member
+
+"""
+Move exclude_properties from LayerV1 to Layer.
 
 Revision ID: 32527659d57b
 Revises: 5109242131ce
 Create Date: 2015-10-19 16:31:24.894791
 """
 
 from alembic import op
@@ -40,27 +41,29 @@
 from sqlalchemy.types import Unicode
 
 # revision identifiers, used by Alembic.
 revision = "32527659d57b"
 down_revision = "5109242131ce"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.add_column("layer", Column("exclude_properties", Unicode), schema=schema)
     op.execute(
         "UPDATE %(schema)s.layer as l1 SET exclude_properties = l2.exclude_properties "
         "FROM %(schema)s.layerv1 as l2 "
         "WHERE l1.id = l2.id" % {"schema": schema}
     )
     op.drop_column("layerv1", "exclude_properties", schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.add_column("layerv1", Column("exclude_properties", Unicode), schema=schema)
     op.execute(
         "UPDATE %(schema)s.layerv1 as l1 SET exclude_properties = l2.exclude_properties "
         "FROM %(schema)s.layer as l2 "
         "WHERE l1.id = l2.id" % {"schema": schema}
```

## c2cgeoportal_commons/alembic/main/32b21aa1d0ed_merge_e004f76e951a_and_e004f76e951a_.py

```diff
@@ -23,27 +23,30 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Merge e004f76e951a and e004f76e951a heads
+# pylint: disable=no-member
+
+"""
+Merge e004f76e951a and e004f76e951a heads.
 
 Revision ID: 32b21aa1d0ed
 Revises: ('7d271f4527cd', 'e004f76e951a')
 Create Date: 2016-10-20 15:09:59.215555
 """
 
 # revision identifiers, used by Alembic.
 revision = "32b21aa1d0ed"
 down_revision = ("7d271f4527cd", "e004f76e951a")
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
-    pass
+def upgrade() -> None:
+    """Upgrade."""
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/alembic/main/338b57593823_remove_trigger_on_role_name_change.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2018-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Remove trigger on_role_name_change
+# pylint: disable=no-member
+
+"""
+Remove trigger on_role_name_change.
 
 Revision ID: 338b57593823
 Revises: dba87f2647f9
 Create Date: 2018-12-05 09:13:21.191424
 """
 
 from alembic import op
@@ -40,22 +41,24 @@
 # revision identifiers, used by Alembic.
 revision = "338b57593823"
 down_revision = "dba87f2647f9"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
-    op.execute("DROP TRIGGER on_role_name_change ON {schema}.role".format(schema=schema))
-    op.execute("DROP FUNCTION {schema}.on_role_name_change()".format(schema=schema))
+    op.execute(f"DROP TRIGGER on_role_name_change ON {schema}.role")
+    op.execute(f"DROP FUNCTION {schema}.on_role_name_change()")
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
     staticschema = config["schema_static"]
 
     op.execute(
         """
 CREATE OR REPLACE FUNCTION {schema}.on_role_name_change()
 RETURNS trigger AS
```

## c2cgeoportal_commons/alembic/main/415746eb9f6_changes_for_v2.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2014-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Changes to start the implementation of the version 2
+# pylint: disable=no-member
+
+"""
+Changes to start the implementation of the version 2.
 
 Revision ID: 415746eb9f6
 Revises: None
 Create Date: 2014-10-23 16:00:47.940216
 """
 
 from alembic import op
@@ -40,22 +41,24 @@
 from sqlalchemy.types import Boolean, Float, Integer, Unicode
 
 # revision identifiers, used by Alembic.
 revision = "415746eb9f6"
 down_revision = "166ff2dcc48d"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     engine = op.get_bind().engine
-    if type(engine).__name__ != "MockConnection" and op.get_context().dialect.has_table(
-        engine, "interface", schema=schema
-    ):  # pragma: no cover
-        return
+    with engine.connect() as connection:
+        if type(engine).__name__ != "MockConnection" and op.get_context().dialect.has_table(  # type: ignore
+            connection, "interface", schema=schema
+        ):
+            return
 
     op.drop_table("user_functionality", schema=schema)
 
     op.create_table(
         "interface",
         Column("id", Integer, primary_key=True),
         Column("name", Unicode),
@@ -102,34 +105,32 @@
         Column("disclaimer", Unicode),
         Column("identifier_attribute_field", Unicode),
         Column("exclude_properties", Unicode),
         Column("time_mode", Unicode(8)),
         schema=schema,
     )
 
-    op.execute(
-        "UPDATE ONLY %(schema)s.treeitem SET type = 'layerv1' " "WHERE type='layer'" % {"schema": schema}
-    )
+    op.execute(f"UPDATE ONLY {schema}.treeitem SET type = 'layerv1' WHERE type='layer'")
 
     op.execute(
-        "INSERT INTO %(schema)s.layerv1 ("
+        f"INSERT INTO {schema}.layerv1 ("
         "id, is_checked, icon, layer_type, url, image_type, style, dimensions, matrix_set, "
         "wms_url, wms_layers, query_layers, kml, is_single_tile, legend, "
         "legend_image, legend_rule, is_legend_expanded, min_resolution, max_resolution, "
         "disclaimer, identifier_attribute_field, exclude_properties, time_mode) "
         "(SELECT "
         'id, "isChecked" AS is_checked, icon, "layerType" AS layer_type, url, '
         '"imageType" AS image_type, style, dimensions, "matrixSet" AS matrix_set, '
         '"wmsUrl" AS wms_url, "wmsLayers" AS wms_layers, "queryLayers" AS query_layers, kml, '
         '"isSingleTile" AS is_single_tile, legend, "legendImage" AS legend_image, '
         '"legendRule" AS legend_rule, "isLegendExpanded" AS is_legend_expanded, '
         '"minResolution" AS min_resolution, "maxResolution" AS max_resolution, disclaimer, '
         '"identifierAttributeField" AS identifier_attribute_field, '
         '"excludeProperties" AS exclude_properties, "timeMode" AS time_mode '
-        "FROM %(schema)s.layer)" % {"schema": schema}
+        f"FROM {schema}.layer)"
     )
 
     op.drop_column("layer", "isChecked", schema=schema)
     op.drop_column("layer", "icon", schema=schema)
     op.drop_column("layer", "layerType", schema=schema)
     op.drop_column("layer", "url", schema=schema)
     op.drop_column("layer", "imageType", schema=schema)
@@ -243,15 +244,16 @@
         Column("value", Unicode),
         Column("description", Unicode),
         Column("layer_id", Integer, ForeignKey(schema + ".layer_wmts.id"), nullable=False),
         schema=schema,
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.drop_table("wmts_dimension", schema=schema)
     op.drop_table("ui_metadata", schema=schema)
     op.drop_table("layer_wmts", schema=schema)
     op.drop_table("layer_external_wms", schema=schema)
     op.drop_table("layer_internal_wms", schema=schema)
```

## c2cgeoportal_commons/alembic/main/5109242131ce_add_column_time_widget.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2015-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""add column time_widget
+# pylint: disable=no-member
+
+"""
+add column time_widget.
 
 Revision ID: 5109242131ce
 Revises: 164ac0819a61
 Create Date: 2015-04-27 17:31:41.760977
 """
 
 from alembic import op
@@ -40,24 +41,24 @@
 from sqlalchemy.types import Unicode
 
 # revision identifiers, used by Alembic.
 revision = "5109242131ce"
 down_revision = "164ac0819a61"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     # Instructions
     for table in ["layerv1", "layer_internal_wms", "layer_external_wms"]:
         op.add_column(table, Column("time_widget", Unicode(10), default="slider"), schema=schema)
-        op.execute(
-            "UPDATE {schema!s}.{table!s} SET time_widget = 'slider'".format(schema=schema, table=table)
-        )
+        op.execute(f"UPDATE {schema!s}.{table!s} SET time_widget = 'slider'")
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     # Instructions
     for table in ["layerv1", "layer_internal_wms", "layer_external_wms"]:
         op.drop_column(table, "time_widget", schema=schema)
```

## c2cgeoportal_commons/alembic/main/53ba1a68d5fe_add_theme_to_fulltextsearch.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2015-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add theme to full-text search
+# pylint: disable=no-member
+
+"""
+Add theme to full-text search.
 
 Revision ID: 53ba1a68d5fe
 Revises: 5109242131ce
 Create Date: 2015-08-05 14:43:30.889188
 """
 
 from alembic import op
@@ -39,15 +40,16 @@
 from sqlalchemy import Boolean, Column, ForeignKey, Integer, String
 
 # revision identifiers, used by Alembic.
 revision = "53ba1a68d5fe"
 down_revision = "5109242131ce"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.add_column(
         "tsearch",
         Column("interface_id", Integer, ForeignKey(schema + ".interface.id"), nullable=True),
         schema=schema,
     )
@@ -59,15 +61,16 @@
         "tsearch_search_index",
         table_name="tsearch",
         columns=["ts", "public", "role_id", "interface_id", "lang"],
         schema=schema,
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.drop_index("tsearch_search_index", schema=schema)
 
     op.drop_column("tsearch", "interface_id", schema=schema)
     op.drop_column("tsearch", "lang", schema=schema)
     op.drop_column("tsearch", "actions", schema=schema)
```

## c2cgeoportal_commons/alembic/main/54645a535ad6_add_ordering_in_relation.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2014-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add ordering in relation
+# pylint: disable=no-member
+
+"""
+Add ordering in relation.
 
 Revision ID: 54645a535ad6
 Revises: 415746eb9f6
 Create Date: 2014-11-25 14:39:05.110315
 """
 
 from alembic import op
@@ -40,15 +41,16 @@
 from sqlalchemy.types import Integer
 
 # revision identifiers, used by Alembic.
 revision = "54645a535ad6"
 down_revision = "415746eb9f6"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.drop_constraint("layergroup_treeitem_pkey", "layergroup_treeitem", schema=schema)
     op.add_column("layergroup_treeitem", Column("id", Integer, primary_key=True), schema=schema)
     op.add_column("layergroup_treeitem", Column("ordering", Integer), schema=schema)
     op.execute(
         'UPDATE ONLY %(schema)s.layergroup_treeitem AS lt SET ordering = ti."order" '
@@ -58,15 +60,16 @@
     op.execute(
         'UPDATE ONLY %(schema)s.theme AS t SET ordering = ti."order" '
         "FROM %(schema)s.treeitem AS ti WHERE ti.id = t.id " % {"schema": schema}
     )
     op.drop_column("treeitem", "order", schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
     op.add_column("treeitem", Column("order", Integer), schema=schema)
     op.execute(
         'UPDATE ONLY %(schema)s.treeitem AS ti SET "order" = lt.ordering '
         "FROM %(schema)s.layergroup_treeitem AS lt WHERE ti.id = lt.treeitem_id " % {"schema": schema}
     )
     op.execute(
```

## c2cgeoportal_commons/alembic/main/56dc90838d90_fix_removing_layerv1.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Fix removing layerv1
+# pylint: disable=no-member
+
+"""
+Fix removing layerv1.
 
 Revision ID: 56dc90838d90
 Revises: 1de20166b274
 Create Date: 2019-06-25 17:56:25.991417
 """
 
 from alembic import op
@@ -40,22 +41,23 @@
 # revision identifiers, used by Alembic.
 revision = "56dc90838d90"
 down_revision = "1de20166b274"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.execute(
         (
             "DELETE from {schema}.layer_restrictionarea WHERE layer_id IN ("
             "SELECT id from {schema}.treeitem WHERE type = 'layerv1'"
             ");"
         ).format(schema=schema)
     )
-    op.execute("DELETE from {schema}.treeitem WHERE type = 'layerv1';".format(schema=schema))
+    op.execute(f"DELETE from {schema}.treeitem WHERE type = 'layerv1';")
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/alembic/main/596ba21e3833_separate_local_internal.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2016-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""separate local internal
+# pylint: disable=no-member
+
+"""
+separate local internal.
 
 Revision ID: 596ba21e3833
 Revises: ec82a8906649
 Create Date: 2016-09-08 16:49:58.865617
 """
 
 from alembic import op
@@ -40,29 +41,31 @@
 # revision identifiers, used by Alembic.
 revision = "596ba21e3833"
 down_revision = "ec82a8906649"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.execute(
         """
         UPDATE "{schema}".ogc_server
         SET url = 'config://internal/mapserv'
         WHERE url = 'config://local/mapserv'
     """.format(
             schema=schema
         )
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.execute(
         """
         UPDATE "{schema}".ogc_server
         SET url = 'config://local/mapserv'
         WHERE url = 'config://internal/mapserv'
```

## c2cgeoportal_commons/alembic/main/678f88c7ad5e_add_vector_tiles_layers_table.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add vector tiles layers table
+# pylint: disable=no-member
+
+"""
+Add vector tiles layers table.
 
 Revision ID: 678f88c7ad5e
 Revises: 028477929d13
 Create Date: 2019-09-27 13:51:08.255601
 """
 
 from alembic import op
@@ -41,23 +42,25 @@
 # revision identifiers, used by Alembic.
 revision = "678f88c7ad5e"
 down_revision = "028477929d13"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.create_table(
         "layer_vectortiles",
         Column("id", Integer, ForeignKey(schema + ".layer.id"), primary_key=True),
         Column("style", Unicode, nullable=False),
         Column("xyz", Unicode, nullable=True),
         schema=schema,
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.drop_table("layer_vectortiles", schema=schema)
```

## c2cgeoportal_commons/alembic/main/6a412d9437b1_rename_serverogc_to_ogcserver.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2016-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Rename ServerOGC to OGCServer
+# pylint: disable=no-member
+
+"""
+Rename ServerOGC to OGCServer.
 
 Revision ID: 6a412d9437b1
 Revises: 29f2a32859ec
 Create Date: 2016-06-28 18:08:23.888198
 """
 
 from alembic import op
@@ -40,21 +41,23 @@
 # revision identifiers, used by Alembic.
 revision = "6a412d9437b1"
 down_revision = "29f2a32859ec"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.rename_table("server_ogc", "ogc_server", schema=schema)
-    with op.batch_alter_table("layer_wms", schema=schema) as table_op:
+    with op.batch_alter_table("layer_wms", schema=schema) as table_op:  # type: ignore
         table_op.alter_column("server_ogc_id", new_column_name="ogc_server_id")
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.rename_table("ogc_server", "server_ogc", schema=schema)
-    with op.batch_alter_table("layer_wms", schema=schema) as table_op:
+    with op.batch_alter_table("layer_wms", schema=schema) as table_op:  # type: ignore
         table_op.alter_column("ogc_server_id", new_column_name="server_ogc_id")
```

## c2cgeoportal_commons/alembic/main/6d87fdad275a_convert_metadata_to_the_right_case.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2017, Camptocamp SA
+# Copyright (c) 2017-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Convert the metadata to the right case
+# pylint: disable=no-member
+
+"""
+Convert the metadata to the right case.
 
 Revision ID: 6d87fdad275a
 Revises: 9268a1dffac0
 Create Date: 2017-09-05 11:18:52.494205
 """
 
 from alembic import op
@@ -40,33 +41,25 @@
 # revision identifiers, used by Alembic.
 revision = "6d87fdad275a"
 down_revision = "9268a1dffac0"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
+    op.execute(f"UPDATE ONLY {schema}.metadata SET name = 'copyTo' where name = 'copy_to'")
     op.execute(
-        "UPDATE ONLY {schema}.metadata SET name = 'copyTo' where name = 'copy_to'".format(schema=schema)
+        f"UPDATE ONLY {schema}.metadata SET name = 'geometryValidation' where name = 'geometry_validation'"
     )
-    # fmt: off
-    op.execute(
-        "UPDATE ONLY {schema}.metadata SET name = 'geometryValidation' where name = 'geometry_validation'"
-        .format(schema=schema)
-    )
-    # fmt: on
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
+    op.execute(f"UPDATE ONLY {schema}.metadata SET name = 'copy_to' where name = 'copyTo'")
     op.execute(
-        "UPDATE ONLY {schema}.metadata SET name = 'copy_to' where name = 'copyTo'".format(schema=schema)
-    )
-    # fmt: off
-    op.execute(
-        "UPDATE ONLY {schema}.metadata SET name = 'geometry_validation' where name = 'geometryValidation'"
-        .format(schema=schema)
+        f"UPDATE ONLY {schema}.metadata SET name = 'geometry_validation' where name = 'geometryValidation'"
     )
-    # fmt: on
```

## c2cgeoportal_commons/alembic/main/7530011a66a7_trigger_on_role_updates_user_in_static.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2018-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""trigger_on_role_updates_user_in_static
+# pylint: disable=no-member
+
+"""
+trigger_on_role_updates_user_in_static.
 
 Revision ID: 7530011a66a7
 Revises: d8ef99bc227e
 Create Date: 2018-03-23 09:08:56.910629
 """
 
 from alembic import op
@@ -40,15 +41,16 @@
 # revision identifiers, used by Alembic.
 revision = "7530011a66a7"
 down_revision = "d8ef99bc227e"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
     staticschema = config["schema_static"]
 
     op.execute(
         """
 CREATE OR REPLACE FUNCTION {schema}.on_role_name_change()
 RETURNS trigger AS
@@ -62,15 +64,16 @@
 $$
 LANGUAGE plpgsql""".format(
             schema=schema, staticschema=staticschema
         )
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.execute(
         """
 CREATE OR REPLACE FUNCTION {schema}.on_role_name_change()
 RETURNS trigger AS
 $$
```

## c2cgeoportal_commons/alembic/main/78fd093c8393_add_api_s_intrfaces.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add API's intrfaces
+# pylint: disable=no-member
+
+"""
+Add API's intrfaces.
 
 Revision ID: 78fd093c8393
 Revises: e85afd327ab3
 Create Date: 2019-08-29 07:56:15.547216
 """
 
 from alembic import op
@@ -42,15 +43,16 @@
 # revision identifiers, used by Alembic.
 revision = "78fd093c8393"
 down_revision = "e85afd327ab3"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     # Instructions
     interface = Table("interface", MetaData(), Column("name", Unicode), schema=schema)
     connection = op.get_bind()
     for interface_name in ("api", "iframe_api"):
         result = connection.execute(
@@ -84,15 +86,16 @@
             op.execute(
                 "DELETE FROM {schema}.interface WHERE name='{name}'".format(
                     name=interface_name, schema=schema
                 )
             )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     # Instructions
     interface = Table("interface", MetaData(), Column("name", Unicode), schema=schema)
     connection = op.get_bind()
     for interface_name in ("edit", "routing"):
         result = connection.execute(
```

## c2cgeoportal_commons/alembic/main/7d271f4527cd_add_layer_column_in_layerv1_table.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2016-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add layer column in layerv1 table
+# pylint: disable=no-member
+
+"""
+Add layer column in layerv1 table.
 
 Revision ID: 7d271f4527cd
 Revises: 8117bb9bba16
 Create Date: 2016-10-20 15:00:13.619090
 """
 
 from alembic import op
@@ -42,23 +43,25 @@
 # revision identifiers, used by Alembic.
 revision = "7d271f4527cd"
 down_revision = "8117bb9bba16"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.add_column("layerv1", Column("layer", Unicode), schema=schema)
     op.execute(
         "UPDATE {schema}.layerv1 AS l1 "
         "SET layer = name "
         "FROM {schema}.treeitem AS ti "
         "WHERE l1.id = ti.id".format(schema=schema)
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.drop_column("layerv1", "layer", schema=schema)
```

## c2cgeoportal_commons/alembic/main/809650bd04c3_add_dimension_field.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2018-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add dimension field
+# pylint: disable=no-member
+
+"""
+Add dimension field.
 
 Revision ID: 809650bd04c3
 Revises: d8ef99bc227e
 Create Date: 2018-03-22 18:20:19.431935
 """
 
 from alembic import op
@@ -42,17 +43,19 @@
 # revision identifiers, used by Alembic.
 revision = "809650bd04c3"
 down_revision = "21f11066f8ec"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.add_column("dimension", Column("field", Unicode), schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.drop_column("dimension", "field", schema=schema)
```

## c2cgeoportal_commons/alembic/main/8117bb9bba16_use_dimension_on_all_the_layers.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2016-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Use dimension on all the layers
+# pylint: disable=no-member
+
+"""
+Use dimension on all the layers.
 
 Revision ID: 8117bb9bba16
 Revises: daf738d5bae4
 Create Date: 2016-08-16 16:53:07.012668
 """
 
 from alembic import op
@@ -40,33 +41,35 @@
 # revision identifiers, used by Alembic.
 revision = "8117bb9bba16"
 down_revision = "b60f2a505f42"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.rename_table("wmts_dimension", "dimension", schema=schema)
-    with op.batch_alter_table("dimension", schema=schema) as table_op:
+    with op.batch_alter_table("dimension", schema=schema) as table_op:  # type: ignore
         table_op.drop_constraint("wmts_dimension_layer_id_fkey", type_="foreignkey")
         table_op.create_foreign_key(
             "dimension_layer_id_fkey",
             local_cols=["layer_id"],
             referent_schema=schema,
             referent_table="layer",
             remote_cols=["id"],
         )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
-    with op.batch_alter_table("dimension", schema=schema) as table_op:
+    with op.batch_alter_table("dimension", schema=schema) as table_op:  # type: ignore
         table_op.drop_constraint("dimension_layer_id_fkey", type_="foreignkey")
         table_op.create_foreign_key(
             "wmts_dimension_layer_id_fkey",
             local_cols=["layer_id"],
             referent_schema=schema,
             referent_table="layer_wmts",
             remote_cols=["id"],
```

## c2cgeoportal_commons/alembic/main/87f8330ed64e_add_missing_delete_cascades.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2020, Camptocamp SA
+# Copyright (c) 2020-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add missing delete cascades
+# pylint: disable=no-member
+
+"""
+Add missing delete cascades.
 
 Revision ID: 87f8330ed64e
 Revises: 16e43f8c0330
 Create Date: 2020-05-25 14:53:36.289305
 """
 
 import sqlalchemy as sa
@@ -41,15 +42,16 @@
 # revision identifiers, used by Alembic.
 revision = "87f8330ed64e"
 down_revision = "16e43f8c0330"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.drop_constraint(
         "interface_layer_interface_id_fkey", "interface_layer", schema=schema, type_="foreignkey"
     )
     op.create_foreign_key(
         "interface_layer_interface_id_fkey",
@@ -173,15 +175,16 @@
         referent_schema=schema,
         ondelete="CASCADE",
     )
 
     op.alter_column("theme", "ordering", existing_type=sa.INTEGER(), nullable=False, schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.alter_column("theme", "ordering", existing_type=sa.INTEGER(), nullable=True, schema=schema)
 
     op.drop_constraint(
         "role_restrictionarea_restrictionarea_id_fkey",
         "role_restrictionarea",
```

## c2cgeoportal_commons/alembic/main/9268a1dffac0_add_trigger_to_be_able_to_correctly_.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2017-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add trigger to be able to correctly change the role name
+# pylint: disable=no-member
+
+"""
+Add trigger to be able to correctly change the role name.
 
 Revision ID: 9268a1dffac0
 Revises: 32b21aa1d0ed
 Create Date: 2017-01-11 11:07:53.042003
 """
 
 from alembic import op
@@ -40,15 +41,16 @@
 # revision identifiers, used by Alembic.
 revision = "9268a1dffac0"
 down_revision = "32b21aa1d0ed"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.execute(
         """
 CREATE FUNCTION {schema}.on_role_name_change()
 RETURNS trigger AS
 $$
@@ -66,12 +68,13 @@
 
     op.execute(
         "CREATE TRIGGER on_role_name_change AFTER UPDATE ON {schema}.role FOR EACH ROW "
         "EXECUTE PROCEDURE {schema}.on_role_name_change()".format(schema=schema)
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
-    op.execute("DROP TRIGGER on_role_name_change ON {schema}.role".format(schema=schema))
-    op.execute("DROP FUNCTION {schema}.on_role_name_change()".format(schema=schema))
+    op.execute(f"DROP TRIGGER on_role_name_change ON {schema}.role")
+    op.execute(f"DROP FUNCTION {schema}.on_role_name_change()")
```

## c2cgeoportal_commons/alembic/main/94db7e7e5b21_merge_2_2_and_master_branches.py

```diff
@@ -1,10 +1,10 @@
 # -*- coding: utf-8 -*-
 
-# Copyright (c) 2017, Camptocamp SA
+# Copyright (c) 2017-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,27 +23,30 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Merge 2.2 and master branches
+# pylint: disable=no-member
+
+"""
+Merge 2.2 and master branches.
 
 Revision ID: 94db7e7e5b21
 Revises: ('6d87fdad275a', 'd8ef99bc227e')
 Create Date: 2017-09-21 13:35:11.192320
 """
 
 # revision identifiers, used by Alembic.
 revision = "94db7e7e5b21"
 down_revision = ("6d87fdad275a", "d8ef99bc227e")
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
-    pass
+def upgrade() -> None:
+    """Upgrade."""
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/alembic/main/951ff84bd8ec_be_able_to_delete_a_wms_layer_in_sql.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2016-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Be able to delete a WMS layer in SQL
+# pylint: disable=no-member
+
+"""
+Be able to delete a WMS layer in SQL.
 
 Revision ID: 951ff84bd8ec
 Revises: 29f2a32859ec
 Create Date: 2016-06-22 15:29:24.210097
 """
 
 from alembic import op
@@ -40,15 +41,16 @@
 # revision identifiers, used by Alembic.
 revision = "951ff84bd8ec"
 down_revision = "29f2a32859ec"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.drop_constraint("layergroup_treeitem_treeitem_id_fkey", "layergroup_treeitem", schema=schema)
     op.create_foreign_key(
         "layergroup_treeitem_treeitem_id_fkey",
         "layergroup_treeitem",
         source_schema=schema,
@@ -128,15 +130,16 @@
         referent_table="layer",
         referent_schema=schema,
         remote_cols=["id"],
         ondelete="cascade",
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.drop_constraint("layergroup_treeitem_treeitem_id_fkey", "layergroup_treeitem", schema=schema)
     op.create_foreign_key(
         "layergroup_treeitem_treeitem_id_fkey",
         "layergroup_treeitem",
         source_schema=schema,
```

## c2cgeoportal_commons/alembic/main/a00109812f89_add_field_layer_wms_valid.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2020, Camptocamp SA
+# Copyright (c) 2020-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add field layer_wms.valid
+# pylint: disable=no-member
+
+"""
+Add field layer_wms.valid.
 
 Revision ID: a00109812f89
 Revises: 87f8330ed64e
 Create Date: 2020-10-13 14:42:42.108254
 """
 
 import sqlalchemy as sa
@@ -41,17 +42,19 @@
 # revision identifiers, used by Alembic.
 revision = "a00109812f89"
 down_revision = "87f8330ed64e"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
     op.add_column("layer_wms", sa.Column("valid", sa.Boolean(), nullable=True), schema=schema)
     op.add_column("layer_wms", sa.Column("invalid_reason", sa.Unicode(), nullable=True), schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
     op.drop_column("layer_wms", "valid", schema=schema)
     op.drop_column("layer_wms", "invalid_reason", schema=schema)
```

## c2cgeoportal_commons/alembic/main/a4f1aac9bda_merge_1_6_and_master_branches.py

```diff
@@ -23,27 +23,30 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Merge 1.6 and master branches
+# pylint: disable=no-member
+
+"""
+Merge 1.6 and master branches.
 
 Revision ID: a4f1aac9bda
 Revises: ('2b8ed8c1df94', '1418cb05921b')
 Create Date: 2015-11-06 13:36:43.368700
 """
 
 # revision identifiers, used by Alembic.
 revision = "a4f1aac9bda"
 down_revision = ("2b8ed8c1df94", "1418cb05921b")
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
-    pass
+def upgrade() -> None:
+    """Upgrade."""
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/alembic/main/b60f2a505f42_remame_uimetadata_to_metadata.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2016-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Remame UIMetadata to Metadata
+# pylint: disable=no-member
+
+"""
+Remame UIMetadata to Metadata.
 
 Revision ID: b60f2a505f42
 Revises: daf738d5bae4
 Create Date: 2016-08-26 15:13:59.102168
 """
 
 from alembic import op
@@ -40,17 +41,19 @@
 # revision identifiers, used by Alembic.
 revision = "b60f2a505f42"
 down_revision = "daf738d5bae4"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.rename_table("ui_metadata", "metadata", schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.rename_table("metadata", "ui_metadata", schema=schema)
```

## c2cgeoportal_commons/alembic/main/c75124553bf3_remove_deprecated_columns.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Remove deprecated columns
+# pylint: disable=no-member
+
+"""
+Remove deprecated columns.
 
 Revision ID: c75124553bf3
 Revises: dba87f2647f9
 Create Date: 2019-01-08 10:55:29.356477
 """
 
 from alembic import op
@@ -42,19 +43,21 @@
 # revision identifiers, used by Alembic.
 revision = "c75124553bf3"
 down_revision = "338b57593823"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.drop_column("layergroup", "is_internal_wms", schema=schema)
     op.drop_column("layergroup", "is_base_layer", schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.add_column("layergroup", Column("is_internal_wms", Boolean), schema=schema)
     op.add_column("layergroup", Column("is_base_layer", Boolean), schema=schema)
```

## c2cgeoportal_commons/alembic/main/d48a63b348f1_change_mapserver_url_for_docker.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2017, Camptocamp SA
+# Copyright (c) 2017-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Change mapserver URL for Docker
+# pylint: disable=no-member
+
+"""
+Change mapserver URL for Docker.
 
 Revision ID: d48a63b348f1
 Revises: 9268a1dffac0
 Create Date: 2017-08-24 08:05:46.012191
 """
 
 from alembic import op
@@ -40,30 +41,32 @@
 # revision identifiers, used by Alembic.
 revision = "d48a63b348f1"
 down_revision = "94db7e7e5b21"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     # Instructions
     op.execute(
         """
         UPDATE "{schema}".ogc_server
         SET url = 'config://mapserver'
         WHERE url = 'config://internal/mapserv'
     """.format(
             schema=schema
         )
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     # Instructions
     op.execute(
         """
         UPDATE "{schema}".ogc_server
         SET url = 'config://internal/mapserv'
```

## c2cgeoportal_commons/alembic/main/d8ef99bc227e_be_able_to_delete_a_linked_functionality.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2017-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Be able to delete a linked functionality
+# pylint: disable=no-member
+
+"""
+Be able to delete a linked functionality.
 
 Revision ID: d8ef99bc227e
 Revises: 9268a1dffac0
 Create Date: 2017-09-20 14:49:22.465328
 """
 
 import psycopg2
@@ -41,53 +42,55 @@
 # revision identifiers, used by Alembic.
 revision = "d8ef99bc227e"
 down_revision = "9268a1dffac0"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     for source, dest in [
         ("role_functionality", "role"),
         ("role_functionality", "functionality"),
         ("theme_functionality", "theme"),
         ("theme_functionality", "functionality"),
     ]:
         try:
-            op.drop_constraint("{}_{}_id_fkey".format(source, dest), source, schema=schema)
+            op.drop_constraint(f"{source}_{dest}_id_fkey", source, schema=schema)
         except psycopg2.ProgrammingError as e:
             print(e)
             print("The constraint will probably don't exists, so we continue.")
 
         op.create_foreign_key(
-            "{}_{}_id_fkey".format(source, dest),
+            f"{source}_{dest}_id_fkey",
             source,
             source_schema=schema,
-            local_cols=["{}_id".format(dest)],
+            local_cols=[f"{dest}_id"],
             referent_table=dest,
             referent_schema=schema,
             remote_cols=["id"],
             ondelete="cascade",
         )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     for source, dest in [
         ("role_functionality", "role"),
         ("role_functionality", "functionality"),
         ("theme_functionality", "theme"),
         ("theme_functionality", "functionality"),
     ]:
-        op.drop_constraint("{}_{}_id_fkey".format(source, dest), source, schema=schema)
+        op.drop_constraint(f"{source}_{dest}_id_fkey", source, schema=schema)
         op.create_foreign_key(
-            "{}_{}_id_fkey".format(source, dest),
+            f"{source}_{dest}_id_fkey",
             source,
             source_schema=schema,
-            local_cols=["{}_id".format(dest)],
+            local_cols=[f"{dest}_id"],
             referent_table=dest,
             referent_schema=schema,
             remote_cols=["id"],
         )
```

## c2cgeoportal_commons/alembic/main/daf738d5bae4_merge_2_0_and_master_branches.py

```diff
@@ -23,27 +23,30 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Merge 2.0 and master branches
+# pylint: disable=no-member
+
+"""
+Merge 2.0 and master branches.
 
 Revision ID: daf738d5bae4
 Revises: ('6a412d9437b1', '951ff84bd8ec')
 Create Date: 2016-06-29 13:50:59.746514
 """
 
 # revision identifiers, used by Alembic.
 revision = "daf738d5bae4"
 down_revision = ("6a412d9437b1", "951ff84bd8ec")
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
-    pass
+def upgrade() -> None:
+    """Upgrade."""
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/alembic/main/dba87f2647f9_merge_2_2_on_2_3.py

```diff
@@ -23,27 +23,30 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Merge 2.2 on 2.3
+# pylint: disable=no-member
+
+"""
+Merge 2.2 on 2.3.
 
 Revision ID: dba87f2647f9
 Revises: ('7530011a66a7', '809650bd04c3')
 Create Date: 2018-10-04 09:32:07.634452
 """
 
 # revision identifiers, used by Alembic.
 revision = "dba87f2647f9"
 down_revision = ("7530011a66a7", "809650bd04c3")
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
-    pass
+def upgrade() -> None:
+    """Upgrade."""
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/alembic/main/e004f76e951a_add_missing_not_null.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2016-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add missing not null
+# pylint: disable=no-member
+
+"""
+Add missing not null.
 
 Revision ID: e004f76e951a
 Revises: ee25d267bf46
 Create Date: 2016-10-06 15:28:17.418830
 """
 
 from alembic import op
@@ -40,15 +41,16 @@
 # revision identifiers, used by Alembic.
 revision = "e004f76e951a"
 down_revision = "ee25d267bf46"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.alter_column("layer_wmts", "url", nullable=False, schema=schema)
     op.alter_column("layer_wmts", "layer", nullable=False, schema=schema)
     op.execute(
         "UPDATE ONLY {schema}.layer_wmts SET image_type = 'image/png' where image_type IS NULL".format(
             schema=schema
@@ -71,25 +73,22 @@
     op.alter_column("layer_wms", "time_widget", nullable=False, schema=schema)
     op.execute(
         "UPDATE ONLY {schema}.ogc_server SET image_type = 'image/png' where image_type IS NULL".format(
             schema=schema
         )
     )
     op.alter_column("ogc_server", "image_type", nullable=False, schema=schema)
-    op.execute(
-        "UPDATE ONLY {schema}.ogc_server SET type = 'mapserver' where type IS NULL".format(schema=schema)
-    )
+    op.execute(f"UPDATE ONLY {schema}.ogc_server SET type = 'mapserver' where type IS NULL")
     op.alter_column("ogc_server", "type", nullable=False, schema=schema)
-    op.execute(
-        "UPDATE ONLY {schema}.ogc_server SET auth = 'Standard auth' where auth IS NULL".format(schema=schema)
-    )
+    op.execute(f"UPDATE ONLY {schema}.ogc_server SET auth = 'Standard auth' where auth IS NULL")
     op.alter_column("ogc_server", "auth", nullable=False, schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.alter_column("layer_wmts", "url", nullable=True, schema=schema)
     op.alter_column("layer_wmts", "layer", nullable=True, schema=schema)
     op.alter_column("layer_wmts", "image_type", nullable=True, schema=schema)
     op.alter_column("layer_wms", "ogc_server_id", nullable=True, schema=schema)
     op.alter_column("layer_wms", "layer", nullable=True, schema=schema)
```

## c2cgeoportal_commons/alembic/main/e7e03dedade3_put_the_default_wms_server_in_the_.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2016-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Put the default WMS server in the servers part, add some constrains
+# pylint: disable=no-member
+
+"""
+Put the default WMS server in the servers part, add some constrains.
 
 Revision ID: e7e03dedade3
 Revises: daf738d5bae4
 Create Date: 2016-08-26 14:39:21.984921
 """
 
 from alembic import op
@@ -40,15 +41,16 @@
 # revision identifiers, used by Alembic.
 revision = "e7e03dedade3"
 down_revision = "8117bb9bba16"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.execute(
         """
         UPDATE "{schema}".ogc_server
         SET url = 'config://local/mapserv'
         WHERE url IS NULL
@@ -59,15 +61,16 @@
 
     op.alter_column("ogc_server", "url", nullable=False, schema=schema)
     op.create_unique_constraint("name_unique_ogc_server", "ogc_server", ["name"], schema=schema)
     op.alter_column("treeitem", "name", nullable=False, schema=schema)
     op.create_unique_constraint("type_name_unique_treeitem", "treeitem", ["type", "name"], schema=schema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.alter_column("ogc_server", "url", nullable=True, schema=schema)
     op.drop_constraint("name_unique_ogc_server", "ogc_server", schema=schema)
     op.alter_column("treeitem", "name", nullable=True, schema=schema)
     op.drop_constraint("type_name_unique_treeitem", "treeitem", schema=schema)
```

## c2cgeoportal_commons/alembic/main/e85afd327ab3_cascade_deletes_to_tsearch.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Cascade deletes to tsearch
+# pylint: disable=no-member
+
+"""
+Cascade deletes to tsearch.
 
 Revision ID: e85afd327ab3
 Revises: c75124553bf3
 Create Date: 2019-03-28 11:52:48.520780
 """
 
 from alembic import op
@@ -40,15 +41,16 @@
 # revision identifiers, used by Alembic.
 revision = "e85afd327ab3"
 down_revision = "c75124553bf3"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.drop_constraint("tsearch_role_id_fkey", "tsearch", schema=schema, type_="foreignkey")
     op.create_foreign_key(
         "tsearch_role_id_fkey",
         "tsearch",
         "role",
@@ -68,15 +70,16 @@
         ["id"],
         source_schema=schema,
         referent_schema=schema,
         ondelete="CASCADE",
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.drop_constraint("tsearch_role_id_fkey", "tsearch", schema=schema, type_="foreignkey")
     op.create_foreign_key(
         "tsearch_role_id_fkey",
         "tsearch",
         "role",
```

## c2cgeoportal_commons/alembic/main/ec82a8906649_add_missing_on_delete_cascade_on_layer_.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2016-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add missing on delete cascade on layer tree
+# pylint: disable=no-member
+
+"""
+Add missing on delete cascade on layer tree.
 
 Revision ID: ec82a8906649
 Revises: e7e03dedade3
 Create Date: 2016-08-30 13:43:30.969505
 """
 
 from alembic import op
@@ -40,38 +41,40 @@
 # revision identifiers, used by Alembic.
 revision = "ec82a8906649"
 down_revision = "e7e03dedade3"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     for source, dest in [("layer_wmts", "layer"), ("layerv1", "layer"), ("theme", "treegroup")]:
-        op.drop_constraint("{}_id_fkey".format(source), source, schema=schema)
+        op.drop_constraint(f"{source}_id_fkey", source, schema=schema)
         op.create_foreign_key(
-            "{}_id_fkey".format(source),
+            f"{source}_id_fkey",
             source,
             source_schema=schema,
             local_cols=["id"],
             referent_table=dest,
             referent_schema=schema,
             remote_cols=["id"],
             ondelete="cascade",
         )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     for source, dest in [("layer_wmts", "layer"), ("layerv1", "layer"), ("theme", "treegroup")]:
-        op.drop_constraint("{}_id_fkey".format(source), source, schema=schema)
+        op.drop_constraint(f"{source}_id_fkey", source, schema=schema)
         op.create_foreign_key(
-            "{}_id_fkey".format(source),
+            f"{source}_id_fkey",
             source,
             source_schema=schema,
             local_cols=["id"],
             referent_table=dest,
             referent_schema=schema,
             remote_cols=["id"],
         )
```

## c2cgeoportal_commons/alembic/main/ee25d267bf46_main_interface_desktop.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2016-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""main interface => desktop
+# pylint: disable=no-member
+
+"""
+main interface => desktop.
 
 Revision ID: ee25d267bf46
 Revises: 596ba21e3833
 Create Date: 2016-09-21 11:39:37.086066
 """
 
 from alembic import op
@@ -40,23 +41,25 @@
 # revision identifiers, used by Alembic.
 revision = "ee25d267bf46"
 down_revision = "596ba21e3833"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
 
     op.execute(
         "UPDATE ONLY {schema}.interface AS i "
         "SET name = 'desktop' where name = 'main'".format(schema=schema)
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
 
     op.execute(
         "UPDATE ONLY {schema}.interface AS i "
         "SET name = 'main' where name = 'desktop'".format(schema=schema)
     )
```

## c2cgeoportal_commons/alembic/main/eeb345672454_merge_2_4_and_master_branches.py

```diff
@@ -1,10 +1,10 @@
 # -*- coding: utf-8 -*-
 
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,28 +23,31 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Merge 2.4 and master branches
+# pylint: disable=no-member
+
+"""
+Merge 2.4 and master branches.
 
 Revision ID: eeb345672454
 Revises: ('78fd093c8393', '56dc90838d90')
 Create Date: 2019-09-03 09:11:57.786920
 """
 
 
 # revision identifiers, used by Alembic.
 revision = "eeb345672454"
 down_revision = ("78fd093c8393", "56dc90838d90")
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
-    pass
+def upgrade() -> None:
+    """Upgrade."""
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/alembic/static/0c640a58a09a_add_opt_key_column.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add tech_data hstor column
+# pylint: disable=no-member
+
+"""
+Add tech_data hstor column.
 
 Revision ID: 0c640a58a09a
 Revises: ae5e88f35669
 Create Date: 2019-08-16 14:06:15.405096
 """
 
 from alembic import op
@@ -42,17 +43,19 @@
 # revision identifiers, used by Alembic.
 revision = "0c640a58a09a"
 down_revision = "ae5e88f35669"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     staticschema = config["schema_static"]
 
     op.add_column("user", Column("tech_data", HSTORE), schema=staticschema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     staticschema = config["schema_static"]
 
     op.drop_column("user", "tech_data", schema=staticschema)
```

## c2cgeoportal_commons/alembic/static/107b81f5b9fe_add_missing_delete_cascades.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2020, Camptocamp SA
+# Copyright (c) 2020-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add missing delete cascades
+# pylint: disable=no-member
+
+"""
+Add missing delete cascades.
 
 Revision ID: 107b81f5b9fe
 Revises: bd029dbfc11a
 Create Date: 2020-05-25 15:13:12.194192
 """
 
 from alembic import op
@@ -40,15 +41,16 @@
 # revision identifiers, used by Alembic.
 revision = "107b81f5b9fe"
 down_revision = "bd029dbfc11a"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     staticschema = config["schema_static"]
 
     op.drop_constraint("user_role_user_id_fkey", "user_role", schema=staticschema, type_="foreignkey")
     op.create_foreign_key(
         "user_role_user_id_fkey",
         "user_role",
         "user",
@@ -56,15 +58,16 @@
         ["id"],
         source_schema=staticschema,
         referent_schema=staticschema,
         ondelete="CASCADE",
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     staticschema = config["schema_static"]
 
     op.drop_constraint("user_role_user_id_fkey", "user_role", schema=staticschema, type_="foreignkey")
     op.create_foreign_key(
         "user_role_user_id_fkey",
         "user_role",
         "user",
```

## c2cgeoportal_commons/alembic/static/1857owc78a07_add_last_login_and_expiration_date.py

```diff
@@ -1,8 +1,7 @@
-# -*- coding: utf-8 -*-
 # Copyright (c) 2018-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -22,18 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
+# pylint: disable=no-member
 
 """
-Add columns last_login, expire_on (both datetime) and deactivated (boolean) on
-table main_static."user".
+Add columns last_login, expire_on (both datetime) and deactivated (boolean) on table main_static."user".
 
 Revision ID: 1857owc78a07
 Revises: 5472fbc19f39
 Create Date: 2018-03-29 13:15:23.228907
 """
 
 from alembic import op
@@ -41,23 +40,25 @@
 from sqlalchemy import Boolean, Column, DateTime
 
 # revision identifiers, used by Alembic.
 revision = "1857owc78a07"
 down_revision = "5472fbc19f39"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     staticschema = config["schema_static"]
 
     # Instructions
     op.add_column("user", Column("last_login", DateTime), schema=staticschema)
     op.add_column("user", Column("expire_on", DateTime), schema=staticschema)
     op.add_column("user", Column("deactivated", Boolean, default=False), schema=staticschema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     staticschema = config["schema_static"]
 
     # Instructions
     op.drop_column("user", "deactivated", schema=staticschema)
     op.drop_column("user", "expire_on", schema=staticschema)
     op.drop_column("user", "last_login", schema=staticschema)
```

## c2cgeoportal_commons/alembic/static/1da396a88908_move_user_table_to_static_schema.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2015-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,16 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
+# pylint: disable=no-member
 
-"""Move user table to static schema
+"""
+Move user table to static schema.
 
 Revision ID: 1da396a88908
 Revises: 3f89a7d71a5e
 Create Date: 2015-02-20 14:09:04.875390
 """
 
 from hashlib import sha1
@@ -43,24 +43,26 @@
 from sqlalchemy.types import Boolean, Integer, String, Unicode
 
 # revision identifiers, used by Alembic.
 revision = "1da396a88908"
 down_revision = "3f89a7d71a5e"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
     staticschema = config["schema_static"]
     parentschema = config.get("parentschema")
 
     engine = op.get_bind().engine
-    if type(engine).__name__ != "MockConnection" and op.get_context().dialect.has_table(
-        engine, "user", schema=staticschema
-    ):  # pragma: no cover
-        return
+    with engine.connect() as connection:
+        if type(engine).__name__ != "MockConnection" and op.get_context().dialect.has_table(  # type: ignore
+            connection, "user", schema=staticschema
+        ):
+            return
 
     op.create_table(
         "user",
         Column("type", String(10), nullable=False),
         Column("id", Integer, primary_key=True),
         Column("username", Unicode, unique=True, nullable=False),
         Column("password", Unicode, nullable=False),
@@ -68,15 +70,15 @@
         Column("is_password_changed", Boolean, default=False),
         Column("role_name", String),
         schema=staticschema,
     )
     parent_column = ""
     parent_select = ""
     parent_join = ""
-    if parentschema is not None and parentschema != "":  # pragma: no cover
+    if parentschema is not None and parentschema != "":
         op.add_column("user", Column("parent_role_name", String), schema=staticschema)
         parent_column = ", parent_role_name"
         parent_select = ", pr.name"
         parent_join = "LEFT OUTER JOIN {parentschema!s}.role AS pr ON (pr.id = u.parent_role_id)".format(
             parentschema=parentschema
         )
 
@@ -98,19 +100,20 @@
             }
         )
         op.drop_table("user", schema=schema)
     except Exception:
         op.execute(
             "INSERT INTO %(staticschema)s.user (type, username, email, password, role) "
             "VALUES ( 'user', 'admin', 'info@example.com', '%(pass)s', 'role_admin')"
-            % {"staticschema": staticschema, "pass": sha1("admin".encode("utf-8")).hexdigest()}
+            % {"staticschema": staticschema, "pass": sha1(b"admin").hexdigest()}  # nosec
         )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
     staticschema = config.get("schema_static")
     parentschema = config.get("parentschema")
 
     op.create_table(
         "user",
         Column("type", String(10), nullable=False),
@@ -121,15 +124,15 @@
         Column("is_password_changed", Boolean, default=False),
         Column("role_id", Integer, ForeignKey(schema + ".role.id"), nullable=False),
         schema=schema,
     )
     parent_column = ""
     parent_select = ""
     parent_join = ""
-    if parentschema is not None and parentschema != "":  # pragma: no cover
+    if parentschema is not None and parentschema != "":
         op.add_column(
             "user", Column("parent_role_id", Integer, ForeignKey(parentschema + ".role.id")), schema=schema
         )
         parent_column = ", parent_role_id"
         parent_select = ", pr.id"
         parent_join = "LEFT OUTER JOIN {parentschema}.role AS pr ON (pr.name = u.parent_role_name)".format(
             parentschema=parentschema
```

## c2cgeoportal_commons/alembic/static/3f89a7d71a5e_alter_column_url_to_remove_limitation.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2014-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,16 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
+# pylint: disable=no-member
 
-"""Alter_column_url_to_remove_limitation
+"""
+Alter_column_url_to_remove_limitation.
 
 Revision ID: 3f89a7d71a5e
 Revises:
 Create Date: 2014-12-18 10:27:52.263992
 """
 
 from alembic import op
@@ -40,14 +40,15 @@
 from sqlalchemy import types
 
 # revision identifiers, used by Alembic.
 revision = "3f89a7d71a5e"
 down_revision = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema_static"]
     op.alter_column("shorturl", "url", type_=types.Unicode, schema=schema)
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/alembic/static/53d671b17b20_add_timezone_on_datetime_fields.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2018-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add timezone on datetime fields
+# pylint: disable=no-member
+
+"""
+Add timezone on datetime fields.
 
 Revision ID: 53d671b17b20
 Revises: 1857owc78a07
 Create Date: 2018-05-29 08:44:17.675988
 """
 
 from alembic import op
@@ -40,30 +41,32 @@
 # revision identifiers, used by Alembic.
 revision = "53d671b17b20"
 down_revision = "1857owc78a07"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     staticschema = config["schema_static"]
 
     op.execute(
         """
 SET TIME ZONE 'UTC';
 ALTER TABLE {staticschema}.user ALTER COLUMN last_login TYPE timestamp with time zone;
 SET TIME ZONE LOCAL;
 ALTER TABLE {staticschema}.user ALTER COLUMN expire_on TYPE timestamp with time zone;
 """.format(
             staticschema=staticschema
         )
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     staticschema = config["schema_static"]
 
     op.execute(
         """
 SET TIME ZONE 'UTC';
 ALTER TABLE {staticschema}.user ALTER COLUMN last_login TYPE timestamp without time zone;
 SET TIME ZONE LOCAL;
```

## c2cgeoportal_commons/alembic/static/5472fbc19f39_add_temp_password_column.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2015-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add temp_password column
+# pylint: disable=no-member
+
+"""
+Add temp_password column.
 
 Revision ID: 5472fbc19f39
 Revises: 1da396a88908
 Create Date: 2015-04-20 14:51:30.595467
 """
 
 from alembic import op
@@ -39,19 +40,21 @@
 from sqlalchemy import Column, Unicode
 
 # revision identifiers, used by Alembic.
 revision = "5472fbc19f39"
 down_revision = "1da396a88908"
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     staticschema = config["schema_static"]
 
     # Instructions
     op.add_column("user", Column("temp_password", Unicode), schema=staticschema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     staticschema = config["schema_static"]
 
     # Instructions
     op.drop_column("user", "temp_password", schema=staticschema)
```

## c2cgeoportal_commons/alembic/static/7ef947f30f20_add_oauth2_tables.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2020, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,16 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add OAuth2 tables
+"""
+Add OAuth2 tables.
 
 Revision ID: 7ef947f30f20
 Revises: 107b81f5b9fe
 Create Date: 2021-03-09 17:09:54.737275
 """
 
 import sqlalchemy.schema
@@ -43,15 +42,16 @@
 # revision identifiers, used by Alembic.
 revision = "7ef947f30f20"
 down_revision = "107b81f5b9fe"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     staticschema = config["schema_static"]
 
     # Instructions
     op.create_table(
         "oauth2_client",
         Column("id", Integer, primary_key=True),
         Column("client_id", Unicode, unique=True),
@@ -99,14 +99,15 @@
         Column("code", Unicode(100), unique=True),
         Column("expire_at", DateTime(timezone=True)),
         sqlalchemy.schema.UniqueConstraint("client_id", "user_id"),
         schema=staticschema,
     )
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     staticschema = config["schema_static"]
 
     # Instructions
     op.drop_table("oauth2_bearertoken", schema=staticschema)
     op.drop_table("oauth2_authorizationcode", schema=staticschema)
     op.drop_table("oauth2_client", schema=staticschema)
```

## c2cgeoportal_commons/alembic/static/ae5e88f35669_add_table_user_role.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2018-2019, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Add table user_role and rename user.role_name to settings_role_id
+# pylint: disable=no-member
+
+"""
+Add table user_role and rename user.role_name to settings_role_id.
 
 Revision ID: ae5e88f35669
 Revises: 53d671b17b20
 Create Date: 2018-12-04 15:32:30.506633
 """
 
 from alembic import op
@@ -42,15 +43,16 @@
 # revision identifiers, used by Alembic.
 revision = "ae5e88f35669"
 down_revision = "53d671b17b20"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     schema = config["schema"]
     staticschema = config["schema_static"]
 
     op.create_table(
         "user_role",
         Column("user_id", Integer, ForeignKey(staticschema + ".user.id"), primary_key=True),
         Column("role_id", Integer, primary_key=True),
@@ -76,15 +78,16 @@
             schema=schema, staticschema=staticschema
         )
     )
 
     op.drop_column("user", "role_name", schema=staticschema)
 
 
-def downgrade():
+def downgrade() -> None:
+    """Downgrade."""
     schema = config["schema"]
     staticschema = config["schema_static"]
 
     op.add_column("user", Column("role_name", Unicode), schema=staticschema)
 
     op.execute(
         """
```

## c2cgeoportal_commons/alembic/static/bd029dbfc11a_fill_tech_data_column.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2019, Camptocamp SA
+# Copyright (c) 2019-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -23,15 +21,18 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-"""Fill tech_data column
+# pylint: disable=no-member
+
+"""
+Fill tech_data column.
 
 Revision ID: bd029dbfc11a
 Revises: 0c640a58a09a
 Create Date: 2019-09-10 13:23:26.934801
 """
 
 from alembic import op
@@ -40,15 +41,16 @@
 # revision identifiers, used by Alembic.
 revision = "bd029dbfc11a"
 down_revision = "0c640a58a09a"
 branch_labels = None
 depends_on = None
 
 
-def upgrade():
+def upgrade() -> None:
+    """Upgrade."""
     staticschema = config["schema_static"]
 
-    op.execute("UPDATE {staticschema}.\"user\" SET tech_data = '';".format(staticschema=staticschema))
+    op.execute(f"UPDATE {staticschema}.\"user\" SET tech_data = '';")
 
 
-def downgrade():
-    pass
+def downgrade() -> None:
+    """Downgrade."""
```

## c2cgeoportal_commons/lib/email_.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2013-2020, Camptocamp SA
+# Copyright (c) 2013-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -37,54 +35,54 @@
 from typing import Any, Dict, List, cast
 
 try:
     from pyramid.httpexceptions import HTTPInternalServerError
 except ModuleNotFoundError:
 
     class HTTPInternalServerError(BaseException):  # type: ignore
-        pass
+        """Fallback class."""
 
 
 LOG = logging.getLogger(__name__)
 
 
-def send_email_config(
-    settings: Dict[str, Any], email_config_name: str, email: str, **kwargs: Dict[str, Any]
-) -> None:  # pragma: no cover
+def send_email_config(settings: Dict[str, Any], email_config_name: str, email: str, **kwargs: Any) -> None:
+    """Send an email from the config information."""
     smtp_config = settings["smtp"]
     email_config = cast(Dict[str, str], settings[email_config_name])
 
     try:
         send_email(
             email_config["email_from"],
             [email],
             email_config["email_body"].format(**kwargs),
             email_config["email_subject"],
             smtp_config,
         )
     except gaierror:
-        LOG.error("Unable to send the email.", exc_info=True)
-        raise HTTPInternalServerError("See server logs for details")
+        LOG.exception("Unable to send the email.")
+        raise HTTPInternalServerError("See server logs for details")  # pylint: disable=raise-missing-from
 
 
 def send_email(
-    from_addr: str, to_addrs: List[str], body: str, subject: str, smtp_config: Dict[str, str]
-) -> None:  # pragma: no cover
+    from_addr: str, to_address: List[str], body: str, subject: str, smtp_config: Dict[str, str]
+) -> None:
+    """Send an email."""
     msg = MIMEMultipart()
     msg["From"] = from_addr
-    msg["To"] = ", ".join(to_addrs)
+    msg["To"] = ", ".join(to_address)
     msg["Date"] = formatdate(localtime=True)
     msg["Subject"] = subject
     msg.attach(MIMEText(body, "plain", "utf-8"))
 
     # Connect to server
     if smtp_config.get("ssl", False):
         smtp: smtplib.SMTP = smtplib.SMTP_SSL(smtp_config["host"])
     else:
         smtp = smtplib.SMTP(smtp_config["host"])
     if smtp_config.get("starttls", False):
         smtp.starttls()
     if smtp_config.get("user", False):
         smtp.login(smtp_config["user"], smtp_config["password"])
 
-    smtp.sendmail(from_addr, to_addrs, msg.as_string())
+    smtp.sendmail(from_addr, to_address, msg.as_string())
     smtp.close()
```

## c2cgeoportal_commons/lib/url.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2013-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,93 +21,202 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-
+import logging
+import re
 import urllib.parse
 from typing import Dict, Optional, Set
 
 from pyramid.request import Request
 
+LOG = logging.getLogger(__name__)
+
 
-def add_url_params(url: str, params: Optional[Dict[str, str]]) -> str:
-    if not params:
-        return url
-    return add_spliturl_params(urllib.parse.urlsplit(url), params)
+class Url:
+    """Object representation of an URI."""
 
+    scheme = ""
+    _netloc = ""
+    _hostname: Optional[str] = None
+    _port: Optional[int] = None
+    path = ""
+    query: Dict[str, str] = {}
+    fragment = ""
+
+    def __init__(self, url: Optional[str] = None):
+        if url:
+            url_split = urllib.parse.urlsplit(url)
+            self.scheme = url_split.scheme
+            self._netloc = url_split.netloc
+            self._hostname = url_split.hostname
+            try:
+                self._port = url_split.port
+            except ValueError as error:
+                LOG.debug(error)
+            self.path = url_split.path
+            self.query = dict(urllib.parse.parse_qsl(url_split.query))
+            self.fragment = url_split.fragment
+
+    def clone(self) -> "Url":
+        result = Url()
+        result.scheme = self.scheme
+        result._netloc = self._netloc  # pylint: disable=protected-access
+        result._hostname = self._hostname  # pylint: disable=protected-access
+        result._port = self._port  # pylint: disable=protected-access
+        result.path = self.path
+        result.query = dict(self.query)
+        result.fragment = self.fragment
+        return result
+
+    @staticmethod
+    def _is_valid_hostname(hostname: str) -> bool:
+        if len(hostname) > 255:
+            return False
+        if hostname[-1] == ".":
+            hostname = hostname[:-1]  # strip exactly one dot from the right, if present
+        allowed = re.compile(r"(?!-)[a-z\d-]{1,63}(?<!-)$", re.IGNORECASE)
+        return all(allowed.match(x) for x in hostname.split("."))
+
+    @property
+    def netloc(self) -> str:
+        return self._netloc
+
+    @netloc.setter
+    def netloc(self, netloc: str) -> None:
+        netloc_split = netloc.split(":")
+        if len(netloc_split) > 2:
+            raise RuntimeError(f"The netloc '{netloc}' in invalid")
+        if not self._is_valid_hostname(netloc_split[0]):
+            raise RuntimeError(f"The netloc '{netloc}' in invalid")
+        if len(netloc_split) == 2:
+            allowed = re.compile(r"^[0-9]+$")
+            if not allowed.match(netloc_split[1]):
+                LOG.debug("The netloc '%s' contains invalid port", netloc)
+                self._port = None
+            else:
+                self._port = int(netloc_split[1])
+        else:
+            self._port = None
+        self._netloc = netloc
+        self._hostname = netloc_split[0]
+
+    @property
+    def hostname(self) -> Optional[str]:
+        return self._hostname
+
+    @hostname.setter
+    def hostname(self, hostname: str) -> None:
+        if not self._is_valid_hostname(hostname):
+            raise RuntimeError(f"The hostname '{hostname}' in invalid")
+        self._hostname = hostname
+        self.netloc = hostname if self._port is None else f"{hostname}:{self._port}"
+
+    @property
+    def port(self) -> Optional[int]:
+        return self._port
+
+    @port.setter
+    def port(self, port: Optional[int]) -> None:
+        self._port = port
+        self.netloc = (self._hostname or "") if port is None else f"{self._hostname}:{port}"
+
+    def add_query(self, query: Dict[str, str], force: bool = False) -> "Url":
+        if query:
+            for key, value in query.items():
+                if force or key not in self.query:
+                    self.query[key] = value
+        return self
+
+    @property
+    def query_lower(self) -> Dict[str, str]:
+        return {k.lower(): v for k, v in self.query.items()}
+
+    def url(self) -> str:
+        return urllib.parse.urlunsplit(
+            (
+                self.scheme,
+                self._netloc,
+                self.path,
+                urllib.parse.urlencode(self.query),
+                self.fragment,
+            )
+        )
 
-def add_spliturl_params(spliturl: urllib.parse.SplitResult, params: Dict[str, str]) -> str:
-    query = {k: v[-1] for k, v in list(urllib.parse.parse_qs(spliturl.query).items())}
-    for key, value in list(params.items()):
-        if key not in query:
-            query[key] = value
+    def __str__(self) -> str:
+        return self.url()
 
-    return urllib.parse.urlunsplit(
-        (spliturl.scheme, spliturl.netloc, spliturl.path, urllib.parse.urlencode(query), spliturl.fragment)
-    )
+    def __repr__(self) -> str:
+        return self.url()
 
 
-def get_url2(name: str, url: str, request: Request, errors: Set[str]) -> Optional[str]:
+def get_url2(
+    name: str, url: str, request: Request, errors: Set[str], servers: Optional[Dict[str, str]] = None
+) -> Optional[Url]:
+    """
+    Get the real URL from the URI of the administration interface.
+
+    Manage the schema: static and config.
+    """
+    if servers is None:
+        servers = request.registry.settings.get("servers", {})
+
+    url_obj = Url(url)
     url_split = urllib.parse.urlsplit(url)
-    if url_split.scheme == "":
-        if url_split.netloc == "" and url_split.path not in ("", "/"):
+    if url_obj.scheme == "":
+        if url_obj.netloc == "" and url_obj.path not in ("", "/"):
             # Relative URL like: /dummy/static/url or dummy/static/url
-            return urllib.parse.urlunsplit(url_split)
-        errors.add("{}='{}' is not an URL.".format(name, url))
+            return url_obj
+        errors.add(f"{name}='{url}' is not an URL.")
         return None
-    if url_split.scheme in ("http", "https"):
-        if url_split.netloc == "":
-            errors.add("{}='{}' is not a valid URL.".format(name, url))
+    if url_obj.scheme in ("http", "https"):
+        if url_obj.netloc == "":
+            errors.add(f"{name}='{url}' is not a valid URL.")
             return None
-        return urllib.parse.urlunsplit(url_split)
-    if url_split.scheme == "static":
-        if url_split.path in ("", "/"):
-            errors.add("{}='{}' cannot have an empty path.".format(name, url))
+        return url_obj
+    if url_obj.scheme == "static":
+        if request is None:
+            errors.add(f"{name}='{url}' The request is required for static URL.")
+        if url_obj.path in ("", "/"):
+            errors.add(f"{name}='{url}' cannot have an empty path.")
             return None
-        proj = url_split.netloc
+        proj = url_obj.netloc
         package = request.registry.settings["package"]
         if proj in ("", "static"):
             proj = "/etc/geomapfish/static"
         elif ":" not in proj:
             if proj == "static-ngeo":
                 errors.add(
-                    "{}='{}' static-ngeo shouldn't be used out of webpack because it don't has "
-                    "cache bustering.".format(name, url)
+                    f"{name}='{url}' static-ngeo shouldn't be used out of webpack because it don't has "
+                    "cache bustering."
                 )
-            proj = "{}_geoportal:{}".format(package, proj)
-        return request.static_url("{}{}".format(proj, url_split.path))
-    if url_split.scheme == "config":
-        if url_split.netloc == "":
-            errors.add("{}='{}' cannot have an empty netloc.".format(name, url))
+            proj = f"{package}_geoportal:{proj}"
+        return Url(request.static_url(f"{proj}{url_split.path}"))
+    if url_obj.scheme == "config":
+        if url_obj.netloc == "":
+            errors.add(f"{name}='{url}' cannot have an empty netloc.")
             return None
-        server = request.registry.settings.get("servers", {}).get(url_split.netloc)
+        server = servers.get(url_obj.netloc)
         if server is None:
             errors.add(
-                "{}: The server '{}' ({}) is not found in the config: [{}]".format(
-                    name,
-                    url_split.netloc,
-                    url,
-                    ", ".join(request.registry.settings.get("servers", {}).keys()),
-                )
+                f"{name}: The server '{url_obj.netloc}' ({url}) is not found in the config: "
+                f"[{', '.join(servers.keys())}]"
             )
             return None
 
         if isinstance(server, dict):
-            url = server["url"]
-            params: Dict[str, str] = server.get("params", {})
+            url_obj_server = Url(server["url"])
+            url_obj_server.add_query(server.get("params", {}))
         else:
-            url_split_server = urllib.parse.urlsplit(server)
-            params = dict(urllib.parse.parse_qsl(url_split_server.query))
-            url = urllib.parse.urlunsplit(url_split_server._replace(query=""))
-        params.update(dict(urllib.parse.parse_qsl(url_split.query)))
-
-        if url_split.path != "":
-            if url[-1] != "/":
-                url += "/"
-            url = urllib.parse.urljoin(url, url_split.path[1:])
-
-        return url if not params else "{}?{}".format(url, urllib.parse.urlencode(params))
+            url_obj_server = Url(server)
 
+        if url_obj.path != "":
+            if url_obj_server.path == "" or url_obj_server.path[-1] != "/":
+                url_obj_server.path += "/"
+            url_obj_server.path = urllib.parse.urljoin(url_obj_server.path, url_obj.path[1:])
+        url_obj_server.add_query(url_obj.query, force=True)
+        url_obj_server.fragment = url_obj.fragment
+        return url_obj_server
     return None
```

## c2cgeoportal_commons/lib/validators.py

```diff
@@ -29,9 +29,9 @@
 
 
 import re
 
 import colander
 
 # Custom url validator that allow c2cgeoportal static urls.
-URL_REGEX = r"(?:{}|^(:?static|config)://\S+$)".format(colander.URL_REGEX)
+URL_REGEX = rf"(?:{colander.URL_REGEX}|^(:?static|config)://\S+$)"
 url = colander.Regex(URL_REGEX, msg=colander._("Must be a URL"), flags=re.IGNORECASE)
```

## c2cgeoportal_commons/models/__init__.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2011-2020, Camptocamp SA
+# Copyright (c) 2011-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -25,49 +23,48 @@
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
 
 import logging
-from typing import Any, Dict, List, Optional, Union  # noqa
+from typing import Any, Dict, List
 
 import sqlalchemy.ext.declarative
-import sqlalchemy.ext.declarative.api
-import sqlalchemy.orm  # noqa
+import sqlalchemy.orm
 import zope.event
 
 try:
     from pyramid.i18n import TranslationStringFactory
 
     _ = TranslationStringFactory("c2cgeoportal_admin")
 except ModuleNotFoundError:
     pass
 
 
 # Should be filed on application initialisation
 DBSession: sqlalchemy.orm.Session = None
-Base: sqlalchemy.ext.declarative.api.ConcreteBase = sqlalchemy.ext.declarative.declarative_base()
+Base: sqlalchemy.ext.declarative.ConcreteBase = sqlalchemy.ext.declarative.declarative_base()
 DBSessions: Dict[str, sqlalchemy.orm.Session] = {}
 
 
 LOG = logging.getLogger(__name__)
 
 
 class InvalidateCacheEvent:
-    pass
+    """Event to be broadcast."""
 
 
 def cache_invalidate_cb(*args: List[Any]) -> None:
+    """Invalidate the cache on a broadcast event."""
     _cache_invalidate_cb()
 
 
 try:
     from c2cwsgiutils import broadcast
 
     @broadcast.decorator()
     def _cache_invalidate_cb() -> None:
         zope.event.notify(InvalidateCacheEvent())
 
-
 except ModuleNotFoundError:
     LOG.error("c2cwsgiutils broadcast not found")
```

## c2cgeoportal_commons/models/main.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2011-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,31 +21,32 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
-# pylint: disable=no-member
-
 
 import logging
+import os
 import re
-from typing import Any, Dict, List, Optional, Set, Tuple, Union, cast  # noqa, pylint: disable=unused-import
+from typing import Any, Dict, List, Optional, Set, Tuple, Union, cast
 
+import pyramid.request
+import sqlalchemy.orm.base
 from c2c.template.config import config
 from geoalchemy2 import Geometry
 from geoalchemy2.shape import to_shape
 from papyrus.geo_interface import GeoInterface
-from pyramid.request import Request
 from sqlalchemy import Column, ForeignKey, Table, UniqueConstraint, event
 from sqlalchemy.orm import Session, backref, relationship
 from sqlalchemy.schema import Index
 from sqlalchemy.types import Boolean, Enum, Integer, String, Unicode
 
+from c2cgeoportal_commons.lib.literal import Literal
 from c2cgeoportal_commons.lib.url import get_url2
 from c2cgeoportal_commons.models import Base, _, cache_invalidate_cb
 from c2cgeoportal_commons.models.sqlalchemy import JSONEncodedDict, TsVector
 
 try:
     from c2cgeoform import default_map_settings
     from c2cgeoform.ext.colander_ext import Geometry as ColanderGeometry
@@ -55,41 +54,56 @@
     from colander import drop
     from deform.widget import CheckboxWidget, HiddenWidget, SelectWidget, TextAreaWidget, TextInputWidget
 except ModuleNotFoundError:
     drop = None
     default_map_settings = {"srid": 3857, "view": {"projection": "EPSG:3857"}}
 
     class GenericClass:
+        """Fallback class implementation."""
+
         def __init__(self, *args: Any, **kwargs: Any):
             pass
 
     CheckboxWidget = GenericClass
     HiddenWidget = GenericClass
     MapWidget = GenericClass
     SelectWidget = GenericClass
     TextAreaWidget = GenericClass
     ColanderGeometry = GenericClass
     RelationSelect2Widget = GenericClass
     TextInputWidget = GenericClass
 
 
+if os.environ.get("DEVELOPMENT", "0") == "1":
+
+    def state_str(state: Any) -> str:
+        """Return a string describing an instance via its InstanceState."""
+
+        return "None" if state is None else f"<{state.class_.__name__} {state.obj()}>"
+
+    # In the original function sqlalchemy use the id of the object that don't allow us to give some useful
+    # information
+    sqlalchemy.orm.base.state_str = state_str
+
 LOG = logging.getLogger(__name__)
 
 _schema: str = config["schema"] or "main"
 _srid: int = cast(int, config["srid"]) or 3857
 
 # Set some default values for the admin interface
-_admin_config: Dict = config.get_config().get("admin_interface", {})
-_map_config: Dict = {**default_map_settings, **_admin_config.get("map", {})}
+_admin_config: Dict[str, Any] = config.get_config().get("admin_interface", {})
+_map_config: Dict[str, Any] = {**default_map_settings, **_admin_config.get("map", {})}
 view_srid_match = re.match(r"EPSG:(\d+)", _map_config["view"]["projection"])
 if "map_srid" not in _admin_config and view_srid_match is not None:
     _admin_config["map_srid"] = view_srid_match.group(1)
 
 
-class FullTextSearch(GeoInterface, Base):
+class FullTextSearch(GeoInterface, Base):  # type: ignore
+    """The tsearch table representation."""
+
     __tablename__ = "tsearch"
     __table_args__ = (Index("tsearch_ts_idx", "ts", postgresql_using="gin"), {"schema": _schema})
 
     id = Column(Integer, primary_key=True)
     label = Column(Unicode)
     layer_name = Column(Unicode)
     role_id = Column(Integer, ForeignKey(_schema + ".role.id", ondelete="CASCADE"), nullable=True)
@@ -100,34 +114,75 @@
     public = Column(Boolean, server_default="true")
     ts = Column(TsVector)
     the_geom = Column(Geometry("GEOMETRY", srid=_srid))
     params = Column(JSONEncodedDict, nullable=True)
     actions = Column(JSONEncodedDict, nullable=True)
     from_theme = Column(Boolean, server_default="false")
 
+    def __str__(self) -> str:
+        return f"{self.label}[{self.id}]"
+
+
+class Functionality(Base):  # type: ignore
+    """The functionality table representation."""
 
-class Functionality(Base):
     __tablename__ = "functionality"
     __table_args__ = {"schema": _schema}
     __colanderalchemy_config__ = {"title": _("Functionality"), "plural": _("Functionalities")}
 
     __c2cgeoform_config__ = {"duplicate": True}
 
     id = Column(Integer, primary_key=True, info={"colanderalchemy": {"widget": HiddenWidget()}})
-    name = Column(Unicode, nullable=False, info={"colanderalchemy": {"title": _("Name")}})
-    description = Column(Unicode, info={"colanderalchemy": {"title": _("Description")}})
-    value = Column(Unicode, nullable=False, info={"colanderalchemy": {"title": _("Value")}})
+    name = Column(
+        Unicode,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("Name"),
+                "description": _("Name of the functionality."),
+                "widget": SelectWidget(
+                    values=[("", _("- Select -"))]
+                    + [
+                        (f["name"], f["name"])
+                        for f in sorted(
+                            _admin_config.get("available_functionalities", []),
+                            key=lambda f: cast(str, f["name"]),
+                        )
+                    ],
+                ),
+            }
+        },
+    )
+    description = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Description"),
+                "description": _("An optional description."),
+            }
+        },
+    )
+    value = Column(
+        Unicode,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("Value"),
+                "description": _("A value for the functionality."),
+            }
+        },
+    )
 
     def __init__(self, name: str = "", value: str = "", description: str = "") -> None:
         self.name = name
         self.value = value
         self.description = description
 
     def __str__(self) -> str:
-        return "{} - {}".format(self.name or "", self.value or "")  # pragma: no cover
+        return f"{self.name}={self.value}[{self.id}]"
 
 
 event.listen(Functionality, "after_update", cache_invalidate_cb)
 event.listen(Functionality, "after_delete", cache_invalidate_cb)
 
 
 # association table role <> functionality
@@ -155,112 +210,169 @@
         ForeignKey(_schema + ".functionality.id", ondelete="CASCADE"),
         primary_key=True,
     ),
     schema=_schema,
 )
 
 
-class Role(Base):
+class Role(Base):  # type: ignore
+    """The role table representation."""
+
     __tablename__ = "role"
     __table_args__ = {"schema": _schema}
     __colanderalchemy_config__ = {"title": _("Role"), "plural": _("Roles")}
     __c2cgeoform_config__ = {"duplicate": True}
 
     id = Column(Integer, primary_key=True, info={"colanderalchemy": {"widget": HiddenWidget()}})
-    name = Column(Unicode, unique=True, nullable=False, info={"colanderalchemy": {"title": _("Name")}})
-    description = Column(Unicode, info={"colanderalchemy": {"title": _("Description")}})
+    name = Column(
+        Unicode,
+        unique=True,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("Name"),
+                "description": _("A name for this role."),
+            }
+        },
+    )
+    description = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Description"),
+                "description": _("An optional description."),
+            }
+        },
+    )
     extent = Column(
         Geometry("POLYGON", srid=_srid),
         info={
             "colanderalchemy": {
+                "title": _("Extent"),
+                "description": _("Initial extent for this role."),
                 "typ": ColanderGeometry("POLYGON", srid=_srid, map_srid=_admin_config["map_srid"]),
                 "widget": MapWidget(map_options=_map_config),
             }
         },
     )
 
     # functionality
     functionalities = relationship(
         "Functionality",
         secondary=role_functionality,
         cascade="save-update,merge,refresh-expire",
-        info={"colanderalchemy": {"exclude": True, "title": _("Functionalities")}},
+        info={
+            "colanderalchemy": {
+                "title": _("Functionalities"),
+                "description": _("Functionality values for this role."),
+                "exclude": True,
+            }
+        },
     )
 
     def __init__(
         self,
         name: str = "",
         description: str = "",
-        functionalities: List[Functionality] = None,
+        functionalities: Optional[List[Functionality]] = None,
         extent: Geometry = None,
     ) -> None:
         if functionalities is None:
             functionalities = []
         self.name = name
         self.functionalities = functionalities
         self.extent = extent
         self.description = description
 
     def __str__(self) -> str:
-        return self.name or ""  # pragma: no cover
+        return f"{self.name}[{self.id}]>"
 
     @property
-    def bounds(self) -> None:
+    def bounds(self) -> Optional[Tuple[float, float, float, float]]:  # TODO
         if self.extent is None:
             return None
-        return to_shape(self.extent).bounds
+        return cast(Tuple[float, float, float, float], to_shape(self.extent).bounds)
 
 
 event.listen(Role.functionalities, "set", cache_invalidate_cb)
 event.listen(Role.functionalities, "append", cache_invalidate_cb)
 event.listen(Role.functionalities, "remove", cache_invalidate_cb)
 
 
-class TreeItem(Base):
+class TreeItem(Base):  # type: ignore
+    """The treeitem table representation."""
+
     __tablename__ = "treeitem"
-    __table_args__: Union[Tuple, Dict[str, Any]] = (
+    __table_args__: Union[Tuple[Any, ...], Dict[str, Any]] = (
         UniqueConstraint("type", "name"),
         {"schema": _schema},
     )
     item_type = Column("type", String(10), nullable=False, info={"colanderalchemy": {"exclude": True}})
     __mapper_args__ = {"polymorphic_on": item_type}
 
     id = Column(Integer, primary_key=True)
-    name = Column(Unicode, nullable=False, info={"colanderalchemy": {"title": _("Name")}})
-    description = Column(Unicode, info={"colanderalchemy": {"title": _("Description")}})
+    name = Column(
+        Unicode,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("Name"),
+                "description": _(
+                    """
+                    The name of the node, it is used through the i18n tools to display the name on the layers
+                    tree.
+                    """
+                ),
+            }
+        },
+    )
+    description = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Description"),
+                "description": _("An optional description."),
+            }
+        },
+    )
 
     @property
-    # Better: def parents(self) -> List[TreeGroup]:  # pragma: no cover
-    def parents(self) -> List["TreeItem"]:  # pragma: no cover
+    # Better: def parents(self) -> List[TreeGroup]:
+    def parents(self) -> List["TreeItem"]:
         return [c.treegroup for c in self.parents_relation]
 
     def is_in_interface(self, name: str) -> bool:
-        if not hasattr(self, "interfaces"):  # pragma: no cover
+        if not hasattr(self, "interfaces"):
             return False
 
         for interface in self.interfaces:
             if interface.name == name:
                 return True
 
         return False
 
-    def get_metadatas(self, name: str) -> List["Metadata"]:  # pragma: no cover
+    def get_metadata(self, name: str) -> List["Metadata"]:
         return [metadata for metadata in self.metadatas if metadata.name == name]
 
     def __init__(self, name: str = "") -> None:
         self.name = name
 
+    def __str__(self) -> str:
+        return f"{self.name}[{self.id}]>"
+
 
 event.listen(TreeItem, "after_insert", cache_invalidate_cb, propagate=True)
 event.listen(TreeItem, "after_update", cache_invalidate_cb, propagate=True)
 event.listen(TreeItem, "after_delete", cache_invalidate_cb, propagate=True)
 
 
 # association table TreeGroup <> TreeItem
-class LayergroupTreeitem(Base):
+class LayergroupTreeitem(Base):  # type: ignore
+    """The layergroup_treeitem table representation."""
+
     __tablename__ = "layergroup_treeitem"
     __table_args__ = {"schema": _schema}
 
     # required by formalchemy
     id = Column(Integer, primary_key=True, info={"colanderalchemy": {"widget": HiddenWidget()}})
     description = Column(Unicode, info={"colanderalchemy": {"exclude": True}})
     treegroup_id = Column(
@@ -297,95 +409,128 @@
             },
         ),
         primaryjoin="LayergroupTreeitem.treeitem_id==TreeItem.id",
         info={"colanderalchemy": {"exclude": True}, "c2cgeoform": {"duplicate": False}},
     )
     ordering = Column(Integer, info={"colanderalchemy": {"widget": HiddenWidget()}})
 
-    def __init__(self, group: "TreeGroup" = None, item: TreeItem = None, ordering: int = 0) -> None:
+    def __init__(
+        self, group: Optional["TreeGroup"] = None, item: Optional[TreeItem] = None, ordering: int = 0
+    ) -> None:
         self.treegroup = group
         self.treeitem = item
         self.ordering = ordering
 
+    def __str__(self) -> str:
+        return f"{self.id}"
+
 
 event.listen(LayergroupTreeitem, "after_insert", cache_invalidate_cb, propagate=True)
 event.listen(LayergroupTreeitem, "after_update", cache_invalidate_cb, propagate=True)
 event.listen(LayergroupTreeitem, "after_delete", cache_invalidate_cb, propagate=True)
 
 
 class TreeGroup(TreeItem):
+    """The treegroup table representation."""
+
     __tablename__ = "treegroup"
     __table_args__ = {"schema": _schema}
     __mapper_args__ = {"polymorphic_identity": "treegroup"}  # needed for _identity_class
 
     id = Column(Integer, ForeignKey(_schema + ".treeitem.id"), primary_key=True)
 
     def _get_children(self) -> List[TreeItem]:
         return [c.treeitem for c in self.children_relation]
 
     def _set_children(self, children: List[TreeItem], order: bool = False) -> None:
+        """
+        Set the current TreeGroup children TreeItem instances.
+
+        By managing related LayergroupTreeitem instances.
+
+        If order is False:
+            Append new children at end of current ones.
+
+        If order is True:
+            Force order of children.
+        """
         for child in self.children_relation:
             if child.treeitem not in children:
                 child.treeitem = None
                 child.treegroup = None
         if order is True:  # pragma: nocover
             for index, child in enumerate(children):
                 current = [c for c in self.children_relation if c.treeitem == child]
                 if len(current) == 1:
                     current[0].ordering = index * 10
                 else:
                     LayergroupTreeitem(self, child, index * 10)
             self.children_relation.sort(key=lambda child: child.ordering)
         else:
-            current_item = [child.treeitem for child in self.children_relation]
+            current_children = [child.treeitem for child in self.children_relation]
             for index, item in enumerate(children):
-                if item not in current_item:
+                if item not in current_children:
                     LayergroupTreeitem(self, item, 1000000 + index)
             for index, child in enumerate(self.children_relation):
                 child.ordering = index * 10
 
     children = property(_get_children, _set_children)
 
     def __init__(self, name: str = "") -> None:
-        TreeItem.__init__(self, name=name)
+        super().__init__(name=name)
 
 
 class LayerGroup(TreeGroup):
+    """The layergroup table representation."""
+
     __tablename__ = "layergroup"
     __table_args__ = {"schema": _schema}
-    __colanderalchemy_config__ = {"title": _("Layers group"), "plural": _("Layers groups")}
+    __colanderalchemy_config__ = {
+        "title": _("Layers group"),
+        "plural": _("Layers groups"),
+        "description": Literal(
+            _(
+                """
+            <div class="help-block">
+                <h4>Background layers</h4>
+                <p>The background layers are configured in the database, with the layer group named
+                <b>background</b> (by default).</p>
+                <hr>
+            </div>
+                """
+            )
+        ),
+    }
     __mapper_args__ = {"polymorphic_identity": "group"}
     __c2cgeoform_config__ = {"duplicate": True}
 
     id = Column(
         Integer,
         ForeignKey(_schema + ".treegroup.id"),
         primary_key=True,
         info={"colanderalchemy": {"missing": drop, "widget": HiddenWidget()}},
     )
-    is_expanded = Column(
-        Boolean, info={"colanderalchemy": {"title": _("Expanded"), "column": 2}}
-    )  # shouldn't be used in V3
-
-    def __init__(self, name: str = "", is_expanded: bool = False) -> None:
-        TreeGroup.__init__(self, name=name)
-        self.is_expanded = is_expanded
+
+    def __init__(self, name: str = "") -> None:
+        super().__init__(name=name)
 
 
 # role theme link for restricted theme
 restricted_role_theme = Table(
     "restricted_role_theme",
     Base.metadata,
     Column("role_id", Integer, ForeignKey(_schema + ".role.id", ondelete="CASCADE"), primary_key=True),
     Column("theme_id", Integer, ForeignKey(_schema + ".theme.id", ondelete="CASCADE"), primary_key=True),
     schema=_schema,
 )
 
 
 class Theme(TreeGroup):
+    """The theme table representation."""
+
     __tablename__ = "theme"
     __table_args__ = {"schema": _schema}
     __colanderalchemy_config__ = {"title": _("Theme"), "plural": _("Themes")}
     __mapper_args__ = {"polymorphic_identity": "theme"}
     __c2cgeoform_config__ = {"duplicate": True}
 
     id = Column(
@@ -393,65 +538,130 @@
         ForeignKey(_schema + ".treegroup.id"),
         primary_key=True,
         info={"colanderalchemy": {"missing": drop, "widget": HiddenWidget()}},
     )
     ordering = Column(
         Integer, nullable=False, info={"colanderalchemy": {"title": _("Order"), "widget": HiddenWidget()}}
     )
-    public = Column(Boolean, default=True, nullable=False, info={"colanderalchemy": {"title": _("Public")}})
-    icon = Column(Unicode, info={"colanderalchemy": {"title": _("Icon")}})
+    public = Column(
+        Boolean,
+        default=True,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("Public"),
+                "description": _("Makes the theme public."),
+            }
+        },
+    )
+    icon = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Icon"),
+                "description": _("The icon URL."),
+            }
+        },
+    )
 
     # functionality
     functionalities = relationship(
         "Functionality",
         secondary=theme_functionality,
         cascade="save-update,merge,refresh-expire",
-        info={"colanderalchemy": {"exclude": True, "title": _("Functionalities")}},
+        info={
+            "colanderalchemy": {
+                "title": _("Functionalities"),
+                "description": _("The linked functionalities."),
+                "exclude": True,
+            }
+        },
     )
 
     # restricted to role
     restricted_roles = relationship(
         "Role",
         secondary=restricted_role_theme,
         cascade="save-update,merge,refresh-expire",
-        info={"colanderalchemy": {"exclude": True, "title": _("Roles")}},
+        info={
+            "colanderalchemy": {
+                "title": _("Roles"),
+                "description": _("Users with checked roles will get access to this theme."),
+                "exclude": True,
+            }
+        },
     )
 
     def __init__(self, name: str = "", ordering: int = 100, icon: str = "") -> None:
-        TreeGroup.__init__(self, name=name)
+        super().__init__(name=name)
         self.ordering = ordering
         self.icon = icon
 
 
 event.listen(Theme.functionalities, "set", cache_invalidate_cb)
 event.listen(Theme.functionalities, "append", cache_invalidate_cb)
 event.listen(Theme.functionalities, "remove", cache_invalidate_cb)
 
 
 class Layer(TreeItem):
+    """The layer table representation."""
+
     __tablename__ = "layer"
     __table_args__ = {"schema": _schema}
     __mapper_args__ = {"polymorphic_identity": "layer"}  # needed for _identity_class
 
     id = Column(
         Integer,
         ForeignKey(_schema + ".treeitem.id"),
         primary_key=True,
         info={"colanderalchemy": {"widget": HiddenWidget()}},
     )
-    public = Column(Boolean, default=True, info={"colanderalchemy": {"title": _("Public")}})
-    geo_table = Column(Unicode, info={"colanderalchemy": {"title": _("Geo table")}})
-    exclude_properties = Column(Unicode, info={"colanderalchemy": {"title": _("Exclude properties")}})
+    public = Column(
+        Boolean,
+        default=True,
+        info={
+            "colanderalchemy": {
+                "title": _("Public"),
+                "description": _("Makes the layer public."),
+            }
+        },
+    )
+    geo_table = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Geo table"),
+                "description": _("The related database table, used by the editing module."),
+            }
+        },
+    )
+    exclude_properties = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Exclude properties"),
+                "description": _(
+                    """
+                    The list of attributes (database columns) that should not appear in
+                    the editing form so that they cannot be modified by the end user.
+                    For enumerable attributes (foreign key), the column name should end with '_id'.
+                    """
+                ),
+            }
+        },
+    )
 
     def __init__(self, name: str = "", public: bool = True) -> None:
-        TreeItem.__init__(self, name=name)
+        super().__init__(name=name)
         self.public = public
 
 
 class DimensionLayer(Layer):
+    """The intermediate class for the leyser with dimension."""
+
     __mapper_args__ = {"polymorphic_identity": "dimensionlayer"}  # needed for _identity_class
 
 
 OGCSERVER_TYPE_MAPSERVER = "mapserver"
 OGCSERVER_TYPE_QGISSERVER = "qgisserver"
 OGCSERVER_TYPE_GEOSERVER = "geoserver"
 OGCSERVER_TYPE_ARCGIS = "arcgis"
@@ -459,37 +669,93 @@
 
 OGCSERVER_AUTH_NOAUTH = "No auth"
 OGCSERVER_AUTH_STANDARD = "Standard auth"
 OGCSERVER_AUTH_GEOSERVER = "Geoserver auth"
 OGCSERVER_AUTH_PROXY = "Proxy"
 
 
-class OGCServer(Base):
+class OGCServer(Base):  # type: ignore
+    """The ogc_server table representation."""
+
     __tablename__ = "ogc_server"
     __table_args__ = {"schema": _schema}
-    __colanderalchemy_config__ = {"title": _("OGC Server"), "plural": _("OGC Servers")}
+    __colanderalchemy_config__ = {
+        "title": _("OGC Server"),
+        "plural": _("OGC Servers"),
+        "description": Literal(
+            _(
+                """
+            <div class="help-block">
+                <p>This is the description of an OGC server (WMS/WFS).\n
+                For one server we try to create only one request when it is possible.</p>
+                <p>If you want to query the same server to get PNG and JPEG images,\n
+                you should define two <code>OGC servers</code>.</p>
+                <hr>
+            </div>
+                """
+            )
+        ),
+    }
     __c2cgeoform_config__ = {"duplicate": True}
     id = Column(Integer, primary_key=True, info={"colanderalchemy": {"widget": HiddenWidget()}})
-    name = Column(Unicode, nullable=False, unique=True, info={"colanderalchemy": {"title": _("Name")}})
-    description = Column(Unicode, info={"colanderalchemy": {"title": _("Description")}})
-    url = Column(Unicode, nullable=False, info={"colanderalchemy": {"title": _("Basic URL")}})
-    url_wfs = Column(Unicode, info={"colanderalchemy": {"title": _("WFS URL")}})
+    name = Column(
+        Unicode,
+        nullable=False,
+        unique=True,
+        info={
+            "colanderalchemy": {
+                "title": _("Name"),
+                "description": _("The name of the OGC Server"),
+            }
+        },
+    )
+    description = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Description"),
+                "description": _("A description"),
+            }
+        },
+    )
+    url = Column(
+        Unicode,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("Basic URL"),
+                "description": _("The server URL"),
+            }
+        },
+    )
+    url_wfs = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("WFS URL"),
+                "description": _("The WFS server URL. If empty, the ``Basic URL`` is used."),
+            }
+        },
+    )
     type = Column(
         Enum(
             OGCSERVER_TYPE_MAPSERVER,
             OGCSERVER_TYPE_QGISSERVER,
             OGCSERVER_TYPE_GEOSERVER,
             OGCSERVER_TYPE_ARCGIS,
             OGCSERVER_TYPE_OTHER,
             native_enum=False,
         ),
         nullable=False,
         info={
             "colanderalchemy": {
                 "title": _("Server type"),
+                "description": _(
+                    "The server type which is used to know which custom attribute will be used."
+                ),
                 "widget": SelectWidget(
                     values=(
                         (OGCSERVER_TYPE_MAPSERVER, OGCSERVER_TYPE_MAPSERVER),
                         (OGCSERVER_TYPE_QGISSERVER, OGCSERVER_TYPE_QGISSERVER),
                         (OGCSERVER_TYPE_GEOSERVER, OGCSERVER_TYPE_GEOSERVER),
                         (OGCSERVER_TYPE_ARCGIS, OGCSERVER_TYPE_ARCGIS),
                         (OGCSERVER_TYPE_OTHER, OGCSERVER_TYPE_OTHER),
@@ -500,14 +766,15 @@
     )
     image_type = Column(
         Enum("image/jpeg", "image/png", native_enum=False),
         nullable=False,
         info={
             "colanderalchemy": {
                 "title": _("Image type"),
+                "description": _("The MIME type of the images (e.g.: ``image/png``)."),
                 "widget": SelectWidget(values=(("image/jpeg", "image/jpeg"), ("image/png", "image/png"))),
                 "column": 2,
             }
         },
     )
     auth = Column(
         Enum(
@@ -517,35 +784,54 @@
             OGCSERVER_AUTH_PROXY,
             native_enum=False,
         ),
         nullable=False,
         info={
             "colanderalchemy": {
                 "title": _("Authentication type"),
+                "description": "The kind of authentication to use.",
                 "widget": SelectWidget(
                     values=(
                         (OGCSERVER_AUTH_NOAUTH, OGCSERVER_AUTH_NOAUTH),
                         (OGCSERVER_AUTH_STANDARD, OGCSERVER_AUTH_STANDARD),
                         (OGCSERVER_AUTH_GEOSERVER, OGCSERVER_AUTH_GEOSERVER),
                         (OGCSERVER_AUTH_PROXY, OGCSERVER_AUTH_PROXY),
                     )
                 ),
                 "column": 2,
             }
         },
     )
-    wfs_support = Column(Boolean, info={"colanderalchemy": {"title": _("WFS support"), "column": 2}})
-    is_single_tile = Column(Boolean, info={"colanderalchemy": {"title": _("Single tile"), "column": 2}})
+    wfs_support = Column(
+        Boolean,
+        info={
+            "colanderalchemy": {
+                "title": _("WFS support"),
+                "description": _("Whether WFS is supported by the server."),
+                "column": 2,
+            }
+        },
+    )
+    is_single_tile = Column(
+        Boolean,
+        info={
+            "colanderalchemy": {
+                "title": _("Single tile"),
+                "description": _("Whether to use the single tile mode (For future use)."),
+                "column": 2,
+            }
+        },
+    )
 
     def __init__(
         self,
         name: str = "",
         description: Optional[str] = None,
         url: str = "https://wms.example.com",
-        url_wfs: str = None,
+        url_wfs: Optional[str] = None,
         type_: str = "mapserver",
         image_type: str = "image/png",
         auth: str = "Standard auth",
         wfs_support: bool = True,
         is_single_tile: bool = False,
     ) -> None:
         self.name = name
@@ -555,38 +841,55 @@
         self.type = type_
         self.image_type = image_type
         self.auth = auth
         self.wfs_support = wfs_support
         self.is_single_tile = is_single_tile
 
     def __str__(self) -> str:
-        return self.name or ""  # pragma: no cover
+        return self.name or ""
 
-    def url_description(self, request: Request) -> str:
+    def url_description(self, request: pyramid.request.Request) -> str:
         errors: Set[str] = set()
         url = get_url2(self.name, self.url, request, errors)
-        return url or "\n".join(errors)
+        return url.url() if url else "\n".join(errors)
 
-    def url_wfs_description(self, request: Request) -> Optional[str]:
+    def url_wfs_description(self, request: pyramid.request.Request) -> Optional[str]:
         if not self.url_wfs:
             return self.url_description(request)
         errors: Set[str] = set()
         url = get_url2(self.name, self.url_wfs, request, errors)
-        return url or "\n".join(errors)
+        return url.url() if url else "\n".join(errors)
 
 
 event.listen(OGCServer, "after_insert", cache_invalidate_cb, propagate=True)
 event.listen(OGCServer, "after_update", cache_invalidate_cb, propagate=True)
 event.listen(OGCServer, "after_delete", cache_invalidate_cb, propagate=True)
 
 
 class LayerWMS(DimensionLayer):
+    """The layer_wms table representation."""
+
     __tablename__ = "layer_wms"
     __table_args__ = {"schema": _schema}
-    __colanderalchemy_config__ = {"title": _("WMS Layer"), "plural": _("WMS Layers")}
+    __colanderalchemy_config__ = {
+        "title": _("WMS Layer"),
+        "plural": _("WMS Layers"),
+        "description": Literal(
+            _(
+                """
+            <div class="help-block">
+                <p>Definition of a <code>WMS Layer</code>.</p>
+                <p>Note: The layers named <code>wms-defaults</code> contains the values
+                used when we create a new <code>WMS layer</code>.</p>
+                <hr>
+            </div>
+                """
+            )
+        ),
+    }
 
     __c2cgeoform_config__ = {"duplicate": True}
 
     __mapper_args__ = {"polymorphic_identity": "l_wms"}
 
     id = Column(
         Integer,
@@ -605,123 +908,264 @@
                 "widget": RelationSelect2Widget(
                     OGCServer, "id", "name", order_by="name", default_value=("", _("- Select -"))
                 ),
             }
         },
     )
     layer = Column(
-        Unicode, nullable=False, info={"colanderalchemy": {"title": _("WMS layer name"), "column": 2}}
+        Unicode,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("WMS layer name"),
+                "description": _(
+                    """
+                    The WMS layers. Can be one layer, one group, or a comma separated list of layers.
+                    In the case of a comma separated list of layers, you will get the legend rule for the
+                    layer icon on the first layer, and to support the legend you should define a legend
+                    metadata.
+                    """
+                ),
+                "column": 2,
+            }
+        },
+    )
+    style = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Style"),
+                "description": _("The style to use for this layer, can be empty."),
+                "column": 2,
+            }
+        },
     )
-    style = Column(Unicode, info={"colanderalchemy": {"title": _("Style"), "column": 2}})
     valid = Column(
         Boolean,
-        info={"colanderalchemy": {"title": _("Valid"), "column": 2, "widget": CheckboxWidget(readonly=True)}},
+        info={
+            "colanderalchemy": {
+                "title": _("Valid"),
+                "description": _("The status reported by latest synchronization (readonly)."),
+                "column": 2,
+                "widget": CheckboxWidget(readonly=True),
+            }
+        },
     )
     invalid_reason = Column(
         Unicode,
         info={
             "colanderalchemy": {
                 "title": _("Reason why I am not valid"),
+                "description": _("The reason for status reported by latest synchronization (readonly)."),
                 "column": 2,
                 "widget": TextInputWidget(readonly=True),
             }
         },
     )
     time_mode = Column(
         Enum("disabled", "value", "range", native_enum=False),
         default="disabled",
         nullable=False,
         info={
             "colanderalchemy": {
                 "title": _("Time mode"),
+                "description": _("Used for the WMS time component."),
                 "column": 2,
                 "widget": SelectWidget(
                     values=(("disabled", _("Disabled")), ("value", _("Value")), ("range", _("Range")))
                 ),
             }
         },
     )
     time_widget = Column(
         Enum("slider", "datepicker", native_enum=False),
         default="slider",
         nullable=False,
         info={
             "colanderalchemy": {
                 "title": _("Time widget"),
+                "description": _("The component type used for the WMS time."),
                 "column": 2,
                 "widget": SelectWidget(values=(("slider", _("Slider")), ("datepicker", _("Datepicker")))),
             }
         },
     )
 
     # relationship with OGCServer
     ogc_server = relationship(
         "OGCServer",
         backref=backref("layers", info={"colanderalchemy": {"exclude": True, "title": _("WMS Layers")}}),
-        info={"colanderalchemy": {"title": _("OGC server"), "exclude": True}},
+        info={
+            "colanderalchemy": {
+                "title": _("OGC server"),
+                "description": _("The OGC server to use for this layer."),
+                "exclude": True,
+            }
+        },
     )
 
     def __init__(
         self,
         name: str = "",
         layer: str = "",
         public: bool = True,
         time_mode: str = "disabled",
         time_widget: str = "slider",
     ) -> None:
-        DimensionLayer.__init__(self, name=name, public=public)
+        super().__init__(name=name, public=public)
         self.layer = layer
         self.time_mode = time_mode
         self.time_widget = time_widget
 
     @staticmethod
-    def get_default(dbsession: Session) -> DimensionLayer:
-        return dbsession.query(LayerWMS).filter(LayerWMS.name == "wms-defaults").one_or_none()
+    def get_default(dbsession: Session) -> Optional[DimensionLayer]:
+        return cast(
+            Optional[DimensionLayer],
+            dbsession.query(LayerWMS).filter(LayerWMS.name == "wms-defaults").one_or_none(),
+        )
 
 
 class LayerWMTS(DimensionLayer):
+    """The layer_wmts table representation."""
+
     __tablename__ = "layer_wmts"
     __table_args__ = {"schema": _schema}
-    __colanderalchemy_config__ = {"title": _("WMTS Layer"), "plural": _("WMTS Layers")}
+    __colanderalchemy_config__ = {
+        "title": _("WMTS Layer"),
+        "plural": _("WMTS Layers"),
+        "description": Literal(
+            _(
+                """
+            <div class="help-block">
+                <p>Definition of a <code>WMTS Layer</code>.</p>
+                <p>Note: The layers named <code>wmts-defaults</code> contains the values used when
+                    we create a new <code>WMTS layer</code>.</p>
+
+                <h4>Self generated WMTS tiles</h4>
+                <p>When using self generated WMTS tiles, you should use URL
+                    <code>config://local/tiles/1.0.0/WMTSCapabilities.xml</code> where:<p>
+                <ul>
+                    <li><code>config://local</code> is a dynamic path based on the project
+                        configuration.</li>
+                    <li><code>/tiles</code> is a proxy in the tilecloudchain container.</li>
+                </ul>
+
+                <h4>Queryable WMTS</h4>
+                <p>To make the WMTS queryable, you should add the following <code>Metadata</code>:
+                <ul>
+                    <li><code>ogcServer</code> with the name of the used <code>OGC server</code>,
+                    <li><code>wmsLayers</code> or <code>queryLayers</code> with the layers to query
+                        (comma separated list. Groups are not supported).
+                </ul>
+                <p>By default the scale limits for the queryable layers are the
+                    <code>minResolution</code> and/or the <code>maxResolution</code>a metadata
+                    value(s) of the WMTS layer. These values correspond to the WMTS layer
+                    resolution(s) which should be the zoom limit.
+                    You can also set a <code>minQueryResolution</code> and/or a
+                    <code>maxQueryResolution</code> to set a query zoom limits independent of the
+                    WMTS layer.</p>
+
+                <h4>Print WMTS in high quality</h4>
+                <p>To print the layers in high quality, you can define that the image shall be
+                    retrieved with a <code>GetMap</code> on the original WMS server.
+                <p>To activate this, you should add the following <code>Metadata</code>:</p>
+                <ul>
+                    <li><code>ogcServer</code> with the name of the used <code>OGC server</code>,</li>
+                    <li><code>wmsLayers</code> or <code>printLayers</code> with the layers to print
+                        (comma separated list).</li>
+                </ul>
+                <hr>
+            </div>
+                """
+            )
+        ),
+    }
     __c2cgeoform_config__ = {"duplicate": True}
     __mapper_args__ = {"polymorphic_identity": "l_wmts"}
 
     id = Column(
         Integer,
         ForeignKey(_schema + ".layer.id"),
         primary_key=True,
         info={"colanderalchemy": {"missing": None, "widget": HiddenWidget()}},
     )
     url = Column(
-        Unicode, nullable=False, info={"colanderalchemy": {"title": _("GetCapabilities URL"), "column": 2}}
+        Unicode,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("GetCapabilities URL"),
+                "description": _("The URL to the WMTS capabilities."),
+                "column": 2,
+            }
+        },
     )
     layer = Column(
-        Unicode, nullable=False, info={"colanderalchemy": {"title": _("WMTS layer name"), "column": 2}}
+        Unicode,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("WMTS layer name"),
+                "description": _("The name of the WMTS layer to use"),
+                "column": 2,
+            }
+        },
+    )
+    style = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Style"),
+                "description": _("The style to use; if not present, the default style is used."),
+                "column": 2,
+            }
+        },
+    )
+    matrix_set = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Matrix set"),
+                "description": _(
+                    "The matrix set to use; if there is only one matrix set in the capabilities, it can be"
+                    "left empty."
+                ),
+                "column": 2,
+            }
+        },
     )
-    style = Column(Unicode, info={"colanderalchemy": {"title": _("Style"), "column": 2}})
-    matrix_set = Column(Unicode, info={"colanderalchemy": {"title": _("Matrix set"), "column": 2}})
     image_type = Column(
         Enum("image/jpeg", "image/png", native_enum=False),
         nullable=False,
         info={
             "colanderalchemy": {
                 "title": _("Image type"),
+                "description": Literal(
+                    _(
+                        """
+                        The MIME type of the images (e.g.: <code>image/png</code>).
+                        """
+                    )
+                ),
                 "column": 2,
                 "widget": SelectWidget(values=(("image/jpeg", "image/jpeg"), ("image/png", "image/png"))),
             }
         },
     )
 
     def __init__(self, name: str = "", public: bool = True, image_type: str = "image/png") -> None:
-        DimensionLayer.__init__(self, name=name, public=public)
+        super().__init__(name=name, public=public)
         self.image_type = image_type
 
     @staticmethod
-    def get_default(dbsession: Session) -> DimensionLayer:
-        return dbsession.query(LayerWMTS).filter(LayerWMTS.name == "wmts-defaults").one_or_none()
+    def get_default(dbsession: Session) -> Optional[DimensionLayer]:
+        return cast(
+            Optional[DimensionLayer],
+            dbsession.query(LayerWMTS).filter(LayerWMTS.name == "wmts-defaults").one_or_none(),
+        )
 
 
 # association table role <> restriction area
 role_ra = Table(
     "role_restrictionarea",
     Base.metadata,
     Column("role_id", Integer, ForeignKey(_schema + ".role.id", ondelete="CASCADE"), primary_key=True),
@@ -746,17 +1190,52 @@
         primary_key=True,
     ),
     schema=_schema,
 )
 
 
 class LayerVectorTiles(DimensionLayer):
+    """The layer_vectortiles table representation."""
+
     __tablename__ = "layer_vectortiles"
     __table_args__ = {"schema": _schema}
-    __colanderalchemy_config__ = {"title": _("Vector Tiles Layer"), "plural": _("Vector Tiles Layers")}
+    __colanderalchemy_config__ = {
+        "title": _("Vector Tiles Layer"),
+        "plural": _("Vector Tiles Layers"),
+        "description": Literal(
+            _(
+                """
+            <div class="help-block">
+                <p>Definition of a <code>Vector Tiles Layer</code>.</p>
+                <p>Note: The layers named <code>vector-tiles-defaults</code> contains the values used when
+                    we create a new <code>Vector Tiles layer</code>.</p>
+
+                <h4>Queryable Vector Tiles</h4>
+                <p>To make the Vector Tiles queryable, you should add the following <code>Metadata</code>:
+                <ul>
+                    <li><code>ogcServer</code> with the name of the used <code>OGC server</code>,
+                    <li><code>wmsLayers</code> or <code>queryLayers</code> with the layers to query
+                        (comma separated list. Groups are not supported).
+                </ul>
+
+                <h4>Print Vector Tiles in high quality</h4>
+                <p>To print the layers in high quality, you can define that the image shall be
+                    retrieved with a <code>GetMap</code> on the original WMS server.
+                <p>To activate this, you should add the following <code>Metadata</code>:</p>
+                <ul>
+                    <li><code>ogcServer</code> with the name of the used <code>OGC server</code>,</li>
+                    <li><code>wmsLayers</code> or <code>printLayers</code> with the layers to print
+                        (comma separated list).</li>
+                </ul>
+                <hr>
+            </div>
+                """
+            )
+        ),
+    }
 
     __c2cgeoform_config__ = {"duplicate": True}
 
     __mapper_args__ = {"polymorphic_identity": "l_mvt"}
 
     id = Column(
         Integer,
@@ -767,96 +1246,207 @@
 
     style = Column(
         Unicode,
         nullable=False,
         info={
             "colanderalchemy": {
                 "title": _("Style"),
-                "description": "The path to json style. Example: https://url/style.json",
+                "description": _(
+                    """
+                    The path to a Mapbox Style file (version 8 or higher). Example: https://url/style.json
+                    """
+                ),
                 "column": 2,
             }
         },
     )
 
+    sql = Column(
+        Unicode,
+        nullable=True,
+        info={
+            "colanderalchemy": {
+                "title": _("SQL query"),
+                "description": _(
+                    """
+                    A SQL query to get the vector tiles data.
+                    """
+                ),
+                "column": 2,
+                "widget": TextAreaWidget(rows=15),
+            }
+        },
+    )
+
     xyz = Column(
         Unicode,
         nullable=True,
         info={
             "colanderalchemy": {
                 "title": _("Raster URL"),
-                "description": "The raster url. Example: https://url/{z}/{x}/{y}.png",
+                "description": _(
+                    """
+                    The raster url. Example: https://url/{z}/{x}/{y}.png. Alternative to print the
+                    layer with a service which rasterises the vector tiles.
+                    """
+                ),
                 "column": 2,
             }
         },
     )
 
+    def __init__(self, name: str = "", public: bool = True, style: str = "", sql: str = "") -> None:
+        super().__init__(name=name, public=public)
+        self.style = style
+        self.sql = sql
+
+    @staticmethod
+    def get_default(dbsession: Session) -> Optional[DimensionLayer]:
+        return cast(
+            Optional[DimensionLayer],
+            dbsession.query(LayerVectorTiles)
+            .filter(LayerVectorTiles.name == "vector-tiles-defaults")
+            .one_or_none(),
+        )
+
+    def style_description(self, request: pyramid.request.Request) -> str:
+        errors: Set[str] = set()
+        url = get_url2(self.name, self.style, request, errors)
+        return url.url() if url else "\n".join(errors)
+
+
+class RestrictionArea(Base):  # type: ignore
+    """The restrictionarea table representation."""
 
-class RestrictionArea(Base):
     __tablename__ = "restrictionarea"
     __table_args__ = {"schema": _schema}
     __colanderalchemy_config__ = {"title": _("Restriction area"), "plural": _("Restriction areas")}
     __c2cgeoform_config__ = {"duplicate": True}
     id = Column(Integer, primary_key=True, info={"colanderalchemy": {"widget": HiddenWidget()}})
 
-    name = Column(Unicode, info={"colanderalchemy": {"title": _("Name")}})
-    description = Column(Unicode, info={"colanderalchemy": {"title": _("Description")}})
-    readwrite = Column(Boolean, default=False, info={"colanderalchemy": {"title": _("Read/write")}})
+    name = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Name"),
+                "description": _("A name."),
+            }
+        },
+    )
+    description = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Description"),
+                "description": _("An optional description"),
+            }
+        },
+    )
+    readwrite = Column(
+        Boolean,
+        default=False,
+        info={
+            "colanderalchemy": {
+                "title": _("Read/write"),
+                "description": _("Allows the linked users to change the objects."),
+            }
+        },
+    )
     area = Column(
         Geometry("POLYGON", srid=_srid),
         info={
             "colanderalchemy": {
+                "title": _("Area"),
+                "description": _("Active in the following area, if not defined, it is active everywhere."),
                 "typ": ColanderGeometry("POLYGON", srid=_srid, map_srid=_map_config["srid"]),
                 "widget": MapWidget(map_options=_map_config),
             }
         },
     )
 
     # relationship with Role and Layer
     roles = relationship(
         "Role",
         secondary=role_ra,
-        info={"colanderalchemy": {"title": _("Roles"), "exclude": True}},
+        info={
+            "colanderalchemy": {
+                "title": _("Roles"),
+                "description": _("Checked roles will grant access to this restriction area."),
+                "exclude": True,
+            }
+        },
         cascade="save-update,merge,refresh-expire",
         backref=backref(
-            "restrictionareas", info={"colanderalchemy": {"exclude": True, "title": _("Restriction areas")}}
+            "restrictionareas",
+            info={
+                "colanderalchemy": {
+                    "title": _("Restriction areas"),
+                    "description": _(
+                        "Users with this role will be granted with access to those restriction areas."
+                    ),
+                    "exclude": True,
+                }
+            },
         ),
     )
     layers = relationship(
         "Layer",
         secondary=layer_ra,
         order_by=Layer.name,
-        info={"colanderalchemy": {"title": _("Layers"), "exclude": True}},
+        info={
+            "colanderalchemy": {
+                "title": _("Layers"),
+                "exclude": True,
+                "description": Literal(
+                    _(
+                        """
+                        <div class="help-block">
+                            <p>This restriction area will grant access to the checked layers.</p>
+                            <hr>
+                        </div>
+                        """
+                    )
+                ),
+            }
+        },
         cascade="save-update,merge,refresh-expire",
         backref=backref(
-            "restrictionareas", info={"colanderalchemy": {"title": _("Restriction areas"), "exclude": True}}
+            "restrictionareas",
+            info={
+                "colanderalchemy": {
+                    "title": _("Restriction areas"),
+                    "exclude": True,
+                    "description": _("The areas through which the user can see the layer."),
+                }
+            },
         ),
     )
 
     def __init__(
         self,
         name: str = "",
         description: str = "",
-        layers: List[Layer] = None,
-        roles: List[Role] = None,
+        layers: Optional[List[Layer]] = None,
+        roles: Optional[List[Role]] = None,
         area: Geometry = None,
         readwrite: bool = False,
     ) -> None:
         if layers is None:
             layers = []
         if roles is None:
             roles = []
         self.name = name
         self.description = description
         self.layers = layers
         self.roles = roles
         self.area = area
         self.readwrite = readwrite
 
-    def __str__(self) -> str:  # pragma: no cover
-        return self.name or ""
+    def __str__(self) -> str:
+        return f"{self.name}[{self.id}]"
 
 
 event.listen(RestrictionArea, "after_insert", cache_invalidate_cb)
 event.listen(RestrictionArea, "after_update", cache_invalidate_cb)
 event.listen(RestrictionArea, "after_delete", cache_invalidate_cb)
 
 
@@ -879,57 +1469,123 @@
         "interface_id", Integer, ForeignKey(_schema + ".interface.id", ondelete="CASCADE"), primary_key=True
     ),
     Column("theme_id", Integer, ForeignKey(_schema + ".theme.id", ondelete="CASCADE"), primary_key=True),
     schema=_schema,
 )
 
 
-class Interface(Base):
+class Interface(Base):  # type: ignore
+    """The interface table representation."""
+
     __tablename__ = "interface"
     __table_args__ = {"schema": _schema}
     __c2cgeoform_config__ = {"duplicate": True}
     __colanderalchemy_config__ = {"title": _("Interface"), "plural": _("Interfaces")}
 
     id = Column(Integer, primary_key=True, info={"colanderalchemy": {"widget": HiddenWidget()}})
-    name = Column(Unicode, info={"colanderalchemy": {"title": _("Name")}})
-    description = Column(Unicode, info={"colanderalchemy": {"title": _("Description")}})
+    name = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Name"),
+                "description": _("The name of the interface, as used in request URL."),
+            }
+        },
+    )
+    description = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Description"),
+                "description": _("An optional description."),
+            }
+        },
+    )
 
     # relationship with Layer and Theme
     layers = relationship(
         "Layer",
         secondary=interface_layer,
         cascade="save-update,merge,refresh-expire",
         info={"colanderalchemy": {"title": _("Layers"), "exclude": True}, "c2cgeoform": {"duplicate": False}},
-        backref=backref("interfaces", info={"colanderalchemy": {"title": _("Interfaces"), "exclude": True}}),
+        backref=backref(
+            "interfaces",
+            info={
+                "colanderalchemy": {
+                    "title": _("Interfaces"),
+                    "exclude": True,
+                    "description": _("Make it visible in the checked interfaces."),
+                }
+            },
+        ),
     )
     theme = relationship(
         "Theme",
         secondary=interface_theme,
         cascade="save-update,merge,refresh-expire",
         info={"colanderalchemy": {"title": _("Themes"), "exclude": True}, "c2cgeoform": {"duplicate": False}},
-        backref=backref("interfaces", info={"colanderalchemy": {"title": _("Interfaces"), "exclude": True}}),
+        backref=backref(
+            "interfaces",
+            info={
+                "colanderalchemy": {
+                    "title": _("Interfaces"),
+                    "description": _("Make it visible in the checked interfaces."),
+                    "exclude": True,
+                }
+            },
+        ),
     )
 
     def __init__(self, name: str = "", description: str = "") -> None:
         self.name = name
         self.description = description
 
-    def __str__(self) -> str:  # pragma: no cover
-        return self.name or ""
+    def __str__(self) -> str:
+        return f"{self.name}[{self.id}]"
+
 
+class Metadata(Base):  # type: ignore
+    """The metadata table representation."""
 
-class Metadata(Base):
     __tablename__ = "metadata"
     __table_args__ = {"schema": _schema}
+    __colanderalchemy_config__ = {
+        "title": _("Metadata"),
+        "plural": _("Metadatas"),
+    }
 
     id = Column(Integer, primary_key=True, info={"colanderalchemy": {"widget": HiddenWidget()}})
-    name = Column(Unicode, info={"colanderalchemy": {"title": _("Name")}})
-    value = Column(Unicode, info={"colanderalchemy": {"exclude": True}})
+    name = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Name"),
+                "description": Literal(_("The type of <code>Metadata</code> we want to set.")),
+            }
+        },
+    )
+    value = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Value"),
+                "exclude": True,
+                "description": _("The value of the metadata entry."),
+            }
+        },
+    )
     description = Column(
-        Unicode, info={"colanderalchemy": {"title": _("Description"), "widget": TextAreaWidget()}}
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Description"),
+                "widget": TextAreaWidget(),
+                "description": _("An optional description."),
+            }
+        },
     )
 
     item_id = Column(
         "item_id",
         Integer,
         ForeignKey(_schema + ".treeitem.id"),
         nullable=False,
@@ -938,42 +1594,113 @@
     item = relationship(
         "TreeItem",
         info={"c2cgeoform": {"duplicate": False}, "colanderalchemy": {"exclude": True}},
         backref=backref(
             "metadatas",
             cascade="save-update,merge,delete,delete-orphan,expunge",
             order_by="Metadata.name",
-            info={"colanderalchemy": {"title": _("Metadatas"), "exclude": True}},
+            info={
+                "colanderalchemy": {
+                    "title": _("Metadatas"),
+                    "description": Literal(
+                        _(
+                            """
+        <div class="help-block">
+            <p>You can associate metadata to all theme elements (tree items).
+                The purpose of this metadata is to trigger specific features, mainly UI features.
+                Each metadata entry has the following attributes:</p>
+            <p>The available names are configured in the <code>vars.yaml</code>
+                files in <code>admin_interface/available_metadata</code>.</p>
+            <p>To set a metadata entry, create or edit an entry in the Metadata view of the
+                administration UI.
+                Regarding effect on the referenced tree item on the client side,
+                you will find an official description for each sort of metadata in the
+                <code>GmfMetaData</code> definition in <code>themes.js</code>
+                <a target="_blank" href="${url}">see ngeo documentation</a>.</p>
+            <hr>
+        </div>
+                            """,
+                            mapping={
+                                "url": (
+                                    "https://camptocamp.github.io/ngeo/"
+                                    f"{os.environ.get('MAJOR_VERSION', 'master')}"
+                                    "/apidoc/interfaces/contribs_gmf_src_themes.GmfMetaData.html"
+                                )
+                            },
+                        )
+                    ),
+                    "exclude": True,
+                }
+            },
         ),
     )
 
-    def __init__(self, name: str = "", value: str = "", description: str = None) -> None:
+    def __init__(self, name: str = "", value: str = "", description: Optional[str] = None) -> None:
         self.name = name
         self.value = value
         self.description = description
 
-    def __str__(self) -> str:  # pragma: no cover
-        return "{}: {}".format(self.name or "", self.value or "")
+    def __str__(self) -> str:
+        return f"{self.name}={self.value}[{self.id}]"
 
 
 event.listen(Metadata, "after_insert", cache_invalidate_cb, propagate=True)
 event.listen(Metadata, "after_update", cache_invalidate_cb, propagate=True)
 event.listen(Metadata, "after_delete", cache_invalidate_cb, propagate=True)
 
 
-class Dimension(Base):
+class Dimension(Base):  # type: ignore
+    """The dimension table representation."""
+
     __tablename__ = "dimension"
     __table_args__ = {"schema": _schema}
+    __colanderalchemy_config__ = {
+        "title": _("Dimension"),
+        "plural": _("Dimensions"),
+    }
 
     id = Column(Integer, primary_key=True, info={"colanderalchemy": {"widget": HiddenWidget()}})
-    name = Column(Unicode, info={"colanderalchemy": {"title": _("Name")}})
-    value = Column(Unicode, info={"colanderalchemy": {"title": _("Value")}})
-    field = Column(Unicode, info={"colanderalchemy": {"title": _("Field")}})
+    name = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Name"),
+                "description": _("The name of the dimension as it will be sent in requests."),
+            }
+        },
+    )
+    value = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Value"),
+                "description": _("The default value for this dimension."),
+            }
+        },
+    )
+    field = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Field"),
+                "description": _(
+                    "The name of the field to use for filtering (leave empty when not using OGC filters)."
+                ),
+            }
+        },
+    )
     description = Column(
-        Unicode, info={"colanderalchemy": {"title": _("Description"), "widget": TextAreaWidget()}}
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Description"),
+                "description": _("An optional description."),
+                "widget": TextAreaWidget(),
+            }
+        },
     )
 
     layer_id = Column(
         "layer_id",
         Integer,
         ForeignKey(_schema + ".layer.id"),
         nullable=False,
@@ -981,23 +1708,43 @@
     )
     layer = relationship(
         "DimensionLayer",
         info={"c2cgeoform": {"duplicate": False}, "colanderalchemy": {"exclude": True}},
         backref=backref(
             "dimensions",
             cascade="save-update,merge,delete,delete-orphan,expunge",
-            info={"colanderalchemy": {"title": _("Dimensions"), "exclude": True}},
+            info={
+                "colanderalchemy": {
+                    "title": _("Dimensions"),
+                    "exclude": True,
+                    "description": Literal(
+                        _(
+                            """
+        <div class="help-block">
+            <p>The dimensions, if not provided default values are used.</p>
+            <hr>
+        </div>
+                            """
+                        )
+                    ),
+                }
+            },
         ),
     )
 
     def __init__(
-        self, name: str = "", value: str = "", layer: str = None, field: str = None, description: str = None
+        self,
+        name: str = "",
+        value: str = "",
+        layer: Optional[str] = None,
+        field: Optional[str] = None,
+        description: Optional[str] = None,
     ) -> None:
         self.name = name
         self.value = value
         self.field = field
         if layer is not None:
             self.layer = layer
         self.description = description
 
-    def __str__(self) -> str:  # pragma: no cover
-        return self.name or ""
+    def __str__(self) -> str:
+        return f"{self.name}={self.value}[{self.id}]"
```

## c2cgeoportal_commons/models/sqlalchemy.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2012-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -23,49 +21,47 @@
 # (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 import json
-from typing import Any, Optional, Type
+from typing import Any, Dict, Optional, Type
 
 from sqlalchemy.engine import Dialect
 from sqlalchemy.types import VARCHAR, TypeDecorator, UserDefinedType
 
 
 # get from https://docs.sqlalchemy.org/en/latest/orm/extensions/
 # mutable.html#establishing-mutability-on-scalar-column-values
-class JSONEncodedDict(TypeDecorator):
-    """
-    Represents an immutable structure as a json-encoded string.
-    """
+class JSONEncodedDict(TypeDecorator):  # type: ignore
+    """Represent an immutable structure as a json-encoded string."""
 
     impl = VARCHAR
 
     @staticmethod
-    def process_bind_param(value: Optional[dict], _: Dialect) -> Optional[str]:
+    def process_bind_param(value: Optional[Dict[str, Any]], _: Dialect) -> Optional[str]:
         return json.dumps(value) if value is not None else None
 
     @staticmethod
-    def process_result_value(value: Optional[str], _: Dialect) -> Optional[dict]:
+    def process_result_value(value: Optional[str], _: Dialect) -> Optional[Dict[str, Any]]:
         return json.loads(value) if value is not None else None
 
     @property
-    def python_type(self) -> Type:
+    def python_type(self) -> Type[Any]:
         return dict
 
     @staticmethod
     def process_literal_param(value: str, dialect: Any) -> str:
         del dialect
         return json.dumps(value)
 
 
-class TsVector(UserDefinedType):
+class TsVector(UserDefinedType):  # type: ignore
     """A custom type for PostgreSQL's tsvector type."""
 
     def get_col_spec(self) -> str:  # pylint: disable=no-self-use
         return "TSVECTOR"
 
     @property
-    def python_type(self) -> Type:
+    def python_type(self) -> Type[Any]:
         return dict
```

## c2cgeoportal_commons/models/static.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 # Copyright (c) 2011-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
@@ -29,36 +27,39 @@
 
 
 import crypt
 import logging
 from datetime import datetime
 from hashlib import sha1
 from hmac import compare_digest as compare_hash
-from typing import Any, List
+from typing import Any, List, Optional
 
 import pytz
 import sqlalchemy.schema
 from c2c.template.config import config
 from sqlalchemy import Column, ForeignKey, Table
 from sqlalchemy.dialects.postgresql import HSTORE
 from sqlalchemy.ext.mutable import MutableDict
 from sqlalchemy.orm import backref, relationship
 from sqlalchemy.types import Boolean, DateTime, Integer, String, Unicode
 
+from c2cgeoportal_commons.lib.literal import Literal
 from c2cgeoportal_commons.models import Base, _
 from c2cgeoportal_commons.models.main import Role
 
 try:
     from c2cgeoform.ext.deform_ext import RelationSelect2Widget
     from colander import Email, drop
     from deform.widget import DateTimeInputWidget, HiddenWidget
 except ModuleNotFoundError:
     drop = None
 
     class GenericClass:
+        """Generic class."""
+
         def __init__(self, *args: Any, **kwargs: Any):
             pass
 
     Email = GenericClass
     HiddenWidget = GenericClass
     DateTimeInputWidget = GenericClass
     CollenderGeometry = GenericClass
@@ -75,46 +76,109 @@
     Base.metadata,
     Column("user_id", Integer, ForeignKey(_schema + ".user.id", ondelete="CASCADE"), primary_key=True),
     Column("role_id", Integer, primary_key=True),
     schema=_schema,
 )
 
 
-class User(Base):
+class User(Base):  # type: ignore
+    """The user table representation."""
+
     __tablename__ = "user"
     __table_args__ = {"schema": _schema}
-    __colanderalchemy_config__ = {"title": _("User"), "plural": _("Users")}
+    __colanderalchemy_config__ = {
+        "title": _("User"),
+        "plural": _("Users"),
+        "description": Literal(
+            _(
+                """
+            <div class="help-block">
+                <p>Each user may have from 1 to n roles, but each user has a default role from
+                    which are taken some settings. The default role (defined through the
+                    "Settings from role" selection) has an influence on the role extent and on some
+                    functionalities regarding their configuration.</p>
+
+                <p>Role extents for users can only be set in one role, because the application
+                    is currently not able to check multiple extents for one user, thus it is the
+                    default role which defines this unique extent.</p>
+
+                <p>Any functionality specified as <b>single</b> can be defined only once per user.
+                    Hence, these functionalities have to be defined in the default role.</p>
+
+                <p>By default, functionalities are not specified as <b>single</b>. Currently, the
+                    following functionalities are of <b>single</b> type:</p>
+
+                <ul>
+                    <li><code>default_basemap</code></li>
+                    <li><code>default_theme</code></li>
+                    <li><code>preset_layer_filter</code></li>
+                    <li><code>open_panel</code></li>
+                </ul>
+
+                <p>Any other functionality (with <b>single</b> not set or set to <code>false</code>) can
+                    be defined in any role linked to the user.</p>
+                <hr>
+            </div>
+                """
+            )
+        ),
+    }
     __c2cgeoform_config__ = {"duplicate": True}
     item_type = Column(
         "type", String(10), nullable=False, info={"colanderalchemy": {"widget": HiddenWidget()}}
     )
     __mapper_args__ = {"polymorphic_on": item_type, "polymorphic_identity": "user"}
 
     id = Column(Integer, primary_key=True, info={"colanderalchemy": {"widget": HiddenWidget()}})
     username = Column(
-        Unicode, unique=True, nullable=False, info={"colanderalchemy": {"title": _("Username")}}
+        Unicode,
+        unique=True,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("Username"),
+                "description": _("Name used for authentication (must be unique)."),
+            }
+        },
     )
     _password = Column("password", Unicode, nullable=False, info={"colanderalchemy": {"exclude": True}})
     temp_password = Column(
         "temp_password", Unicode, nullable=True, info={"colanderalchemy": {"exclude": True}}
     )
     tech_data = Column(MutableDict.as_mutable(HSTORE), info={"colanderalchemy": {"exclude": True}})
     email = Column(
-        Unicode, nullable=False, info={"colanderalchemy": {"title": _("Email"), "validator": Email()}}
+        Unicode,
+        nullable=False,
+        info={
+            "colanderalchemy": {
+                "title": _("Email"),
+                "description": _(
+                    "Used to send emails to the user, for example in case of password recovery."
+                ),
+                "validator": Email(),
+            }
+        },
     )
     is_password_changed = Column(
-        Boolean, default=False, info={"colanderalchemy": {"title": _("The user changed his password")}}
+        Boolean,
+        default=False,
+        info={
+            "colanderalchemy": {
+                "title": _("The user changed his password"),
+                "description": _("Indicates if user has changed his password."),
+            }
+        },
     )
 
     settings_role_id = Column(
         Integer,
         info={
             "colanderalchemy": {
                 "title": _("Settings from role"),
-                "description": "Only used for settings not for permissions",
+                "description": _("Used to get some settings for the user (not for permissions)."),
                 "widget": RelationSelect2Widget(
                     Role, "id", "name", order_by="name", default_value=("", _("- Select -"))
                 ),
             }
         },
     )
 
@@ -125,42 +189,76 @@
         info={"colanderalchemy": {"title": _("Settings role"), "exclude": True}},
     )
 
     roles = relationship(
         Role,
         secondary=user_role,
         secondaryjoin=Role.id == user_role.c.role_id,
-        backref=backref("users", order_by="User.username", info={"colanderalchemy": {"exclude": True}}),
-        info={"colanderalchemy": {"title": _("Roles"), "exclude": True}},
+        backref=backref(
+            "users",
+            order_by="User.username",
+            info={
+                "colanderalchemy": {
+                    "title": _("Users"),
+                    "description": _("Users granted with this role."),
+                    "exclude": True,
+                }
+            },
+        ),
+        info={
+            "colanderalchemy": {
+                "title": _("Roles"),
+                "description": _("Roles granted to the user."),
+                "exclude": True,
+            }
+        },
     )
 
     last_login = Column(
         DateTime(timezone=True),
         info={
             "colanderalchemy": {
                 "title": _("Last login"),
+                "description": _("Date of the user's last login."),
                 "missing": drop,
                 "widget": DateTimeInputWidget(readonly=True),
             }
         },
     )
 
-    expire_on = Column(DateTime(timezone=True), info={"colanderalchemy": {"title": _("Expiration date")}})
+    expire_on = Column(
+        DateTime(timezone=True),
+        info={
+            "colanderalchemy": {
+                "title": _("Expiration date"),
+                "description": _("After this date the user will not be able to login anymore."),
+            }
+        },
+    )
 
-    deactivated = Column(Boolean, default=False, info={"colanderalchemy": {"title": _("Deactivated")}})
+    deactivated = Column(
+        Boolean,
+        default=False,
+        info={
+            "colanderalchemy": {
+                "title": _("Deactivated"),
+                "description": _("Deactivate a user without removing it completely."),
+            }
+        },
+    )
 
-    def __init__(
+    def __init__(  # nosec
         self,
         username: str = "",
         password: str = "",
         email: str = "",
         is_password_changed: bool = False,
-        settings_role: Role = None,
-        roles: List[Role] = None,
-        expire_on: datetime = None,
+        settings_role: Optional[Role] = None,
+        roles: Optional[List[Role]] = None,
+        expire_on: Optional[datetime] = None,
         deactivated: bool = False,
     ) -> None:
         self.username = username
         self.password = password
         self.tech_data = {}
         self.email = email
         self.is_password_changed = is_password_changed
@@ -168,38 +266,38 @@
             self.settings_role = settings_role
         self.roles = roles or []
         self.expire_on = expire_on
         self.deactivated = deactivated
 
     @property
     def password(self) -> str:
-        """returns password"""
-        return self._password  # pragma: no cover
+        """Get the password."""
+        return self._password  # type: ignore
 
     @password.setter
     def password(self, password: str) -> None:
-        """encrypts password on the fly."""
+        """Encrypt password on the fly."""
         self._password = self.__encrypt_password(password)
 
     def set_temp_password(self, password: str) -> None:
-        """encrypts password on the fly."""
+        """Encrypt password on the fly."""
         self.temp_password = self.__encrypt_password(password)
 
     @staticmethod
     def __encrypt_password_legacy(password: str) -> str:
         """Hash the given password with SHA1."""
         return sha1(password.encode("utf8")).hexdigest()  # nosec
 
     @staticmethod
     def __encrypt_password(password: str) -> str:
         return crypt.crypt(password, crypt.METHOD_SHA512)
 
     def validate_password(self, passwd: str) -> bool:
-        """Check the password against existing credentials.
-        this method _MUST_ return a boolean.
+        """
+        Check the password against existing credentials. this method _MUST_ return a boolean.
 
         @param passwd: the password that was provided by the user to
         try and authenticate. This is the clear text version that we will
         need to match against the (possibly) encrypted one in the database.
         """
         if self._password.startswith("$"):
             # new encryption method
@@ -210,15 +308,15 @@
             if compare_hash(self._password, self.__encrypt_password_legacy(passwd)):
                 # convert to the new encryption method
                 self._password = self.__encrypt_password(passwd)
                 return True
 
         if (
             self.temp_password is not None
-            and self.temp_password != ""
+            and self.temp_password != ""  # nosec
             and compare_hash(self.temp_password, crypt.crypt(passwd, self.temp_password))
         ):
             self._password = self.temp_password
             self.temp_password = None
             self.is_password_changed = False
             return True
         return False
@@ -226,41 +324,77 @@
     def expired(self) -> bool:
         return self.expire_on is not None and self.expire_on < datetime.now(pytz.utc)
 
     def update_last_login(self) -> None:
         self.last_login = datetime.now(pytz.utc)
 
     def __str__(self) -> str:
-        return self.username or ""  # pragma: no cover
+        return self.username or ""
+
 
+class Shorturl(Base):  # type: ignore
+    """The shorturl table representation."""
 
-class Shorturl(Base):
     __tablename__ = "shorturl"
     __table_args__ = {"schema": _schema}
     id = Column(Integer, primary_key=True)
     url = Column(Unicode)
     ref = Column(String(20), index=True, unique=True, nullable=False)
     creator_email = Column(Unicode(200))
     creation = Column(DateTime)
     last_hit = Column(DateTime)
     nb_hits = Column(Integer)
 
 
-class OAuth2Client(Base):
+class OAuth2Client(Base):  # type: ignore
+    """The oauth2_client table representation."""
+
     __tablename__ = "oauth2_client"
     __table_args__ = {"schema": _schema}
     __colanderalchemy_config__ = {"title": _("OAuth2 Client"), "plural": _("OAuth2 Clients")}
     __c2cgeoform_config__ = {"duplicate": True}
     id = Column(Integer, primary_key=True, info={"colanderalchemy": {"widget": HiddenWidget()}})
-    client_id = Column(Unicode, unique=True, info={"colanderalchemy": {"title": _("Client ID")}})
-    secret = Column(Unicode, info={"colanderalchemy": {"title": _("Secret")}})
-    redirect_uri = Column(Unicode, info={"colanderalchemy": {"title": _("Redirect URI")}})
+    client_id = Column(
+        Unicode,
+        unique=True,
+        info={
+            "colanderalchemy": {
+                "title": _("Client ID"),
+                "description": _("The client identifier as e.-g. 'qgis'."),
+            }
+        },
+    )
+    secret = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Secret"),
+                "description": _("The secret."),
+            }
+        },
+    )
+    redirect_uri = Column(
+        Unicode,
+        info={
+            "colanderalchemy": {
+                "title": _("Redirect URI"),
+                "description": _(
+                    """
+                    URI where user should be redirected after authentication
+                    as e.-g. 'http://127.0.0.1:7070/' in case of QGIS desktop.
+                    """
+                ),
+            }
+        },
+    )
+
 
+class OAuth2BearerToken(Base):  # type: ignore
+    """The oauth2_bearertoken table representation."""
 
-class OAuth2BearerToken(Base):
     __tablename__ = "oauth2_bearertoken"
     __table_args__ = (
         sqlalchemy.schema.UniqueConstraint("client_id", "user_id"),
         {
             "schema": _schema,
         },
     )
@@ -270,15 +404,17 @@
     user_id = Column(Integer, ForeignKey(_schema + ".user.id", ondelete="CASCADE"), nullable=False)
     user = relationship(User)
     access_token = Column(Unicode(100), unique=True)
     refresh_token = Column(Unicode(100), unique=True)
     expire_at = Column(DateTime(timezone=True))  # in one hour
 
 
-class OAuth2AuthorizationCode(Base):
+class OAuth2AuthorizationCode(Base):  # type: ignore
+    """The oauth2_authorizationcode table representation."""
+
     __tablename__ = "oauth2_authorizationcode"
     __table_args__ = (
         sqlalchemy.schema.UniqueConstraint("client_id", "user_id"),
         {
             "schema": _schema,
         },
     )
```

## c2cgeoportal_commons/testing/__init__.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2018-2020, Camptocamp SA
+# Copyright (c) 2018-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -24,26 +22,30 @@
 # SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
 
+from typing import Any, Dict
+
 import zope.sqlalchemy
 from sqlalchemy import engine_from_config
 from sqlalchemy.engine import Engine
 from sqlalchemy.orm import Session, configure_mappers, sessionmaker
 from transaction import TransactionManager
 
 
-def get_engine(settings: dict, prefix: str = "sqlalchemy.") -> Engine:
+def get_engine(settings: Dict[str, Any], prefix: str = "sqlalchemy.") -> Engine:
+    """Get the engine."""
     return engine_from_config(settings, prefix)
 
 
 def get_session_factory(engine: Engine) -> sessionmaker:
+    """Get the session factory."""
     factory = sessionmaker()
     factory.configure(bind=engine)
     return factory
 
 
 def get_tm_session(session_factory: sessionmaker, transaction_manager: TransactionManager) -> Session:
     """
@@ -60,35 +62,33 @@
 
           import transaction
 
           engine = get_engine(settings)
           session_factory = get_session_factory(engine)
           with transaction.manager:
               dbsession = get_tm_session(session_factory, transaction.manager)
-
     """
     dbsession = session_factory()
     zope.sqlalchemy.register(dbsession, transaction_manager=transaction_manager)
     return dbsession
 
 
 def generate_mappers() -> None:
-    """
-    Initialize the model for a Pyramid app.
-    """
+    """Initialize the model for a Pyramid app."""
 
     # import or define all models here to ensure they are attached to the
     # Base.metadata prior to any initialization routines
-    import c2cgeoportal_commons.models.main  # noqa: F401
+    import c2cgeoportal_commons.models.main  # noqa: ignore=F401
 
     # run configure_mappers after defining all of the models to ensure
     # all relationships can be setup
     configure_mappers()
 
 
 def get_session(
-    settings: dict, transaction_manager: TransactionManager, prefix: str = "sqlalchemy."
+    settings: Dict[str, Any], transaction_manager: TransactionManager, prefix: str = "sqlalchemy."
 ) -> Session:
+    """Get the session."""
     configure_mappers()
     engine = get_engine(settings, prefix)
     session_factory = get_session_factory(engine)
     return get_tm_session(session_factory, transaction_manager)
```

## c2cgeoportal_commons/testing/initializedb.py

```diff
@@ -1,10 +1,8 @@
-# -*- coding: utf-8 -*-
-
-# Copyright (c) 2017-2020, Camptocamp SA
+# Copyright (c) 2017-2021, Camptocamp SA
 # All rights reserved.
 
 # Redistribution and use in source and binary forms, with or without
 # modification, are permitted provided that the following conditions are met:
 
 # 1. Redistributions of source code must retain the above copyright notice, this
 #    list of conditions and the following disclaimer.
@@ -26,47 +24,49 @@
 # The views and conclusions contained in the software and documentation are those
 # of the authors and should not be interpreted as representing official policies,
 # either expressed or implied, of the FreeBSD Project.
 
 
 import os
 import sys
-from typing import List
+from typing import List, cast
 
 from sqlalchemy.engine import Connection
 from sqlalchemy.orm import Session
 
 from c2cgeoportal_commons.models import Base
 
 
 def usage(argv: List[str]) -> None:
+    """Get the usage."""
     cmd = os.path.basename(argv[0])
-    print("usage: %s <config_uri> [var=value]\n" '(example: "%s development.ini")' % (cmd, cmd))
+    print(f"usage: {cmd} <config_uri> [var=value]\n" '(example: "{cmd} development.ini")')
     sys.exit(1)
 
 
 def schema_exists(connection: Connection, schema_name: str) -> bool:
-    sql = """
+    """Get if the schema exist."""
+    sql = f"""
 SELECT count(*) AS count
 FROM information_schema.schemata
-WHERE schema_name = '{}';
-""".format(
-        schema_name
-    )
+WHERE schema_name = '{schema_name}';
+"""
     result = connection.execute(sql)
     row = result.first()
-    return row[0] == 1
+    return cast(bool, row[0] == 1)
 
 
 def truncate_tables(connection: Connection) -> None:
+    """Truncate all the tables defined in the model."""
     for t in Base.metadata.sorted_tables:
-        connection.execute("TRUNCATE TABLE {}.{} CASCADE;".format(t.schema, t.name))
+        connection.execute(f"TRUNCATE TABLE {t.schema}.{t.name} CASCADE;")
 
 
 def setup_test_data(dbsession: Session) -> None:
+    """Initialize the testing data."""
     from c2cgeoportal_commons.models.main import Role  # pylint: disable=import-outside-toplevel
     from c2cgeoportal_commons.models.static import User  # pylint: disable=import-outside-toplevel
 
     role_admin = dbsession.merge(Role(name="role_admin"))
     role_user = dbsession.merge(Role(name="role_user"))
 
     dbsession.merge(
```

## tests/conftest.py

```diff
@@ -1,9 +1,7 @@
-# -*- coding: utf-8 -*-
-
 import os
 from logging.config import fileConfig
 
 import plaster
 import pytest
 import transaction
 from c2c.template.config import config
```

## Comparing `c2cgeoportal_commons-2.6.0.dist-info/METADATA` & `c2cgeoportal_commons-2.7.1.83.dist-info/METADATA`

 * *Files 14% similar despite different names*

```diff
@@ -1,66 +1,67 @@
 Metadata-Version: 2.1
 Name: c2cgeoportal-commons
-Version: 2.6.0
+Version: 2.7.1.83
 Summary: c2cgeoportal commons
 Home-page: https://github.com/camptocamp/c2cgeoportal/
 Author: Camptocamp
 Author-email: info@camptocamp.com
-License: UNKNOWN
 Keywords: web gis geoportail c2cgeoportal geocommune pyramid
-Platform: UNKNOWN
-Classifier: Programming Language :: Python
-Classifier: Programming Language :: Python :: 3
-Classifier: Programming Language :: Python :: 3.7
+Classifier: Development Status :: 6 - Mature
+Classifier: Environment :: Web Environment
 Classifier: Framework :: Pyramid
-Classifier: Topic :: Internet :: WWW/HTTP
-Classifier: Topic :: Internet :: WWW/HTTP :: WSGI :: Application
+Classifier: Intended Audience :: Other Audience
 Classifier: License :: OSI Approved :: BSD License
-Classifier: Development Status :: 6 - Mature
+Classifier: Operating System :: OS Independent
+Classifier: Programming Language :: Python
+Classifier: Programming Language :: Python :: 3
+Classifier: Programming Language :: Python :: 3.8
+Classifier: Topic :: Scientific/Engineering :: GIS
+Classifier: Typing :: Typed
 Description-Content-Type: text/markdown
-Requires-Dist: GeoAlchemy2
 Requires-Dist: c2c.template
+Requires-Dist: GeoAlchemy2
 Requires-Dist: papyrus
 Requires-Dist: pyramid
 Requires-Dist: sqlalchemy
 Requires-Dist: transaction
 Requires-Dist: zope.event
+Requires-Dist: jinja2 (>=2.11.3)
+Requires-Dist: setuptools (>=65.5.1)
 Provides-Extra: broadcast
 Requires-Dist: c2cwsgiutils ; extra == 'broadcast'
 Provides-Extra: testing
 Requires-Dist: transaction ; extra == 'testing'
 Provides-Extra: upgrade
 Requires-Dist: alembic ; extra == 'upgrade'
-Requires-Dist: psycopg2-binary ; extra == 'upgrade'
+Requires-Dist: psycopg2 ; extra == 'upgrade'
 
 # c2cgeoportal_common
 
 ## Checkout
 
+```
 git clone git@github.com:camptocamp/c2cgeoportal.git
 cd common
+```
 
 ## Create virtual environment
 
 make install
 
 ## Set up the tests database
 
 ```
 sudo -u postgres psql -c "CREATE USER \"www-data\" WITH PASSWORD 'www-data';"
 
 DATABASE=geomapfish_tests
 sudo -u postgres psql -c "CREATE DATABASE $DATABASE WITH OWNER \"www-data\";"
 sudo -u postgres psql -d $DATABASE -c "CREATE EXTENSION postgis;"
-
 ```
-use common/testing/initialized.py to create the database (development.ini at admin side)
 
-```
+use `common/testing/initialized.py` to create the database (`development.ini` at admin side)
 
 ## Run the tests
 
 ```
 make test
 ```
-
-
```

## Comparing `c2cgeoportal_commons-2.6.0.dist-info/RECORD` & `c2cgeoportal_commons-2.7.1.83.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,76 +1,80 @@
-c2cgeoportal_commons/__init__.py,sha256=5RrnNP3HA4cxq0RbSQGszV8g8Xelqda9Lrc2ruxZU2k,2145
-c2cgeoportal_commons/alembic/env.py,sha256=ot790Qpo2Ij9lT_N9lo0dBq0QAP1Iq0noITCBpF2Wgw,4522
-c2cgeoportal_commons/alembic/main/028477929d13_add_technical_roles.py,sha256=SuyoQvB4oWarwtSitFPxTgGhBjJsA1Cck60w5ka42yI,2814
-c2cgeoportal_commons/alembic/main/116b9b79fc4d_internal_and_external_layer_tables_.py,sha256=qVrSxwRfASeu4ZenPsVgT-EUwpvH9E0ZKNAS7-PxLfc,9009
-c2cgeoportal_commons/alembic/main/1418cb05921b_merge_1_6_and_master_branches.py,sha256=KhjcDF0RlwTafPRUy-M1XI7DJ88F9386pgOM1Lu2SdA,1944
-c2cgeoportal_commons/alembic/main/164ac0819a61_add_image_format_to_wmts_layer.py,sha256=J4HPA4ZsfuEDNWnHT8mhZRWiDTMo9UqfEXG5SUQQnZY,2158
-c2cgeoportal_commons/alembic/main/166ff2dcc48d_create_database.py,sha256=dpJSpuYqThrvobO7DweMEs-ixafMZ-nDpOhQQOBg7rw,11249
-c2cgeoportal_commons/alembic/main/16e43f8c0330_remove_old_metadata_column.py,sha256=ynE4Co6nHb0oe-0ICLa3mYiW9lVAkRQ0xWgesXODh9w,2184
-c2cgeoportal_commons/alembic/main/1d5d4abfebd1_add_restricted_theme.py,sha256=tEsVGEl_-TKCEPILNkcbBgZJyrorjWEZnKtZHgpyNcQ,2724
-c2cgeoportal_commons/alembic/main/1de20166b274_remove_v1_artifacts.py,sha256=Zd7-oClZdtt25JhdB68IJtrWMbaP6SmHcnu1IuAbbHE,3330
-c2cgeoportal_commons/alembic/main/20137477bd02_update_icons_url.py,sha256=N39fMLjlgPDCmzJ9pH1EP7vIhXkedVq4aXY4Dnbglxk,3499
-c2cgeoportal_commons/alembic/main/21f11066f8ec_trigger_on_role_updates_user_in_static.py,sha256=s0pN1iH1eQ1psWbCSF_HoaT12Kr7dkl_S-NveYmE73Y,2732
-c2cgeoportal_commons/alembic/main/22e6dfb556de_add_description_tree_.py,sha256=bKKGJRK9M26pYgVwOwvkfTlC65D9Rq97p2rmc6BdR_0,2354
-c2cgeoportal_commons/alembic/main/29f2a32859ec_merge_1_6_and_master_branches.py,sha256=oCjzNpefDVGtpDOPJ-x_1m0UsHw_qHkHVvozUTh0eD4,1944
-c2cgeoportal_commons/alembic/main/2b8ed8c1df94_set_layergroup_treeitem_is_as_a_primary_.py,sha256=Jjjz0GkcsywQJIIjt67utZGRGg-8JmebDreELoFL_9s,2216
-c2cgeoportal_commons/alembic/main/32527659d57b_move_exclude_properties_from_layerv1_to_.py,sha256=I1UDFGhqoCkZEMuKafzVl7ke6OXs9lOWErwOxe5P31g,2757
-c2cgeoportal_commons/alembic/main/32b21aa1d0ed_merge_e004f76e951a_and_e004f76e951a_.py,sha256=GqZ1iMRLkgHDbGt33U9FvOIL1wZ1H3ZVMpj_G-7Tf7Q,1956
-c2cgeoportal_commons/alembic/main/338b57593823_remove_trigger_on_role_name_change.py,sha256=qL17W7ADUaNilRU2lzn1J8-zbFzOpuI36dV8S16HC8E,2778
-c2cgeoportal_commons/alembic/main/415746eb9f6_changes_for_v2.py,sha256=3ur0smaO3P0LCJYWLSYdfa-YDPOiEACs6YeKNk7AUfY,16186
-c2cgeoportal_commons/alembic/main/5109242131ce_add_column_time_widget.py,sha256=4f4gE1xG7QjEHaEJ-pcva5fIXCnLL7OuDR19-tBKTfE,2512
-c2cgeoportal_commons/alembic/main/53ba1a68d5fe_add_theme_to_fulltextsearch.py,sha256=75PYWyJsZiHLVJnYtoH75RH4Bu7fK0V-MvZEVpcFnaA,2943
-c2cgeoportal_commons/alembic/main/54645a535ad6_add_ordering_in_relation.py,sha256=fbdX2w1CQf_dXeyYdvzG30KQxd6OVo0zq9RROMAKf1s,3576
-c2cgeoportal_commons/alembic/main/56dc90838d90_fix_removing_layerv1.py,sha256=XgVK_aU3_0diT54m0bPd43pCLwjcXcbRECYUNdUfE2Q,2299
-c2cgeoportal_commons/alembic/main/596ba21e3833_separate_local_internal.py,sha256=OXOv06epSxGjeTG4F2R76ntyRBIwyOYohzmq2_hxUdQ,2435
-c2cgeoportal_commons/alembic/main/678f88c7ad5e_add_vector_tiles_layers_table.py,sha256=zb0rVpAOAlsNHXO5ucKJucVo17fQpaQxvb-dzgN9Mwo,2381
-c2cgeoportal_commons/alembic/main/6a412d9437b1_rename_serverogc_to_ogcserver.py,sha256=f2TrTv5OQu4cd4oOuUp0dgn3MNluEZQCcf2Zs6fUlcw,2441
-c2cgeoportal_commons/alembic/main/6d87fdad275a_convert_metadata_to_the_right_case.py,sha256=N4gFyvPZ6hV6tSeeud33qNrkhCBdg0D-a0QPfgAv2aE,2649
-c2cgeoportal_commons/alembic/main/7530011a66a7_trigger_on_role_updates_user_in_static.py,sha256=gRz2AkZFKFghupam7HX_Z91GeC7XPONtvpa9DYkvFjw,2732
-c2cgeoportal_commons/alembic/main/78fd093c8393_add_api_s_intrfaces.py,sha256=INqtdkTfwFT_L5BCrI1x5-A9qQQsolr9gLYfUHjEebU,5168
-c2cgeoportal_commons/alembic/main/7d271f4527cd_add_layer_column_in_layerv1_table.py,sha256=nDZLJZHF5pip0g9gMyiWLBMN8bQ9LdvIpltDE70GTak,2391
-c2cgeoportal_commons/alembic/main/809650bd04c3_add_dimension_field.py,sha256=ySFgqqc5Sl-hhbTA0hUjf9Cq9YyVAQ3pEMhMg1wewtY,2198
-c2cgeoportal_commons/alembic/main/8117bb9bba16_use_dimension_on_all_the_layers.py,sha256=cnMl12NHtrcvdcnOUjzaCww3m6r5KtV5htUfzioqrNM,2918
-c2cgeoportal_commons/alembic/main/87f8330ed64e_add_missing_delete_cascades.py,sha256=e3jkNjGDc-ECubcYF0OrTFe1Dnyi0s9tjWlmj2Ei_Os,9301
-c2cgeoportal_commons/alembic/main/9268a1dffac0_add_trigger_to_be_able_to_correctly_.py,sha256=RGibtXpLZsJNPyeFSGjSpUC6HC7cqCFq98M2yIbd9cE,2714
-c2cgeoportal_commons/alembic/main/94db7e7e5b21_merge_2_2_and_master_branches.py,sha256=H1KJxqJ4dVTdhr0GUUQRKJSDyDKuacGY5p8922sL-jI,1939
-c2cgeoportal_commons/alembic/main/951ff84bd8ec_be_able_to_delete_a_wms_layer_in_sql.py,sha256=wgYuoGiXN3ikuwiSIBsINSFuKHsjHk5Kx0xmjOIUMvE,6756
-c2cgeoportal_commons/alembic/main/a00109812f89_add_field_layer_wms_valid.py,sha256=pVlSFE-cr0TzvHoIjnxs8DM0zCpP_jSiF8toHg3xjeo,2346
-c2cgeoportal_commons/alembic/main/a4f1aac9bda_merge_1_6_and_master_branches.py,sha256=OQZR8exJ33CM63DJeuYt0Ga4cGBcZc0Ho7x8lJMNRhY,1942
-c2cgeoportal_commons/alembic/main/b60f2a505f42_remame_uimetadata_to_metadata.py,sha256=ecPuks9BxtXauCToENT-KwJ80TNbmu_ABwhpbAhWC6E,2137
-c2cgeoportal_commons/alembic/main/c75124553bf3_remove_deprecated_columns.py,sha256=lZEEEK8wb6rlUpnPqLozDRjqBXxl-sZ2coKjLBCDuw0,2367
-c2cgeoportal_commons/alembic/main/d48a63b348f1_change_mapserver_url_for_docker.py,sha256=xEGN8TDKRBkCLTehhCSNgG3bcvb4weTI9-peYr-Ia6I,2468
-c2cgeoportal_commons/alembic/main/d8ef99bc227e_be_able_to_delete_a_linked_functionality.py,sha256=TuKwU_Zwbah3ftPtnmCNDvpIOEU2GKZCSL8IXT09EtY,3428
-c2cgeoportal_commons/alembic/main/daf738d5bae4_merge_2_0_and_master_branches.py,sha256=DiAzjwmoA9z7qcXk1tT5dmMq3Z8gydDAKbLjhglY69A,1944
-c2cgeoportal_commons/alembic/main/dba87f2647f9_merge_2_2_on_2_3.py,sha256=-FB18beAHKzYXlddS79y_WHwUGOGwzleZ8f6FKHcuzw,1931
-c2cgeoportal_commons/alembic/main/e004f76e951a_add_missing_not_null.py,sha256=MznymyDyjsN49g7VMuuZyjpxkRP4tuICe_v0Iubgkqw,4416
-c2cgeoportal_commons/alembic/main/e7e03dedade3_put_the_default_wms_server_in_the_.py,sha256=LwkmB56Ar9NV5T8bC5foFTM9PvdyXbSQSFpr6ZZFNVU,3080
-c2cgeoportal_commons/alembic/main/e85afd327ab3_cascade_deletes_to_tsearch.py,sha256=Z114mcYsR7h5FG5ApIt9pPU44eilIC_b4rkbesA9F3I,3271
-c2cgeoportal_commons/alembic/main/ec82a8906649_add_missing_on_delete_cascade_on_layer_.py,sha256=wACV1W0M-FWiUW_yo4xxOgszUEWqyLWRJG5is4S6428,2947
-c2cgeoportal_commons/alembic/main/ee25d267bf46_main_interface_desktop.py,sha256=bYmCysuyDhBfaA4t9Ca3IDA9Ydz5eU3WDySTIHoFGho,2293
-c2cgeoportal_commons/alembic/main/eeb345672454_merge_2_4_and_master_branches.py,sha256=ScQDxjaSM4EVo4akJsY6gMyp05fLyZAyoLIvp2elFa0,1940
-c2cgeoportal_commons/alembic/static/0c640a58a09a_add_opt_key_column.py,sha256=X_folmObf_VhePM1U-x4PXls0k09q1r-oPWU0JTKYCU,2248
-c2cgeoportal_commons/alembic/static/107b81f5b9fe_add_missing_delete_cascades.py,sha256=XIbshozygqPaVNg85oIAa5zpiON_Ls2ibprAkn-S_Vk,2696
-c2cgeoportal_commons/alembic/static/1857owc78a07_add_last_login_and_expiration_date.py,sha256=Alp7TqFwcnTrfCo7zrxDFcPMCtgjzTkuOyzWhy-6474,2600
-c2cgeoportal_commons/alembic/static/1da396a88908_move_user_table_to_static_schema.py,sha256=36uh48FuAOefoDLKmKmyKOlUTIFkAqnNdHGZqFic3uM,6170
-c2cgeoportal_commons/alembic/static/3f89a7d71a5e_alter_column_url_to_remove_limitation.py,sha256=3nDavllVEsokcda_Ebp0XnLcJNDlKgZ9qG3FrHRKPaA,2048
-c2cgeoportal_commons/alembic/static/53d671b17b20_add_timezone_on_datetime_fields.py,sha256=0aUJ_pKTI7xVaG-EMzlZBIEj5EzZjnWtI0LwwhnVb48,2665
-c2cgeoportal_commons/alembic/static/5472fbc19f39_add_temp_password_column.py,sha256=cYsPqdIU6FDFvs4_ct7CDJRaQVqQRj_E7YmeZ-XDCwM,2218
-c2cgeoportal_commons/alembic/static/7ef947f30f20_add_oauth2_tables.py,sha256=tgdRpH3mdLpJluV3CeyLxpsL9ql7cQTBk4PCk1RUy2A,4057
-c2cgeoportal_commons/alembic/static/ae5e88f35669_add_table_user_role.py,sha256=yqSraXRrceSK1vsRP7QKfzC4--omAkm0z2z4qSTE2CE,3571
-c2cgeoportal_commons/alembic/static/bd029dbfc11a_fill_tech_data_column.py,sha256=oMISM3tfQGmhRDkvjH9Piz-UI68NPABzgJuyIDgiv5s,2094
+c2cgeoportal_commons/__init__.py,sha256=lhrPRtwZVTucC_3OkwLp-tWAeb7eJ5TU097YK8hnoCM,2053
+c2cgeoportal_commons/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
+c2cgeoportal_commons/alembic/env.py,sha256=6YMKagQD-gicMHH74sXR139dWwwJKukSfO9D2GPfgD4,4940
+c2cgeoportal_commons/alembic/main/028477929d13_add_technical_roles.py,sha256=OP_jW1wptS-L663GzR_2vV_FqDDzL5BpwqL7cl5dhwA,2881
+c2cgeoportal_commons/alembic/main/04f05bfbb05e_remove_the_old_is_expanded_column.py,sha256=BfKFEKXkKlw89e0rM-16ryHdeYOKPzRQ_lNOD9dcm2U,2269
+c2cgeoportal_commons/alembic/main/116b9b79fc4d_internal_and_external_layer_tables_.py,sha256=L8zIpPUf7YPkEsLNwHWqYA2DFyHEM5JXqUaNhhUc33I,9071
+c2cgeoportal_commons/alembic/main/1418cb05921b_merge_1_6_and_master_branches.py,sha256=pdvd6iEK6NBdMXGDV_rdytg9rVEn7b5ngRsa_QPi0NA,2013
+c2cgeoportal_commons/alembic/main/164ac0819a61_add_image_format_to_wmts_layer.py,sha256=TcMe0NWEGL572O2eG_yszAGXAAWDHxaoPCZrqqEU5K0,2220
+c2cgeoportal_commons/alembic/main/166ff2dcc48d_create_database.py,sha256=lDOF1vYi63lq0ClAiq0wfVnONGwzgNGIO7agXj_h-vs,11246
+c2cgeoportal_commons/alembic/main/16e43f8c0330_remove_old_metadata_column.py,sha256=KnTdHP8vuzKXf6FK5hWsStlKPuqXMGw1wDoQ5JlOXHs,2251
+c2cgeoportal_commons/alembic/main/1d5d4abfebd1_add_restricted_theme.py,sha256=1Fns_OZQfOUnLxCt6qnqE8T5kmYasyS5XFPvZEJEW90,2868
+c2cgeoportal_commons/alembic/main/1de20166b274_remove_v1_artifacts.py,sha256=EFCMLtM2UUBlnMkwwRytYEIqOfIaFOkbTLKELflAJuU,3397
+c2cgeoportal_commons/alembic/main/20137477bd02_update_icons_url.py,sha256=O06q3TEq30HaWhklV6bmbNnxU4yFd548riYDkqzP5MQ,3561
+c2cgeoportal_commons/alembic/main/21f11066f8ec_trigger_on_role_updates_user_in_static.py,sha256=HGwvzspdSH6wto7_w0zmpf3XQ8PsIqAK0BKLwm5YX8k,2794
+c2cgeoportal_commons/alembic/main/22e6dfb556de_add_description_tree_.py,sha256=7e5phwyY-2g1On3LuTS_AgSS-RDsgyc_olznXSYK2Nw,2416
+c2cgeoportal_commons/alembic/main/29f2a32859ec_merge_1_6_and_master_branches.py,sha256=3eMNIfGqDIxqDl1ZgEi1OH4i_x9OhipbzR9MzzE5XAc,2013
+c2cgeoportal_commons/alembic/main/2b8ed8c1df94_set_layergroup_treeitem_is_as_a_primary_.py,sha256=2aJeWCX57Nb7oU_XJWKE6vF-IsujB1JTYGTyllnX7vk,2278
+c2cgeoportal_commons/alembic/main/32527659d57b_move_exclude_properties_from_layerv1_to_.py,sha256=8wBk-xvOhy5P8icSAOjC0aYNBCznqXvHN5X4x4Ny7A0,2819
+c2cgeoportal_commons/alembic/main/32b21aa1d0ed_merge_e004f76e951a_and_e004f76e951a_.py,sha256=mOaJf07Rr-NLedN05XWMTZf7Rim_Kr7Z8yDMypgnXiw,2025
+c2cgeoportal_commons/alembic/main/338b57593823_remove_trigger_on_role_name_change.py,sha256=0RtdeADv65zVWmQK2MraJOGzbtB8_HzBmS24wU_5jOk,2798
+c2cgeoportal_commons/alembic/main/415746eb9f6_changes_for_v2.py,sha256=O0fug0hJu8o7poT1QETkrD6W_b_jcHTQCSxdVbusj1Q,16243
+c2cgeoportal_commons/alembic/main/5109242131ce_add_column_time_widget.py,sha256=tdKdMbYgQNEEZEyNMD5lVf-LR3ZYBdOX89j5Qy3JdKo,2518
+c2cgeoportal_commons/alembic/main/52916d8fde8b_add_sql_fields_to_vector_tiles.py,sha256=6OCg7ehK4cx0BQe8MKc_VAaqLuU_Ay3sItUtH0nOAus,2261
+c2cgeoportal_commons/alembic/main/53ba1a68d5fe_add_theme_to_fulltextsearch.py,sha256=zOniJybQWT7Pi1bAhUfJZvX9vKbK7oWyQqumijgIAQU,3005
+c2cgeoportal_commons/alembic/main/54645a535ad6_add_ordering_in_relation.py,sha256=aRF4RQtSYyr-SqeLLwTzwdhaOt7o5EF12RDtgNx1Nmk,3638
+c2cgeoportal_commons/alembic/main/56dc90838d90_fix_removing_layerv1.py,sha256=YfqkOtmVcDwNht0TVGgyU8D4NJdo1bEJtDjvbN04wD0,2336
+c2cgeoportal_commons/alembic/main/596ba21e3833_separate_local_internal.py,sha256=6yn_CfQ7OpcpN3u2eFdrOwHGitzKTfFDVCxI7Hdr1JY,2497
+c2cgeoportal_commons/alembic/main/678f88c7ad5e_add_vector_tiles_layers_table.py,sha256=AvEHJ9BKZMyFX9h0Uir0zSIOX5TXvc7b2vQO-TsOR1U,2448
+c2cgeoportal_commons/alembic/main/6a412d9437b1_rename_serverogc_to_ogcserver.py,sha256=ouFOVv6S_4w8xi4ls1Vs2pgHoB4F4VVaa3xEVLDjR8Q,2535
+c2cgeoportal_commons/alembic/main/6d87fdad275a_convert_metadata_to_the_right_case.py,sha256=9RoQMZaaxm6_GzHgCuWlIOmtdIDNBCOR3gvXZSedX-g,2528
+c2cgeoportal_commons/alembic/main/7530011a66a7_trigger_on_role_updates_user_in_static.py,sha256=XilhxEBvLZJaSw1ZR8g58hfohdAB03_KFbDbV8vq9BM,2794
+c2cgeoportal_commons/alembic/main/78fd093c8393_add_api_s_intrfaces.py,sha256=P1Krd3JQHmhPN3oeLLF0fex7wyBMLHSQkuX86Kb82Rw,5235
+c2cgeoportal_commons/alembic/main/7d271f4527cd_add_layer_column_in_layerv1_table.py,sha256=-zrJ6YB78xdNVCppmru2HhbcfsrMfq4ZOZ-p0qma8hU,2453
+c2cgeoportal_commons/alembic/main/809650bd04c3_add_dimension_field.py,sha256=8zVKPzzivC3JxZL2Yt-ZoGfbd4hMaYV_CQtUtUFcASA,2260
+c2cgeoportal_commons/alembic/main/8117bb9bba16_use_dimension_on_all_the_layers.py,sha256=oFR0UuQYY8tkxzcUPpJAyBc0_lkAVvELS325DOzpI_U,3012
+c2cgeoportal_commons/alembic/main/87f8330ed64e_add_missing_delete_cascades.py,sha256=Sx2A-KRvZHd7Sa-VKL1W4V7wh8Eb8LdVgjSOUOrm1Zw,9368
+c2cgeoportal_commons/alembic/main/9268a1dffac0_add_trigger_to_be_able_to_correctly_.py,sha256=0djQsxzaiBNgyymoUEMciDdt2fg8BR1kKCTFIug0o98,2734
+c2cgeoportal_commons/alembic/main/94db7e7e5b21_merge_2_2_and_master_branches.py,sha256=kC1SFl8go0SN3MixuwC2BDTc_dM3MGgEnZlgnK9aN4U,2013
+c2cgeoportal_commons/alembic/main/951ff84bd8ec_be_able_to_delete_a_wms_layer_in_sql.py,sha256=uPh3pj-DMgURY1vrMLf3DGtoFuXpSt0lI9z_PdJptyM,6818
+c2cgeoportal_commons/alembic/main/a00109812f89_add_field_layer_wms_valid.py,sha256=z1fVfP54sNsxJqlrfeS8NFah8Brlqy2tt_Sum2F15A8,2413
+c2cgeoportal_commons/alembic/main/a4f1aac9bda_merge_1_6_and_master_branches.py,sha256=rB_9a36XeCNm7z8-nEfTc_gCDOk9w4X-DSNDoaDIbGo,2011
+c2cgeoportal_commons/alembic/main/b60f2a505f42_remame_uimetadata_to_metadata.py,sha256=s_-V3H0raDUvg-ibxy04aWPSrK95CaLdssI3fF-5Hu0,2199
+c2cgeoportal_commons/alembic/main/c75124553bf3_remove_deprecated_columns.py,sha256=-xbcaMk2yQHBAoBOs3wTzOSfi1UIHlWwkSREAJTRHqU,2434
+c2cgeoportal_commons/alembic/main/d48a63b348f1_change_mapserver_url_for_docker.py,sha256=AA-JfvcFaMY1eQ4bL48ZIXW8jYV2MIcIRIsO0W-7DP8,2535
+c2cgeoportal_commons/alembic/main/d8ef99bc227e_be_able_to_delete_a_linked_functionality.py,sha256=KcFcoCdYL9hyf8E6zvuhF1GMKSSSP6t3X5J6PMxHKe4,3434
+c2cgeoportal_commons/alembic/main/daf738d5bae4_merge_2_0_and_master_branches.py,sha256=fbGK7HH0TkcRvgne4AOT5SKd7W81LCsmeXli8FYjmdw,2013
+c2cgeoportal_commons/alembic/main/dba87f2647f9_merge_2_2_on_2_3.py,sha256=k06btNcgKQ_N9IEh8EEWgSNni_bQPfy0uchSd-5NPiA,2000
+c2cgeoportal_commons/alembic/main/e004f76e951a_add_missing_not_null.py,sha256=MAeTIEgNGBiETtx4gH7v621PpBkhYNsC8E3Aq9PBQz0,4408
+c2cgeoportal_commons/alembic/main/e7e03dedade3_put_the_default_wms_server_in_the_.py,sha256=u7CZx3HRbuvfUgmFD4ztopJ0xaoereYBLNppwnPB5bI,3142
+c2cgeoportal_commons/alembic/main/e85afd327ab3_cascade_deletes_to_tsearch.py,sha256=IN2_3oISNm_fWsEognF0P4-RxntU8yomJHt7X0CvBDw,3338
+c2cgeoportal_commons/alembic/main/ec82a8906649_add_missing_on_delete_cascade_on_layer_.py,sha256=9KvLFbXSIKqSd-PDfTyS4NRb8k64l3VrhVhgmY9OTCg,2977
+c2cgeoportal_commons/alembic/main/ee25d267bf46_main_interface_desktop.py,sha256=gQbrOG3sLQCGvZv8xxsWJZRbOgmbFhjLovoVxTnHdsU,2355
+c2cgeoportal_commons/alembic/main/eeb345672454_merge_2_4_and_master_branches.py,sha256=ZzF2D-7V0AZpBNyoEkLURdBoumqKuzfH0SAdT6nXDPU,2014
+c2cgeoportal_commons/alembic/static/0c640a58a09a_add_opt_key_column.py,sha256=3hx7u8btKHCATk4MkECrV5pTHqxSGHqRWpGPtUTz8Pc,2315
+c2cgeoportal_commons/alembic/static/107b81f5b9fe_add_missing_delete_cascades.py,sha256=aKiyNB92_3HNTVGK0BJQfc2N63Q_wQjEl5_caOlBftM,2763
+c2cgeoportal_commons/alembic/static/1857owc78a07_add_last_login_and_expiration_date.py,sha256=2-VPN3KKYVv6sc6rzSPQHC3GFf3dV1GB3fTbPwFpub0,2660
+c2cgeoportal_commons/alembic/static/1da396a88908_move_user_table_to_static_schema.py,sha256=y2QN1-67EvGp8LCN_9OGzQh5SEkH0CgB_hZuheLmwgo,6242
+c2cgeoportal_commons/alembic/static/3f89a7d71a5e_alter_column_url_to_remove_limitation.py,sha256=-DeqDaGfaWjIi8bsNMo0iHfBGR8Qc7sdZXI4VkzGtRA,2100
+c2cgeoportal_commons/alembic/static/53d671b17b20_add_timezone_on_datetime_fields.py,sha256=pH3EB4qbJp4ZP1n0vmfQH9Z780gHWQtqFinH_dAPfqY,2727
+c2cgeoportal_commons/alembic/static/5472fbc19f39_add_temp_password_column.py,sha256=RPJ2dGTymN5yqaeHFXggvLZyJvuubeWsNEu6XZJQm4U,2280
+c2cgeoportal_commons/alembic/static/7ef947f30f20_add_oauth2_tables.py,sha256=YbMgCVhwxsFZQimTkbbZZHiHu-Ae80IGlpZgah4iPZw,4090
+c2cgeoportal_commons/alembic/static/ae5e88f35669_add_table_user_role.py,sha256=l3jMGUW1oWHQZ5GRxhSGFK42yadnzWH18-C2kT6s9F4,3633
+c2cgeoportal_commons/alembic/static/bd029dbfc11a_fill_tech_data_column.py,sha256=F7ess8AZSp-D86IM8sFFmD0nKBTlwc5HMK28PrqAr5s,2119
 c2cgeoportal_commons/lib/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-c2cgeoportal_commons/lib/email_.py,sha256=INg1azl7ouyIVUmq3KkZtoNwnnUOuFjL-ni6m9woDrM,3439
-c2cgeoportal_commons/lib/url.py,sha256=JFm9A72hDhqHl7sSW0oqR_mb5RoFHC40GvF6RHtka6o,5031
-c2cgeoportal_commons/lib/validators.py,sha256=2U8MwQjU9fB5NYAXfK29CvyWFa9BKWRlv-PBPa8TlsM,1838
-c2cgeoportal_commons/models/__init__.py,sha256=-Kc0N-f_LiK-Hal1TuZkUDguNybOYv5gjtOXP3MxVU4,2577
-c2cgeoportal_commons/models/main.py,sha256=1nkQ0A96oGthJO49xauxw15HxTBX8PZZR3zcm5ejJPQ,36942
-c2cgeoportal_commons/models/sqlalchemy.py,sha256=zvbtz9iqceakK8THvffVy7t-cPZEypjtuxm7XrtKYIc,2802
-c2cgeoportal_commons/models/static.py,sha256=7mmAJqoZoCSTzeqvMmQnDNBh5D08XwsE3f2WA3olCtg,11125
-c2cgeoportal_commons/testing/__init__.py,sha256=KxGigSoVIgnPLl5uM-KukCjboXK0ctELH7Oi9l-q5ZU,3698
-c2cgeoportal_commons/testing/initializedb.py,sha256=8nQPLPWfJhhGCL2Io5V6L4x_hyI4yxRX0KYSs9K8WSw,3045
+c2cgeoportal_commons/lib/email_.py,sha256=VAtXpFhenezZopzcQI1e-QgcJihMu3R1kzjmUQO_Nos,3485
+c2cgeoportal_commons/lib/literal.py,sha256=450WdbYHt7tKd7t6nz7OB8D61BqyC1UdK12HvsrhvoQ,2036
+c2cgeoportal_commons/lib/url.py,sha256=kDnk67Rc8wFYrFb13K5STkT10-cCbGW0KfJlr5lZTf8,8304
+c2cgeoportal_commons/lib/validators.py,sha256=89-JXCNGTQxmzHbharaqObrbXHxp77sx6TZtCZTNjnM,1830
+c2cgeoportal_commons/models/__init__.py,sha256=JNrOgnHZRgE3ab6WvDzAuBP8jaTiAI8bGkk3tFy_AXA,2553
+c2cgeoportal_commons/models/main.py,sha256=ArEfgvpujTQ7Vsc0m4ejQhEoa4M_F2OPdmtA_jV4U_s,58452
+c2cgeoportal_commons/models/sqlalchemy.py,sha256=M-82eUvvqiW90UviNdRAXCPA2molfZU_vlVBS8LqXIs,2834
+c2cgeoportal_commons/models/static.py,sha256=S7hYpcCm5xtEh-XTvnRhuu0Ma2hPjLJSrcJyU5Jb7SU,15162
+c2cgeoportal_commons/testing/__init__.py,sha256=Nn2ky7JixbfYRTM1oJkZ0HKfZiW1IkvmkA8e6bHJl6M,3807
+c2cgeoportal_commons/testing/initializedb.py,sha256=mNBT_rPjxukWG5DIVX1rAmeNCZpCQvxICxigVuDr3_0,3155
 tests/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-tests/conftest.py,sha256=CFKl5hfYNr7GtlWCdrO5c-S-mBrJfmbbFqSAWwPWKUA,1474
-c2cgeoportal_commons-2.6.0.dist-info/METADATA,sha256=PTRteCBn_uBooE56k_t32LbI9DWsuNHR5siygT3UJ7E,1731
-c2cgeoportal_commons-2.6.0.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
-c2cgeoportal_commons-2.6.0.dist-info/top_level.txt,sha256=NWDBsLJav5VgJVX1XzTwUvFShioh9XSi5IaJU_9_YDc,27
-c2cgeoportal_commons-2.6.0.dist-info/RECORD,,
+tests/conftest.py,sha256=kxgBqWJQ3vEy7yoW-NBhBp8yLOVLiObC5O69gZLE9Ws,1449
+c2cgeoportal_commons-2.7.1.83.dist-info/METADATA,sha256=Jbl_Phd2EhtjT0U_JXV4SKg4Mge3d8_WTAIUvL4OVvM,1877
+c2cgeoportal_commons-2.7.1.83.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+c2cgeoportal_commons-2.7.1.83.dist-info/top_level.txt,sha256=NWDBsLJav5VgJVX1XzTwUvFShioh9XSi5IaJU_9_YDc,27
+c2cgeoportal_commons-2.7.1.83.dist-info/RECORD,,
```

