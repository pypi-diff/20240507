# Comparing `tmp/isops-0.2.0.tar.gz` & `tmp/isops-0.2.1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "isops-0.2.0.tar", max compression
+gzip compressed data, was "isops-0.2.1.tar", max compression
```

## Comparing `isops-0.2.0.tar` & `isops-0.2.1.tar`

### file list

```diff
@@ -1,10 +1,9 @@
--rw-r--r--   0        0        0     1073 2022-12-28 11:12:21.071544 isops-0.2.0/LICENSE
--rw-r--r--   0        0        0     6529 2023-01-01 20:19:10.027105 isops-0.2.0/README.md
--rw-r--r--   0        0        0       84 2022-12-28 13:14:34.606640 isops-0.2.0/isops/__init__.py
--rw-r--r--   0        0        0     5959 2023-01-01 20:19:10.028578 isops-0.2.0/isops/cli.py
--rw-r--r--   0        0        0      347 2022-12-28 13:14:34.606966 isops-0.2.0/isops/utils/__init__.py
--rw-r--r--   0        0        0     3119 2023-01-01 18:50:34.936895 isops-0.2.0/isops/utils/helpers.py
--rw-r--r--   0        0        0      533 2022-12-28 13:14:34.607235 isops-0.2.0/isops/utils/sops.py
--rw-r--r--   0        0        0      967 2023-01-01 20:19:18.705122 isops-0.2.0/pyproject.toml
--rw-r--r--   0        0        0     7805 1970-01-01 00:00:00.000000 isops-0.2.0/setup.py
--rw-r--r--   0        0        0     7294 1970-01-01 00:00:00.000000 isops-0.2.0/PKG-INFO
+-rw-r--r--   0        0        0     1073 2022-12-28 11:12:21.071544 isops-0.2.1/LICENSE
+-rw-r--r--   0        0        0     6547 2023-01-08 11:33:50.509080 isops-0.2.1/README.md
+-rw-r--r--   0        0        0       84 2022-12-28 13:14:34.606640 isops-0.2.1/isops/__init__.py
+-rw-r--r--   0        0        0     5833 2024-05-07 12:55:14.541346 isops-0.2.1/isops/cli.py
+-rw-r--r--   0        0        0      347 2022-12-28 13:14:34.606966 isops-0.2.1/isops/utils/__init__.py
+-rw-r--r--   0        0        0     3113 2024-05-07 12:55:14.541519 isops-0.2.1/isops/utils/helpers.py
+-rw-r--r--   0        0        0      533 2022-12-28 13:14:34.607235 isops-0.2.1/isops/utils/sops.py
+-rw-r--r--   0        0        0      981 2024-05-07 13:04:49.070681 isops-0.2.1/pyproject.toml
+-rw-r--r--   0        0        0     7307 1970-01-01 00:00:00.000000 isops-0.2.1/PKG-INFO
```

### Comparing `isops-0.2.0/LICENSE` & `isops-0.2.1/LICENSE`

 * *Files identical despite different names*

### Comparing `isops-0.2.0/README.md` & `isops-0.2.1/README.md`

 * *Files 0% similar despite different names*

```diff
@@ -90,14 +90,15 @@
 ```
 
 If you run `isops` you get a warning because your secret is not encrypted:
 
 ```console
 user@laptop:~$ isops ./example --config-regex .sops.yaml
 Found config file: example/.sops.yaml
+---
 example/secret.yaml::key [UNSAFE]
 user@laptop:~$ echo $?
 1
 ```
 
 If the same secret is encrypted with sops:
 
@@ -115,14 +116,15 @@
 ```
 
 then `isops` will give you the green light:
 
 ```console
 user@laptop:~$ isops ./example --config-regex .sops.yaml
 Found config file: example/.sops.yaml
+---
 example/secret.yaml::key [SAFE]
 user@laptop:~$ echo $?
 0
 ```
 
 ## Another example
 
@@ -149,39 +151,41 @@
 
 Then if you run `isops` you get:
 
 ```console
 user@laptop:~$ isops example --config-regex "example/.sops/(.*).yaml$"
 Found config file: example/.sops/sops-dev.yaml
 Found config file: example/.sops/sops-prod.yaml
+---
 example/dev/db-password-secret.yaml::password [SAFE]
 example/dev/api-key-secret.yaml::key [SAFE]
 example/prod/db-password-secret.yaml::password [SAFE]
 example/prod/api-key-secret.yaml::key [UNSAFE]
 ```
 
 Sometimes the list of secret is very long: you can enable a small summary at the end with the `--summary` option:
 
 ```console
 user@laptop:~$ isops example --config-regex "example/.sops/(.*).yaml$" --summary
 Found config file: example/.sops/sops-dev.yaml
 Found config file: example/.sops/sops-prod.yaml
+---
 example/dev/db-password-secret.yaml::password [SAFE]
 example/dev/api-key-secret.yaml::key [SAFE]
 example/prod/db-password-secret.yaml::password [SAFE]
 example/prod/api-key-secret.yaml::key [UNSAFE]
 ---
 Summary:
 UNSAFE secret 'key' in 'example/prod/api-key-secret.yaml'
 3 safe 1 unsafe
 ```
 
 The previous example can be found in the `example` directory. The sample application was generated by [ChatGPT](https://chat.openai.com/chat) with the prompt: "Please, generate an example Kubernetes application with two secrets".
 
-## Pre-commit hook
+## `pre-commit` hook
 
 `isops` can be also used as a [pre-commit](https://pre-commit.com) hook. For example:
 
 ```yaml
 repos:
   - repo: https://github.com/lorenzophys/isops
     rev: v0.2.0
```

### Comparing `isops-0.2.0/isops/cli.py` & `isops-0.2.1/isops/cli.py`

 * *Files 6% similar despite different names*

```diff
@@ -32,17 +32,15 @@
 
 
 def _validate_regex(ctx: click.Context, param: click.Parameter, value: str) -> str:
     try:
         re.compile(value)
         return value
     except re.error:
-        raise click.BadParameter(
-            param=param, message=f"{value} is not a valid regex."
-        ) from None
+        raise click.BadParameter(param=param, message=f"{value} is not a valid regex.") from None
 
 
 @click.option(
     "-r",
     "--config-regex",
     type=str,
     callback=_validate_regex,
@@ -59,30 +57,26 @@
     is_flag=True,
     default=False,
     help="Print a summary at the end of the checks.",
 )
 @click.argument("path", nargs=1, type=click.Path())
 @click.command(no_args_is_help=True)
 @click.pass_context
-def cli(
-    ctx: click.Context, path: Path, config_regex: Pattern[str], summary: bool
-) -> None:
+def cli(ctx: click.Context, path: Path, config_regex: Pattern[str], summary: bool) -> None:
     """Ensure your SOPS secrets are encrypterd."""
     ctx.ensure_object(dict)
 
     received_path = Path(path)
 
     creation_rules = []
     for match_path in find_all_files_by_regex(config_regex, received_path):
         for config in load_all_yaml(Path(match_path)):
             try:
                 creation_rules += config["creation_rules"]
-                click.secho(
-                    message=f"Found config file: {match_path}", bold=True, fg="blue"
-                )
+                click.secho(message=f"Found config file: {match_path}", bold=True, fg="blue")
             except KeyError:
                 click.secho(message=f"WARNING: skipping '{match_path}'", fg="yellow")
                 continue
 
     if not creation_rules:
         click.secho(
             message="No valid config file found.",
@@ -174,18 +168,14 @@
                 bold=True,
                 nl=True,
                 fg="red",
             )
         else:
             for entry in bad_keys_summary:
                 click.secho(message=entry, bold=False, fg="red", nl=True)
-            click.secho(
-                message=f"{good_keys_number} safe ", bold=True, nl=False, fg="green"
-            )
-            click.secho(
-                message=f"{bad_keys_number} unsafe", bold=True, nl=True, fg="red"
-            )
+            click.secho(message=f"{good_keys_number} safe ", bold=True, nl=False, fg="green")
+            click.secho(message=f"{bad_keys_number} unsafe", bold=True, nl=True, fg="red")
 
     if bad_keys_number or broken_yaml_found:
         ctx.exit(1)
 
     ctx.exit(0)
```

### Comparing `isops-0.2.0/isops/utils/helpers.py` & `isops-0.2.1/isops/utils/helpers.py`

 * *Files 5% similar despite different names*

```diff
@@ -83,17 +83,15 @@
         elif isinstance(value, list):
             for elem in value:
                 yield from all_dict_values(elem)
         elif not isinstance(value, dict):
             yield key, str(value)
 
 
-def find_all_files_by_regex(
-    regex: Pattern[str], path: Path
-) -> Generator[Path, None, None]:
+def find_all_files_by_regex(regex: Pattern[str], path: Path) -> Generator[Path, None, None]:
     """Find all the files that match a regular expression.
 
     Args:
         regex (Pattern[str]): Regex pattern.
         path (Path): Path of the root directory to search.
 
     Yields:
```

### Comparing `isops-0.2.0/isops/utils/sops.py` & `isops-0.2.1/isops/utils/sops.py`

 * *Files identical despite different names*

### Comparing `isops-0.2.0/pyproject.toml` & `isops-0.2.1/pyproject.toml`

 * *Files 19% similar despite different names*

```diff
@@ -1,45 +1,46 @@
 [tool.poetry]
 name = "isops"
-version = "0.2.0"
+version = "0.2.1"
 description = "Utility to ensure SOPS secrets are encrypterd."
 authors = ["Lorenzo Maffioli <lorenzo.maffioli@gmail.com>"]
 readme = "README.md"
 
 repository = "https://github.com/lorenzophys/isops"
 keywords = ["isops", "sops", "secrets"]
 
 [tool.poetry.scripts]
 isops = "isops.cli:cli"
 
 [tool.poetry.dependencies]
-python = "^3.7"
+python = "^3.9"
 click = "^8.1.3"
-ruamel-yaml = "^0.17.21"
+ruamel-yaml = "^0.18.0"
+setuptools = "^69.5.1"
 
 [tool.poetry.group.dev.dependencies]
-black = "^22.10.0"
+black = "^24.0.0"
 isort = "^5.10.1"
-pytest = "^7.2.0"
-pytest-cov = "^4.0.0"
-flake8 = "^5.0.4"
-flake8-simplify = "^0.19.3"
-flake8-bugbear = "^22.10.27"
+pytest = "^8.0.0"
+pytest-cov = "^5.0.0"
+flake8 = "^7.0.0"
+flake8-simplify = "^0.21.0"
+flake8-bugbear = "^24.0.0"
 flake8-comprehensions = "^3.10.1"
-mypy = "^0.990"
+mypy = "^1.0.0"
 types-pyyaml = "^6.0.12.2"
 types-setuptools = "^65.5.0.2"
 pydocstyle = "^6.1.1"
 toml = "^0.10.2"
-pre-commit = "^2.20.0"
+pre-commit = "^3.0.0"
 tox = "^3.27.0"
 tox-pyenv = "^1.1.0"
 
 [tool.black]
-max-line-length = 100
+line-length = 100
 
 [tool.isort]
 profile = "black"
 
 [build-system]
 requires = ["poetry-core"]
 build-backend = "poetry.core.masonry.api"
```

### Comparing `isops-0.2.0/setup.py` & `isops-0.2.1/PKG-INFO`

 * *Files 15% similar despite different names*

```diff
@@ -1,34 +1,222 @@
-# -*- coding: utf-8 -*-
-from setuptools import setup
+Metadata-Version: 2.1
+Name: isops
+Version: 0.2.1
+Summary: Utility to ensure SOPS secrets are encrypterd.
+Home-page: https://github.com/lorenzophys/isops
+Keywords: isops,sops,secrets
+Author: Lorenzo Maffioli
+Author-email: lorenzo.maffioli@gmail.com
+Requires-Python: >=3.9,<4.0
+Classifier: Programming Language :: Python :: 3
+Classifier: Programming Language :: Python :: 3.9
+Classifier: Programming Language :: Python :: 3.10
+Classifier: Programming Language :: Python :: 3.11
+Classifier: Programming Language :: Python :: 3.12
+Requires-Dist: click (>=8.1.3,<9.0.0)
+Requires-Dist: ruamel-yaml (>=0.18.0,<0.19.0)
+Requires-Dist: setuptools (>=69.5.1,<70.0.0)
+Project-URL: Repository, https://github.com/lorenzophys/isops
+Description-Content-Type: text/markdown
+
+# IsOPS: **Is** **OP**erations **S**ecure
+
+![release](https://img.shields.io/github/v/release/lorenzophys/isops)
+[![codecov](https://codecov.io/gh/lorenzophys/isops/branch/main/graph/badge.svg?token=7RQ5P3X22D)](https://codecov.io/gh/lorenzophys/isops)
+![GitHub Workflow Status (with branch)](https://img.shields.io/github/actions/workflow/status/lorenzophys/isops/test-workflow.yml?branch=main&label=tests)
+![pver](https://img.shields.io/pypi/pyversions/isops)
+![MIT](https://img.shields.io/github/license/lorenzophys/isops)
+
+```ascii
+__/\\\\\\\\\\\____________________/\\\\\_______/\\\\\\\\\\\\\_______/\\\\\\\\\\\___        
+ _\/////\\\///___________________/\\\///\\\____\/\\\/////////\\\___/\\\/////////\\\_       
+  _____\/\\\____________________/\\\/__\///\\\__\/\\\_______\/\\\__\//\\\______\///__      
+   _____\/\\\______/\\\\\\\\\\__/\\\______\//\\\_\/\\\\\\\\\\\\\/____\////\\\_________     
+    _____\/\\\_____\/\\\//////__\/\\\_______\/\\\_\/\\\/////////_________\////\\\______    
+     _____\/\\\_____\/\\\\\\\\\\_\//\\\______/\\\__\/\\\_____________________\////\\\___   
+      _____\/\\\_____\////////\\\__\///\\\__/\\\____\/\\\______________/\\\______\//\\\__  
+       __/\\\\\\\\\\\__/\\\\\\\\\\____\///\\\\\/_____\/\\\_____________\///\\\\\\\\\\\/___ 
+        _\///////////__\//////////_______\/////_______\///________________\///////////_____
+
+```
+
+IsOPS (**Is** **OP**erations **S**ecure) is a minimal command line utility that helps you ensure that your secrets are encrypted correctly with [sops](https://github.com/mozilla/sops) before committing them. `isops` will read your configuration files, will scan all your secrets and alerts you if it finds any key that should be encrypted but it's not.
+
+## Installation
+
+You can install `isops` via `pip`:
+
+```console
+user@laptop:~$ pip install isops
+```
+
+The CLI is minimal:
+
+```console
+user@laptop:~$ isops
+Usage: isops [OPTIONS] PATH
+
+  Utility to ensure all SOPS secrets are encrypterd.
+
+Options:
+  -s, --summary            Print a summary at the end of the checks.
+  -h, --help               Show this message and exit.
+  -v, --version            Show the version and exit.
+  -r, --config-regex TEXT  The regex that matches all the config files to use.
+                           [required]
+```
+
+You must provide a directory to scan and a regex that matches all the sops configuration files.
+
+## How it works?
+
+`isops` is called with a directory and a regex. Then:
+
+1. It finds the config files using the provided regex.
+2. For each rule in `creation_rules` it finds the files according to the `path_regex`.
+3. For each file found, it scans all the keys, no matter how nested the yaml is, in search for those keys that match the `encrypted_regex`.
+4. For each matched key, it checks if the associated value matches the sops regex `"^ENC\[AES256_GCM,data:(.+),iv:(.+),tag:(.+),type:(.+)\]"`.
+
+If the config file doesn't provide a `path_regex` or a `encrypted_regex`, the default values are, respectively, `".ya?ml$"` and `""`.
+
+## Usage example
+
+Suppose you have this situation:
+
+```text
+example
+├── .sops.yaml
+└── secret.yaml
+```
+
+A `.sops.yaml`:
+
+```yaml
+creation_rules:
+  - path_regex: (.*)?secret.yaml$
+    encrypted_regex: "^(data|stringData)$"
+    pgp: "FBC7B9E2A4F9289AC0C1D4843D16CEE4A27381B4"
+```
+
+and a `secret.yaml`:
+
+```yaml
+apiVersion: v1
+data:
+  key: aGhkZDg4OGRoODRmaDQ4ZmJlbnNta21rbHdtc2k4
+kind: Secret
+metadata:
+  name: api-key
+type: Opaque
+```
+
+If you run `isops` you get a warning because your secret is not encrypted:
+
+```console
+user@laptop:~$ isops ./example --config-regex .sops.yaml
+Found config file: example/.sops.yaml
+---
+example/secret.yaml::key [UNSAFE]
+user@laptop:~$ echo $?
+1
+```
+
+If the same secret is encrypted with sops:
+
+```yaml
+apiVersion: v1
+data:
+    key: ENC[AES256_GCM,data:iCBh27Ort/dNVhP9D4y/AqI5d78U+2EHtHPX9u0/s9ANhA2VeqKSOQ==,iv:HkQVUgB6nvN3TU355K/PTU2NroahHAdoJhzJdgZFMwo=,tag:ayNppVmYJ/MLGrW9RtjV1A==,type:str]
+kind: Secret
+metadata:
+    name: api-key
+type: Opaque
+sops:
+    etc...
+
+```
+
+then `isops` will give you the green light:
+
+```console
+user@laptop:~$ isops ./example --config-regex .sops.yaml
+Found config file: example/.sops.yaml
+---
+example/secret.yaml::key [SAFE]
+user@laptop:~$ echo $?
+0
+```
+
+## Another example
+
+You can have a more complicated scenario where there are multiple sops configuration files, multiple environments and lots of secrets.
+
+Suppose you have this situation:
+
+```text
+example
+├── .sops
+│   ├── sops-dev.yaml
+│   └── sops-prod.yaml
+├── dev
+│   ├── api-key-secret.yaml        <- Encrypted
+│   ├── db-password-secret.yaml    <- Encrypted
+│   ├── deployment.yaml
+│   └── service.yaml
+└── prod
+    ├── api-key-secret.yaml        <- Not encrypted!
+    ├── db-password-secret.yaml    <- Encrypted
+    ├── deployment.yaml
+    └── service.yaml
+```
+
+Then if you run `isops` you get:
+
+```console
+user@laptop:~$ isops example --config-regex "example/.sops/(.*).yaml$"
+Found config file: example/.sops/sops-dev.yaml
+Found config file: example/.sops/sops-prod.yaml
+---
+example/dev/db-password-secret.yaml::password [SAFE]
+example/dev/api-key-secret.yaml::key [SAFE]
+example/prod/db-password-secret.yaml::password [SAFE]
+example/prod/api-key-secret.yaml::key [UNSAFE]
+```
+
+Sometimes the list of secret is very long: you can enable a small summary at the end with the `--summary` option:
+
+```console
+user@laptop:~$ isops example --config-regex "example/.sops/(.*).yaml$" --summary
+Found config file: example/.sops/sops-dev.yaml
+Found config file: example/.sops/sops-prod.yaml
+---
+example/dev/db-password-secret.yaml::password [SAFE]
+example/dev/api-key-secret.yaml::key [SAFE]
+example/prod/db-password-secret.yaml::password [SAFE]
+example/prod/api-key-secret.yaml::key [UNSAFE]
+---
+Summary:
+UNSAFE secret 'key' in 'example/prod/api-key-secret.yaml'
+3 safe 1 unsafe
+```
+
+The previous example can be found in the `example` directory. The sample application was generated by [ChatGPT](https://chat.openai.com/chat) with the prompt: "Please, generate an example Kubernetes application with two secrets".
+
+## `pre-commit` hook
+
+`isops` can be also used as a [pre-commit](https://pre-commit.com) hook. For example:
+
+```yaml
+repos:
+  - repo: https://github.com/lorenzophys/isops
+    rev: v0.2.0
+    hooks:
+      - id: isops
+        args:
+          - --config-regex=.sops/(.*).ya?ml$
+          - --summary
+```
 
-packages = \
-['isops', 'isops.utils']
+## License
 
-package_data = \
-{'': ['*']}
+This project is licensed under the **MIT License** - see the *LICENSE* file for details.
 
-install_requires = \
-['click>=8.1.3,<9.0.0', 'ruamel-yaml>=0.17.21,<0.18.0']
-
-entry_points = \
-{'console_scripts': ['isops = isops.cli:cli']}
-
-setup_kwargs = {
-    'name': 'isops',
-    'version': '0.2.0',
-    'description': 'Utility to ensure SOPS secrets are encrypterd.',
-    'long_description': '# IsOPS: **Is** **OP**erations **S**ecure\n\n![release](https://img.shields.io/github/v/release/lorenzophys/isops)\n[![codecov](https://codecov.io/gh/lorenzophys/isops/branch/main/graph/badge.svg?token=7RQ5P3X22D)](https://codecov.io/gh/lorenzophys/isops)\n![GitHub Workflow Status (with branch)](https://img.shields.io/github/actions/workflow/status/lorenzophys/isops/test-workflow.yml?branch=main&label=tests)\n![pver](https://img.shields.io/pypi/pyversions/isops)\n![MIT](https://img.shields.io/github/license/lorenzophys/isops)\n\n```ascii\n__/\\\\\\\\\\\\\\\\\\\\\\____________________/\\\\\\\\\\_______/\\\\\\\\\\\\\\\\\\\\\\\\\\_______/\\\\\\\\\\\\\\\\\\\\\\___        \n _\\/////\\\\\\///___________________/\\\\\\///\\\\\\____\\/\\\\\\/////////\\\\\\___/\\\\\\/////////\\\\\\_       \n  _____\\/\\\\\\____________________/\\\\\\/__\\///\\\\\\__\\/\\\\\\_______\\/\\\\\\__\\//\\\\\\______\\///__      \n   _____\\/\\\\\\______/\\\\\\\\\\\\\\\\\\\\__/\\\\\\______\\//\\\\\\_\\/\\\\\\\\\\\\\\\\\\\\\\\\\\/____\\////\\\\\\_________     \n    _____\\/\\\\\\_____\\/\\\\\\//////__\\/\\\\\\_______\\/\\\\\\_\\/\\\\\\/////////_________\\////\\\\\\______    \n     _____\\/\\\\\\_____\\/\\\\\\\\\\\\\\\\\\\\_\\//\\\\\\______/\\\\\\__\\/\\\\\\_____________________\\////\\\\\\___   \n      _____\\/\\\\\\_____\\////////\\\\\\__\\///\\\\\\__/\\\\\\____\\/\\\\\\______________/\\\\\\______\\//\\\\\\__  \n       __/\\\\\\\\\\\\\\\\\\\\\\__/\\\\\\\\\\\\\\\\\\\\____\\///\\\\\\\\\\/_____\\/\\\\\\_____________\\///\\\\\\\\\\\\\\\\\\\\\\/___ \n        _\\///////////__\\//////////_______\\/////_______\\///________________\\///////////_____\n\n```\n\nIsOPS (**Is** **OP**erations **S**ecure) is a minimal command line utility that helps you ensure that your secrets are encrypted correctly with [sops](https://github.com/mozilla/sops) before committing them. `isops` will read your configuration files, will scan all your secrets and alerts you if it finds any key that should be encrypted but it\'s not.\n\n## Installation\n\nYou can install `isops` via `pip`:\n\n```console\nuser@laptop:~$ pip install isops\n```\n\nThe CLI is minimal:\n\n```console\nuser@laptop:~$ isops\nUsage: isops [OPTIONS] PATH\n\n  Utility to ensure all SOPS secrets are encrypterd.\n\nOptions:\n  -s, --summary            Print a summary at the end of the checks.\n  -h, --help               Show this message and exit.\n  -v, --version            Show the version and exit.\n  -r, --config-regex TEXT  The regex that matches all the config files to use.\n                           [required]\n```\n\nYou must provide a directory to scan and a regex that matches all the sops configuration files.\n\n## How it works?\n\n`isops` is called with a directory and a regex. Then:\n\n1. It finds the config files using the provided regex.\n2. For each rule in `creation_rules` it finds the files according to the `path_regex`.\n3. For each file found, it scans all the keys, no matter how nested the yaml is, in search for those keys that match the `encrypted_regex`.\n4. For each matched key, it checks if the associated value matches the sops regex `"^ENC\\[AES256_GCM,data:(.+),iv:(.+),tag:(.+),type:(.+)\\]"`.\n\nIf the config file doesn\'t provide a `path_regex` or a `encrypted_regex`, the default values are, respectively, `".ya?ml$"` and `""`.\n\n## Usage example\n\nSuppose you have this situation:\n\n```text\nexample\n├── .sops.yaml\n└── secret.yaml\n```\n\nA `.sops.yaml`:\n\n```yaml\ncreation_rules:\n  - path_regex: (.*)?secret.yaml$\n    encrypted_regex: "^(data|stringData)$"\n    pgp: "FBC7B9E2A4F9289AC0C1D4843D16CEE4A27381B4"\n```\n\nand a `secret.yaml`:\n\n```yaml\napiVersion: v1\ndata:\n  key: aGhkZDg4OGRoODRmaDQ4ZmJlbnNta21rbHdtc2k4\nkind: Secret\nmetadata:\n  name: api-key\ntype: Opaque\n```\n\nIf you run `isops` you get a warning because your secret is not encrypted:\n\n```console\nuser@laptop:~$ isops ./example --config-regex .sops.yaml\nFound config file: example/.sops.yaml\nexample/secret.yaml::key [UNSAFE]\nuser@laptop:~$ echo $?\n1\n```\n\nIf the same secret is encrypted with sops:\n\n```yaml\napiVersion: v1\ndata:\n    key: ENC[AES256_GCM,data:iCBh27Ort/dNVhP9D4y/AqI5d78U+2EHtHPX9u0/s9ANhA2VeqKSOQ==,iv:HkQVUgB6nvN3TU355K/PTU2NroahHAdoJhzJdgZFMwo=,tag:ayNppVmYJ/MLGrW9RtjV1A==,type:str]\nkind: Secret\nmetadata:\n    name: api-key\ntype: Opaque\nsops:\n    etc...\n\n```\n\nthen `isops` will give you the green light:\n\n```console\nuser@laptop:~$ isops ./example --config-regex .sops.yaml\nFound config file: example/.sops.yaml\nexample/secret.yaml::key [SAFE]\nuser@laptop:~$ echo $?\n0\n```\n\n## Another example\n\nYou can have a more complicated scenario where there are multiple sops configuration files, multiple environments and lots of secrets.\n\nSuppose you have this situation:\n\n```text\nexample\n├── .sops\n│   ├── sops-dev.yaml\n│   └── sops-prod.yaml\n├── dev\n│   ├── api-key-secret.yaml        <- Encrypted\n│   ├── db-password-secret.yaml    <- Encrypted\n│   ├── deployment.yaml\n│   └── service.yaml\n└── prod\n    ├── api-key-secret.yaml        <- Not encrypted!\n    ├── db-password-secret.yaml    <- Encrypted\n    ├── deployment.yaml\n    └── service.yaml\n```\n\nThen if you run `isops` you get:\n\n```console\nuser@laptop:~$ isops example --config-regex "example/.sops/(.*).yaml$"\nFound config file: example/.sops/sops-dev.yaml\nFound config file: example/.sops/sops-prod.yaml\nexample/dev/db-password-secret.yaml::password [SAFE]\nexample/dev/api-key-secret.yaml::key [SAFE]\nexample/prod/db-password-secret.yaml::password [SAFE]\nexample/prod/api-key-secret.yaml::key [UNSAFE]\n```\n\nSometimes the list of secret is very long: you can enable a small summary at the end with the `--summary` option:\n\n```console\nuser@laptop:~$ isops example --config-regex "example/.sops/(.*).yaml$" --summary\nFound config file: example/.sops/sops-dev.yaml\nFound config file: example/.sops/sops-prod.yaml\nexample/dev/db-password-secret.yaml::password [SAFE]\nexample/dev/api-key-secret.yaml::key [SAFE]\nexample/prod/db-password-secret.yaml::password [SAFE]\nexample/prod/api-key-secret.yaml::key [UNSAFE]\n---\nSummary:\nUNSAFE secret \'key\' in \'example/prod/api-key-secret.yaml\'\n3 safe 1 unsafe\n```\n\nThe previous example can be found in the `example` directory. The sample application was generated by [ChatGPT](https://chat.openai.com/chat) with the prompt: "Please, generate an example Kubernetes application with two secrets".\n\n## Pre-commit hook\n\n`isops` can be also used as a [pre-commit](https://pre-commit.com) hook. For example:\n\n```yaml\nrepos:\n  - repo: https://github.com/lorenzophys/isops\n    rev: v0.2.0\n    hooks:\n      - id: isops\n        args:\n          - --config-regex=.sops/(.*).ya?ml$\n          - --summary\n```\n\n## License\n\nThis project is licensed under the **MIT License** - see the *LICENSE* file for details.\n',
-    'author': 'Lorenzo Maffioli',
-    'author_email': 'lorenzo.maffioli@gmail.com',
-    'maintainer': 'None',
-    'maintainer_email': 'None',
-    'url': 'https://github.com/lorenzophys/isops',
-    'packages': packages,
-    'package_data': package_data,
-    'install_requires': install_requires,
-    'entry_points': entry_points,
-    'python_requires': '>=3.7,<4.0',
-}
-
-
-setup(**setup_kwargs)
```

